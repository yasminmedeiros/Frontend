{"ast":null,"code":"\"use strict\";\n\nvar twoProduct = require(\"two-product\");\nvar robustSum = require(\"robust-sum\");\nvar robustScale = require(\"robust-scale\");\nvar compress = require(\"robust-compress\");\nvar NUM_EXPANDED = 6;\nfunction cofactor(m, c) {\n  var result = new Array(m.length - 1);\n  for (var i = 1; i < m.length; ++i) {\n    var r = result[i - 1] = new Array(m.length - 1);\n    for (var j = 0, k = 0; j < m.length; ++j) {\n      if (j === c) {\n        continue;\n      }\n      r[k++] = m[i][j];\n    }\n  }\n  return result;\n}\nfunction matrix(n) {\n  var result = new Array(n);\n  for (var i = 0; i < n; ++i) {\n    result[i] = new Array(n);\n    for (var j = 0; j < n; ++j) {\n      result[i][j] = [\"m[\", i, \"][\", j, \"]\"].join(\"\");\n    }\n  }\n  return result;\n}\nfunction sign(n) {\n  if (n & 1) {\n    return \"-\";\n  }\n  return \"\";\n}\nfunction generateSum(expr) {\n  if (expr.length === 1) {\n    return expr[0];\n  } else if (expr.length === 2) {\n    return [\"sum(\", expr[0], \",\", expr[1], \")\"].join(\"\");\n  } else {\n    var m = expr.length >> 1;\n    return [\"sum(\", generateSum(expr.slice(0, m)), \",\", generateSum(expr.slice(m)), \")\"].join(\"\");\n  }\n}\nfunction determinant(m) {\n  if (m.length === 2) {\n    return [\"sum(prod(\", m[0][0], \",\", m[1][1], \"),prod(-\", m[0][1], \",\", m[1][0], \"))\"].join(\"\");\n  } else {\n    var expr = [];\n    for (var i = 0; i < m.length; ++i) {\n      expr.push([\"scale(\", determinant(cofactor(m, i)), \",\", sign(i), m[0][i], \")\"].join(\"\"));\n    }\n    return generateSum(expr);\n  }\n}\nfunction compileDeterminant(n) {\n  var proc = new Function(\"sum\", \"scale\", \"prod\", \"compress\", [\"function robustDeterminant\", n, \"(m){return compress(\", determinant(matrix(n)), \")};return robustDeterminant\", n].join(\"\"));\n  return proc(robustSum, robustScale, twoProduct, compress);\n}\nvar CACHE = [function robustDeterminant0() {\n  return [0];\n}, function robustDeterminant1(m) {\n  return [m[0][0]];\n}];\nfunction generateDispatch() {\n  while (CACHE.length < NUM_EXPANDED) {\n    CACHE.push(compileDeterminant(CACHE.length));\n  }\n  var procArgs = [];\n  var code = [\"function robustDeterminant(m){switch(m.length){\"];\n  for (var i = 0; i < NUM_EXPANDED; ++i) {\n    procArgs.push(\"det\" + i);\n    code.push(\"case \", i, \":return det\", i, \"(m);\");\n  }\n  code.push(\"}\\\nvar det=CACHE[m.length];\\\nif(!det)\\\ndet=CACHE[m.length]=gen(m.length);\\\nreturn det(m);\\\n}\\\nreturn robustDeterminant\");\n  procArgs.push(\"CACHE\", \"gen\", code.join(\"\"));\n  var proc = Function.apply(undefined, procArgs);\n  module.exports = proc.apply(undefined, CACHE.concat([CACHE, compileDeterminant]));\n  for (var i = 0; i < CACHE.length; ++i) {\n    module.exports[i] = CACHE[i];\n  }\n}\ngenerateDispatch();","map":{"version":3,"names":["twoProduct","require","robustSum","robustScale","compress","NUM_EXPANDED","cofactor","m","c","result","Array","length","i","r","j","k","matrix","n","join","sign","generateSum","expr","slice","determinant","push","compileDeterminant","proc","Function","CACHE","robustDeterminant0","robustDeterminant1","generateDispatch","procArgs","code","apply","undefined","module","exports","concat"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/robust-determinant/robust-determinant.js"],"sourcesContent":["\"use strict\"\n\nvar twoProduct = require(\"two-product\")\nvar robustSum = require(\"robust-sum\")\nvar robustScale = require(\"robust-scale\")\nvar compress = require(\"robust-compress\")\n\nvar NUM_EXPANDED = 6\n\nfunction cofactor(m, c) {\n  var result = new Array(m.length-1)\n  for(var i=1; i<m.length; ++i) {\n    var r = result[i-1] = new Array(m.length-1)\n    for(var j=0,k=0; j<m.length; ++j) {\n      if(j === c) {\n        continue\n      }\n      r[k++] = m[i][j]\n    }\n  }\n  return result\n}\n\nfunction matrix(n) {\n  var result = new Array(n)\n  for(var i=0; i<n; ++i) {\n    result[i] = new Array(n)\n    for(var j=0; j<n; ++j) {\n      result[i][j] = [\"m[\", i, \"][\", j, \"]\"].join(\"\")\n    }\n  }\n  return result\n}\n\nfunction sign(n) {\n  if(n & 1) {\n    return \"-\"\n  }\n  return \"\"\n}\n\nfunction generateSum(expr) {\n  if(expr.length === 1) {\n    return expr[0]\n  } else if(expr.length === 2) {\n    return [\"sum(\", expr[0], \",\", expr[1], \")\"].join(\"\")\n  } else {\n    var m = expr.length>>1\n    return [\"sum(\", generateSum(expr.slice(0, m)), \",\", generateSum(expr.slice(m)), \")\"].join(\"\")\n  }\n}\n\nfunction determinant(m) {\n  if(m.length === 2) {\n    return [\"sum(prod(\", m[0][0], \",\", m[1][1], \"),prod(-\", m[0][1], \",\", m[1][0], \"))\"].join(\"\")\n  } else {\n    var expr = []\n    for(var i=0; i<m.length; ++i) {\n      expr.push([\"scale(\", determinant(cofactor(m, i)), \",\", sign(i), m[0][i], \")\"].join(\"\"))\n    }\n    return generateSum(expr)\n  }\n}\n\nfunction compileDeterminant(n) {\n  var proc = new Function(\"sum\", \"scale\", \"prod\", \"compress\", [\n    \"function robustDeterminant\",n, \"(m){return compress(\", \n      determinant(matrix(n)),\n    \")};return robustDeterminant\", n].join(\"\"))\n  return proc(robustSum, robustScale, twoProduct, compress)\n}\n\nvar CACHE = [\n  function robustDeterminant0() { return [0] },\n  function robustDeterminant1(m) { return [m[0][0]] }\n]\n\nfunction generateDispatch() {\n  while(CACHE.length < NUM_EXPANDED) {\n    CACHE.push(compileDeterminant(CACHE.length))\n  }\n  var procArgs = []\n  var code = [\"function robustDeterminant(m){switch(m.length){\"]\n  for(var i=0; i<NUM_EXPANDED; ++i) {\n    procArgs.push(\"det\" + i)\n    code.push(\"case \", i, \":return det\", i, \"(m);\")\n  }\n  code.push(\"}\\\nvar det=CACHE[m.length];\\\nif(!det)\\\ndet=CACHE[m.length]=gen(m.length);\\\nreturn det(m);\\\n}\\\nreturn robustDeterminant\")\n  procArgs.push(\"CACHE\", \"gen\", code.join(\"\"))\n  var proc = Function.apply(undefined, procArgs)\n  module.exports = proc.apply(undefined, CACHE.concat([CACHE, compileDeterminant]))\n  for(var i=0; i<CACHE.length; ++i) {\n    module.exports[i] = CACHE[i]\n  }\n}\n\ngenerateDispatch()"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}