{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Template = require('../../plot_api/plot_template');\nvar attributes = require('./attributes');\nvar basePlotLayoutAttributes = require('../../plots/layout_attributes');\nvar helpers = require('./helpers');\nmodule.exports = function legendDefaults(layoutIn, layoutOut, fullData) {\n  var containerIn = layoutIn.legend || {};\n  var legendTraceCount = 0;\n  var legendReallyHasATrace = false;\n  var defaultOrder = 'normal';\n  var defaultX, defaultY, defaultXAnchor, defaultYAnchor;\n  for (var i = 0; i < fullData.length; i++) {\n    var trace = fullData[i];\n    if (!trace.visible) continue;\n\n    // Note that we explicitly count any trace that is either shown or\n    // *would* be shown by default, toward the two traces you need to\n    // ensure the legend is shown by default, because this can still help\n    // disambiguate.\n    if (trace.showlegend || trace._dfltShowLegend) {\n      legendTraceCount++;\n      if (trace.showlegend) {\n        legendReallyHasATrace = true;\n        // Always show the legend by default if there's a pie,\n        // or if there's only one trace but it's explicitly shown\n        if (Registry.traceIs(trace, 'pie') || trace._input.showlegend === true) {\n          legendTraceCount++;\n        }\n      }\n    }\n    if (Registry.traceIs(trace, 'bar') && layoutOut.barmode === 'stack' || ['tonextx', 'tonexty'].indexOf(trace.fill) !== -1) {\n      defaultOrder = helpers.isGrouped({\n        traceorder: defaultOrder\n      }) ? 'grouped+reversed' : 'reversed';\n    }\n    if (trace.legendgroup !== undefined && trace.legendgroup !== '') {\n      defaultOrder = helpers.isReversed({\n        traceorder: defaultOrder\n      }) ? 'reversed+grouped' : 'grouped';\n    }\n  }\n  var showLegend = Lib.coerce(layoutIn, layoutOut, basePlotLayoutAttributes, 'showlegend', legendReallyHasATrace && legendTraceCount > 1);\n  if (showLegend === false && !containerIn.uirevision) return;\n  var containerOut = Template.newContainer(layoutOut, 'legend');\n  function coerce(attr, dflt) {\n    return Lib.coerce(containerIn, containerOut, attributes, attr, dflt);\n  }\n  coerce('uirevision', layoutOut.uirevision);\n  if (showLegend === false) return;\n  coerce('bgcolor', layoutOut.paper_bgcolor);\n  coerce('bordercolor');\n  coerce('borderwidth');\n  Lib.coerceFont(coerce, 'font', layoutOut.font);\n  coerce('orientation');\n  if (containerOut.orientation === 'h') {\n    var xaxis = layoutIn.xaxis;\n    if (Registry.getComponentMethod('rangeslider', 'isVisible')(xaxis)) {\n      defaultX = 0;\n      defaultXAnchor = 'left';\n      defaultY = 1.1;\n      defaultYAnchor = 'bottom';\n    } else {\n      defaultX = 0;\n      defaultXAnchor = 'left';\n      defaultY = -0.1;\n      defaultYAnchor = 'top';\n    }\n  }\n  coerce('traceorder', defaultOrder);\n  if (helpers.isGrouped(layoutOut.legend)) coerce('tracegroupgap');\n  coerce('x', defaultX);\n  coerce('xanchor', defaultXAnchor);\n  coerce('y', defaultY);\n  coerce('yanchor', defaultYAnchor);\n  coerce('valign');\n  Lib.noneOrAll(containerIn, containerOut, ['x', 'y']);\n};","map":{"version":3,"names":["Registry","require","Lib","Template","attributes","basePlotLayoutAttributes","helpers","module","exports","legendDefaults","layoutIn","layoutOut","fullData","containerIn","legend","legendTraceCount","legendReallyHasATrace","defaultOrder","defaultX","defaultY","defaultXAnchor","defaultYAnchor","i","length","trace","visible","showlegend","_dfltShowLegend","traceIs","_input","barmode","indexOf","fill","isGrouped","traceorder","legendgroup","undefined","isReversed","showLegend","coerce","uirevision","containerOut","newContainer","attr","dflt","paper_bgcolor","coerceFont","font","orientation","xaxis","getComponentMethod","noneOrAll"],"sources":["/home/yasmin/√Årea de Trabalho/Frontend/node_modules/plotly.js/src/components/legend/defaults.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Template = require('../../plot_api/plot_template');\n\nvar attributes = require('./attributes');\nvar basePlotLayoutAttributes = require('../../plots/layout_attributes');\nvar helpers = require('./helpers');\n\n\nmodule.exports = function legendDefaults(layoutIn, layoutOut, fullData) {\n    var containerIn = layoutIn.legend || {};\n\n    var legendTraceCount = 0;\n    var legendReallyHasATrace = false;\n    var defaultOrder = 'normal';\n\n    var defaultX, defaultY, defaultXAnchor, defaultYAnchor;\n\n    for(var i = 0; i < fullData.length; i++) {\n        var trace = fullData[i];\n\n        if(!trace.visible) continue;\n\n        // Note that we explicitly count any trace that is either shown or\n        // *would* be shown by default, toward the two traces you need to\n        // ensure the legend is shown by default, because this can still help\n        // disambiguate.\n        if(trace.showlegend || trace._dfltShowLegend) {\n            legendTraceCount++;\n            if(trace.showlegend) {\n                legendReallyHasATrace = true;\n                // Always show the legend by default if there's a pie,\n                // or if there's only one trace but it's explicitly shown\n                if(Registry.traceIs(trace, 'pie') ||\n                    trace._input.showlegend === true\n                ) {\n                    legendTraceCount++;\n                }\n            }\n        }\n\n        if((Registry.traceIs(trace, 'bar') && layoutOut.barmode === 'stack') ||\n                ['tonextx', 'tonexty'].indexOf(trace.fill) !== -1) {\n            defaultOrder = helpers.isGrouped({traceorder: defaultOrder}) ?\n                'grouped+reversed' : 'reversed';\n        }\n\n        if(trace.legendgroup !== undefined && trace.legendgroup !== '') {\n            defaultOrder = helpers.isReversed({traceorder: defaultOrder}) ?\n                'reversed+grouped' : 'grouped';\n        }\n    }\n\n    var showLegend = Lib.coerce(layoutIn, layoutOut,\n        basePlotLayoutAttributes, 'showlegend',\n        legendReallyHasATrace && legendTraceCount > 1);\n\n    if(showLegend === false && !containerIn.uirevision) return;\n\n    var containerOut = Template.newContainer(layoutOut, 'legend');\n\n    function coerce(attr, dflt) {\n        return Lib.coerce(containerIn, containerOut, attributes, attr, dflt);\n    }\n\n    coerce('uirevision', layoutOut.uirevision);\n\n    if(showLegend === false) return;\n\n    coerce('bgcolor', layoutOut.paper_bgcolor);\n    coerce('bordercolor');\n    coerce('borderwidth');\n    Lib.coerceFont(coerce, 'font', layoutOut.font);\n\n    coerce('orientation');\n    if(containerOut.orientation === 'h') {\n        var xaxis = layoutIn.xaxis;\n        if(Registry.getComponentMethod('rangeslider', 'isVisible')(xaxis)) {\n            defaultX = 0;\n            defaultXAnchor = 'left';\n            defaultY = 1.1;\n            defaultYAnchor = 'bottom';\n        }\n        else {\n            defaultX = 0;\n            defaultXAnchor = 'left';\n            defaultY = -0.1;\n            defaultYAnchor = 'top';\n        }\n    }\n\n    coerce('traceorder', defaultOrder);\n    if(helpers.isGrouped(layoutOut.legend)) coerce('tracegroupgap');\n\n    coerce('x', defaultX);\n    coerce('xanchor', defaultXAnchor);\n    coerce('y', defaultY);\n    coerce('yanchor', defaultYAnchor);\n    coerce('valign');\n    Lib.noneOrAll(containerIn, containerOut, ['x', 'y']);\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,YAAY;;AAEZ,IAAIA,QAAQ,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AACxC,IAAIC,GAAG,GAAGD,OAAO,CAAC,WAAW,CAAC;AAC9B,IAAIE,QAAQ,GAAGF,OAAO,CAAC,8BAA8B,CAAC;AAEtD,IAAIG,UAAU,GAAGH,OAAO,CAAC,cAAc,CAAC;AACxC,IAAII,wBAAwB,GAAGJ,OAAO,CAAC,+BAA+B,CAAC;AACvE,IAAIK,OAAO,GAAGL,OAAO,CAAC,WAAW,CAAC;AAGlCM,MAAM,CAACC,OAAO,GAAG,SAASC,cAAc,CAACC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,EAAE;EACpE,IAAIC,WAAW,GAAGH,QAAQ,CAACI,MAAM,IAAI,CAAC,CAAC;EAEvC,IAAIC,gBAAgB,GAAG,CAAC;EACxB,IAAIC,qBAAqB,GAAG,KAAK;EACjC,IAAIC,YAAY,GAAG,QAAQ;EAE3B,IAAIC,QAAQ,EAAEC,QAAQ,EAAEC,cAAc,EAAEC,cAAc;EAEtD,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,QAAQ,CAACW,MAAM,EAAED,CAAC,EAAE,EAAE;IACrC,IAAIE,KAAK,GAAGZ,QAAQ,CAACU,CAAC,CAAC;IAEvB,IAAG,CAACE,KAAK,CAACC,OAAO,EAAE;;IAEnB;IACA;IACA;IACA;IACA,IAAGD,KAAK,CAACE,UAAU,IAAIF,KAAK,CAACG,eAAe,EAAE;MAC1CZ,gBAAgB,EAAE;MAClB,IAAGS,KAAK,CAACE,UAAU,EAAE;QACjBV,qBAAqB,GAAG,IAAI;QAC5B;QACA;QACA,IAAGhB,QAAQ,CAAC4B,OAAO,CAACJ,KAAK,EAAE,KAAK,CAAC,IAC7BA,KAAK,CAACK,MAAM,CAACH,UAAU,KAAK,IAAI,EAClC;UACEX,gBAAgB,EAAE;QACtB;MACJ;IACJ;IAEA,IAAIf,QAAQ,CAAC4B,OAAO,CAACJ,KAAK,EAAE,KAAK,CAAC,IAAIb,SAAS,CAACmB,OAAO,KAAK,OAAO,IAC3D,CAAC,SAAS,EAAE,SAAS,CAAC,CAACC,OAAO,CAACP,KAAK,CAACQ,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;MACvDf,YAAY,GAAGX,OAAO,CAAC2B,SAAS,CAAC;QAACC,UAAU,EAAEjB;MAAY,CAAC,CAAC,GACxD,kBAAkB,GAAG,UAAU;IACvC;IAEA,IAAGO,KAAK,CAACW,WAAW,KAAKC,SAAS,IAAIZ,KAAK,CAACW,WAAW,KAAK,EAAE,EAAE;MAC5DlB,YAAY,GAAGX,OAAO,CAAC+B,UAAU,CAAC;QAACH,UAAU,EAAEjB;MAAY,CAAC,CAAC,GACzD,kBAAkB,GAAG,SAAS;IACtC;EACJ;EAEA,IAAIqB,UAAU,GAAGpC,GAAG,CAACqC,MAAM,CAAC7B,QAAQ,EAAEC,SAAS,EAC3CN,wBAAwB,EAAE,YAAY,EACtCW,qBAAqB,IAAID,gBAAgB,GAAG,CAAC,CAAC;EAElD,IAAGuB,UAAU,KAAK,KAAK,IAAI,CAACzB,WAAW,CAAC2B,UAAU,EAAE;EAEpD,IAAIC,YAAY,GAAGtC,QAAQ,CAACuC,YAAY,CAAC/B,SAAS,EAAE,QAAQ,CAAC;EAE7D,SAAS4B,MAAM,CAACI,IAAI,EAAEC,IAAI,EAAE;IACxB,OAAO1C,GAAG,CAACqC,MAAM,CAAC1B,WAAW,EAAE4B,YAAY,EAAErC,UAAU,EAAEuC,IAAI,EAAEC,IAAI,CAAC;EACxE;EAEAL,MAAM,CAAC,YAAY,EAAE5B,SAAS,CAAC6B,UAAU,CAAC;EAE1C,IAAGF,UAAU,KAAK,KAAK,EAAE;EAEzBC,MAAM,CAAC,SAAS,EAAE5B,SAAS,CAACkC,aAAa,CAAC;EAC1CN,MAAM,CAAC,aAAa,CAAC;EACrBA,MAAM,CAAC,aAAa,CAAC;EACrBrC,GAAG,CAAC4C,UAAU,CAACP,MAAM,EAAE,MAAM,EAAE5B,SAAS,CAACoC,IAAI,CAAC;EAE9CR,MAAM,CAAC,aAAa,CAAC;EACrB,IAAGE,YAAY,CAACO,WAAW,KAAK,GAAG,EAAE;IACjC,IAAIC,KAAK,GAAGvC,QAAQ,CAACuC,KAAK;IAC1B,IAAGjD,QAAQ,CAACkD,kBAAkB,CAAC,aAAa,EAAE,WAAW,CAAC,CAACD,KAAK,CAAC,EAAE;MAC/D/B,QAAQ,GAAG,CAAC;MACZE,cAAc,GAAG,MAAM;MACvBD,QAAQ,GAAG,GAAG;MACdE,cAAc,GAAG,QAAQ;IAC7B,CAAC,MACI;MACDH,QAAQ,GAAG,CAAC;MACZE,cAAc,GAAG,MAAM;MACvBD,QAAQ,GAAG,CAAC,GAAG;MACfE,cAAc,GAAG,KAAK;IAC1B;EACJ;EAEAkB,MAAM,CAAC,YAAY,EAAEtB,YAAY,CAAC;EAClC,IAAGX,OAAO,CAAC2B,SAAS,CAACtB,SAAS,CAACG,MAAM,CAAC,EAAEyB,MAAM,CAAC,eAAe,CAAC;EAE/DA,MAAM,CAAC,GAAG,EAAErB,QAAQ,CAAC;EACrBqB,MAAM,CAAC,SAAS,EAAEnB,cAAc,CAAC;EACjCmB,MAAM,CAAC,GAAG,EAAEpB,QAAQ,CAAC;EACrBoB,MAAM,CAAC,SAAS,EAAElB,cAAc,CAAC;EACjCkB,MAAM,CAAC,QAAQ,CAAC;EAChBrC,GAAG,CAACiD,SAAS,CAACtC,WAAW,EAAE4B,YAAY,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AACxD,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}