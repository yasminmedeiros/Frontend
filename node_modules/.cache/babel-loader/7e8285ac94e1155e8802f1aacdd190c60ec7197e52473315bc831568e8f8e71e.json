{"ast":null,"code":"'use strict';\n\nmodule.exports = createGLPlot2D;\nvar createPick = require('gl-select-static');\nvar createGrid = require('./lib/grid');\nvar createText = require('./lib/text');\nvar createLine = require('./lib/line');\nvar createBox = require('./lib/box');\nfunction GLPlot2D(gl, pickBuffer) {\n  this.gl = gl;\n  this.pickBuffer = pickBuffer;\n  this.screenBox = [0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight];\n  this.viewBox = [0, 0, 0, 0];\n  this.dataBox = [-10, -10, 10, 10];\n  this.gridLineEnable = [true, true];\n  this.gridLineWidth = [1, 1];\n  this.gridLineColor = [[0, 0, 0, 1], [0, 0, 0, 1]];\n  this.pixelRatio = 1;\n  this.tickMarkLength = [0, 0, 0, 0];\n  this.tickMarkWidth = [0, 0, 0, 0];\n  this.tickMarkColor = [[0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1]];\n  this.tickPad = [15, 15, 15, 15];\n  this.tickAngle = [0, 0, 0, 0];\n  this.tickEnable = [true, true, true, true];\n  this.tickColor = [[0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1]];\n  this.labelPad = [15, 15, 15, 15];\n  this.labelAngle = [0, Math.PI / 2, 0, 3.0 * Math.PI / 2];\n  this.labelEnable = [true, true, true, true];\n  this.labelColor = [[0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1]];\n  this.titleCenter = [0, 0];\n  this.titleEnable = true;\n  this.titleAngle = 0;\n  this.titleColor = [0, 0, 0, 1];\n  this.borderColor = [0, 0, 0, 0];\n  this.backgroundColor = [0, 0, 0, 0];\n  this.zeroLineEnable = [true, true];\n  this.zeroLineWidth = [4, 4];\n  this.zeroLineColor = [[0, 0, 0, 1], [0, 0, 0, 1]];\n  this.borderLineEnable = [true, true, true, true];\n  this.borderLineWidth = [2, 2, 2, 2];\n  this.borderLineColor = [[0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1]];\n\n  //Drawing parameters\n  this.grid = null;\n  this.text = null;\n  this.line = null;\n  this.box = null;\n  this.objects = [];\n  this.overlays = [];\n  this._tickBounds = [Infinity, Infinity, -Infinity, -Infinity];\n  this.static = false;\n  this.dirty = false;\n  this.pickDirty = false;\n  this.pickDelay = 120;\n  this.pickRadius = 10;\n  this._pickTimeout = null;\n  this._drawPick = this.drawPick.bind(this);\n  this._depthCounter = 0;\n}\nvar proto = GLPlot2D.prototype;\nproto.setDirty = function () {\n  this.dirty = this.pickDirty = true;\n};\nproto.setOverlayDirty = function () {\n  this.dirty = true;\n};\nproto.nextDepthValue = function () {\n  return this._depthCounter++ / 65536.0;\n};\nfunction lerp(a, b, t) {\n  var s = 0.5 * (t + 1.0);\n  return Math.floor((1.0 - s) * a + s * b) | 0;\n}\nproto.draw = function () {\n  var TICK_MARK_BOX = [0, 0, 0, 0];\n  return function () {\n    var gl = this.gl;\n    var screenBox = this.screenBox;\n    var viewPixels = this.viewBox;\n    var dataBox = this.dataBox;\n    var pixelRatio = this.pixelRatio;\n    var grid = this.grid;\n    var line = this.line;\n    var text = this.text;\n    var objects = this.objects;\n    this._depthCounter = 0;\n    if (this.pickDirty) {\n      if (this._pickTimeout) {\n        clearTimeout(this._pickTimeout);\n      }\n      this.pickDirty = false;\n      this._pickTimeout = setTimeout(this._drawPick, this.pickDelay);\n    }\n    if (!this.dirty) {\n      return;\n    }\n    this.dirty = false;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n    //Turn on scissor\n    gl.enable(gl.SCISSOR_TEST);\n\n    //Turn off depth buffer\n    gl.disable(gl.DEPTH_TEST);\n    gl.depthFunc(gl.LESS);\n    gl.depthMask(false);\n\n    //Configure premultiplied alpha blending\n    gl.enable(gl.BLEND);\n    gl.blendEquation(gl.FUNC_ADD, gl.FUNC_ADD);\n    gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\n    //Draw border\n    if (this.borderColor) {\n      gl.scissor(screenBox[0], screenBox[1], screenBox[2] - screenBox[0], screenBox[3] - screenBox[1]);\n      var borderColor = this.borderColor;\n      gl.clearColor(borderColor[0] * borderColor[3], borderColor[1] * borderColor[3], borderColor[2] * borderColor[3], borderColor[3]);\n      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    }\n\n    //Draw center pane\n    gl.scissor(viewPixels[0], viewPixels[1], viewPixels[2] - viewPixels[0], viewPixels[3] - viewPixels[1]);\n    gl.viewport(viewPixels[0], viewPixels[1], viewPixels[2] - viewPixels[0], viewPixels[3] - viewPixels[1]);\n    var backgroundColor = this.backgroundColor;\n    gl.clearColor(backgroundColor[0] * backgroundColor[3], backgroundColor[1] * backgroundColor[3], backgroundColor[2] * backgroundColor[3], backgroundColor[3]);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n\n    //Draw grid\n    grid.draw();\n\n    //Draw zero lines separately\n    var zeroLineEnable = this.zeroLineEnable;\n    var zeroLineColor = this.zeroLineColor;\n    var zeroLineWidth = this.zeroLineWidth;\n    if (zeroLineEnable[0] || zeroLineEnable[1]) {\n      line.bind();\n      for (var i = 0; i < 2; ++i) {\n        if (!zeroLineEnable[i] || !(dataBox[i] <= 0 && dataBox[i + 2] >= 0)) {\n          continue;\n        }\n        var zeroIntercept = screenBox[i] - dataBox[i] * (screenBox[i + 2] - screenBox[i]) / (dataBox[i + 2] - dataBox[i]);\n        if (i === 0) {\n          line.drawLine(zeroIntercept, screenBox[1], zeroIntercept, screenBox[3], zeroLineWidth[i], zeroLineColor[i]);\n        } else {\n          line.drawLine(screenBox[0], zeroIntercept, screenBox[2], zeroIntercept, zeroLineWidth[i], zeroLineColor[i]);\n        }\n      }\n    }\n\n    //Draw traces\n    for (var i = 0; i < objects.length; ++i) {\n      objects[i].draw();\n    }\n\n    //Return viewport to default\n    gl.viewport(screenBox[0], screenBox[1], screenBox[2] - screenBox[0], screenBox[3] - screenBox[1]);\n    gl.scissor(screenBox[0], screenBox[1], screenBox[2] - screenBox[0], screenBox[3] - screenBox[1]);\n\n    //Draw tick marks\n    this.grid.drawTickMarks();\n\n    //Draw line elements\n    line.bind();\n\n    //Draw border lines\n    var borderLineEnable = this.borderLineEnable;\n    var borderLineWidth = this.borderLineWidth;\n    var borderLineColor = this.borderLineColor;\n    if (borderLineEnable[1]) {\n      line.drawLine(viewPixels[0], viewPixels[1] - 0.5 * borderLineWidth[1] * pixelRatio, viewPixels[0], viewPixels[3] + 0.5 * borderLineWidth[3] * pixelRatio, borderLineWidth[1], borderLineColor[1]);\n    }\n    if (borderLineEnable[0]) {\n      line.drawLine(viewPixels[0] - 0.5 * borderLineWidth[0] * pixelRatio, viewPixels[1], viewPixels[2] + 0.5 * borderLineWidth[2] * pixelRatio, viewPixels[1], borderLineWidth[0], borderLineColor[0]);\n    }\n    if (borderLineEnable[3]) {\n      line.drawLine(viewPixels[2], viewPixels[1] - 0.5 * borderLineWidth[1] * pixelRatio, viewPixels[2], viewPixels[3] + 0.5 * borderLineWidth[3] * pixelRatio, borderLineWidth[3], borderLineColor[3]);\n    }\n    if (borderLineEnable[2]) {\n      line.drawLine(viewPixels[0] - 0.5 * borderLineWidth[0] * pixelRatio, viewPixels[3], viewPixels[2] + 0.5 * borderLineWidth[2] * pixelRatio, viewPixels[3], borderLineWidth[2], borderLineColor[2]);\n    }\n\n    //Draw text elements\n    text.bind();\n    for (var i = 0; i < 2; ++i) {\n      text.drawTicks(i);\n    }\n    if (this.titleEnable) {\n      text.drawTitle();\n    }\n\n    //Draw other overlay elements (select boxes, etc.)\n    var overlays = this.overlays;\n    for (var i = 0; i < overlays.length; ++i) {\n      overlays[i].draw();\n    }\n\n    //Turn off scissor test\n    gl.disable(gl.SCISSOR_TEST);\n    gl.disable(gl.BLEND);\n    gl.depthMask(true);\n  };\n}();\nproto.drawPick = function () {\n  return function () {\n    if (this.static) return;\n    var pickBuffer = this.pickBuffer;\n    var gl = this.gl;\n    this._pickTimeout = null;\n    pickBuffer.begin();\n    var pickOffset = 1;\n    var objects = this.objects;\n    for (var i = 0; i < objects.length; ++i) {\n      pickOffset = objects[i].drawPick(pickOffset);\n    }\n    pickBuffer.end();\n  };\n}();\nproto.pick = function () {\n  return function (x, y) {\n    if (this.static) return;\n    var pixelRatio = this.pixelRatio;\n    var pickPixelRatio = this.pickPixelRatio;\n    var viewBox = this.viewBox;\n    var scrX = Math.round((x - viewBox[0] / pixelRatio) * pickPixelRatio) | 0;\n    var scrY = Math.round((y - viewBox[1] / pixelRatio) * pickPixelRatio) | 0;\n    var pickResult = this.pickBuffer.query(scrX, scrY, this.pickRadius);\n    if (!pickResult) {\n      return null;\n    }\n    var pickValue = pickResult.id + (pickResult.value[0] << 8) + (pickResult.value[1] << 16) + (pickResult.value[2] << 24);\n    var objects = this.objects;\n    for (var i = 0; i < objects.length; ++i) {\n      var result = objects[i].pick(scrX, scrY, pickValue);\n      if (result) {\n        return result;\n      }\n    }\n    return null;\n  };\n}();\nfunction deepClone(array) {\n  var result = array.slice();\n  for (var i = 0; i < result.length; ++i) {\n    result[i] = result[i].slice();\n  }\n  return result;\n}\nfunction compareTicks(a, b) {\n  return a.x - b.x;\n}\nproto.setScreenBox = function (nbox) {\n  var screenBox = this.screenBox;\n  var pixelRatio = this.pixelRatio;\n  screenBox[0] = Math.round(nbox[0] * pixelRatio) | 0;\n  screenBox[1] = Math.round(nbox[1] * pixelRatio) | 0;\n  screenBox[2] = Math.round(nbox[2] * pixelRatio) | 0;\n  screenBox[3] = Math.round(nbox[3] * pixelRatio) | 0;\n  this.setDirty();\n};\nproto.setDataBox = function (nbox) {\n  var dataBox = this.dataBox;\n  var different = dataBox[0] !== nbox[0] || dataBox[1] !== nbox[1] || dataBox[2] !== nbox[2] || dataBox[3] !== nbox[3];\n  if (different) {\n    dataBox[0] = nbox[0];\n    dataBox[1] = nbox[1];\n    dataBox[2] = nbox[2];\n    dataBox[3] = nbox[3];\n    this.setDirty();\n  }\n};\nproto.setViewBox = function (nbox) {\n  var pixelRatio = this.pixelRatio;\n  var viewBox = this.viewBox;\n  viewBox[0] = Math.round(nbox[0] * pixelRatio) | 0;\n  viewBox[1] = Math.round(nbox[1] * pixelRatio) | 0;\n  viewBox[2] = Math.round(nbox[2] * pixelRatio) | 0;\n  viewBox[3] = Math.round(nbox[3] * pixelRatio) | 0;\n  var pickPixelRatio = this.pickPixelRatio;\n  this.pickBuffer.shape = [Math.round((nbox[2] - nbox[0]) * pickPixelRatio) | 0, Math.round((nbox[3] - nbox[1]) * pickPixelRatio) | 0];\n  this.setDirty();\n};\nproto.update = function (options) {\n  options = options || {};\n  var gl = this.gl;\n  this.pixelRatio = options.pixelRatio || 1;\n  var pixelRatio = this.pixelRatio;\n  this.pickPixelRatio = Math.max(pixelRatio, 1);\n  this.setScreenBox(options.screenBox || [0, 0, gl.drawingBufferWidth / pixelRatio, gl.drawingBufferHeight / pixelRatio]);\n  var screenBox = this.screenBox;\n  this.setViewBox(options.viewBox || [0.125 * (this.screenBox[2] - this.screenBox[0]) / pixelRatio, 0.125 * (this.screenBox[3] - this.screenBox[1]) / pixelRatio, 0.875 * (this.screenBox[2] - this.screenBox[0]) / pixelRatio, 0.875 * (this.screenBox[3] - this.screenBox[1]) / pixelRatio]);\n  var viewBox = this.viewBox;\n  var aspectRatio = (viewBox[2] - viewBox[0]) / (viewBox[3] - viewBox[1]);\n  this.setDataBox(options.dataBox || [-10, -10 / aspectRatio, 10, 10 / aspectRatio]);\n  this.borderColor = options.borderColor !== false ? (options.borderColor || [0, 0, 0, 0]).slice() : false;\n  this.backgroundColor = (options.backgroundColor || [0, 0, 0, 0]).slice();\n  this.gridLineEnable = (options.gridLineEnable || [true, true]).slice();\n  this.gridLineWidth = (options.gridLineWidth || [1, 1]).slice();\n  this.gridLineColor = deepClone(options.gridLineColor || [[0.5, 0.5, 0.5, 1], [0.5, 0.5, 0.5, 1]]);\n  this.zeroLineEnable = (options.zeroLineEnable || [true, true]).slice();\n  this.zeroLineWidth = (options.zeroLineWidth || [4, 4]).slice();\n  this.zeroLineColor = deepClone(options.zeroLineColor || [[0, 0, 0, 1], [0, 0, 0, 1]]);\n  this.tickMarkLength = (options.tickMarkLength || [0, 0, 0, 0]).slice();\n  this.tickMarkWidth = (options.tickMarkWidth || [0, 0, 0, 0]).slice();\n  this.tickMarkColor = deepClone(options.tickMarkColor || [[0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1]]);\n  this.titleCenter = (options.titleCenter || [0.5 * (viewBox[0] + viewBox[2]) / pixelRatio, (viewBox[3] + 120) / pixelRatio]).slice();\n  this.titleEnable = !('titleEnable' in options) || !!options.titleEnable;\n  this.titleAngle = options.titleAngle || 0;\n  this.titleColor = (options.titleColor || [0, 0, 0, 1]).slice();\n  this.labelPad = (options.labelPad || [15, 15, 15, 15]).slice();\n  this.labelAngle = (options.labelAngle || [0, Math.PI / 2, 0, 3.0 * Math.PI / 2]).slice();\n  this.labelEnable = (options.labelEnable || [true, true, true, true]).slice();\n  this.labelColor = deepClone(options.labelColor || [[0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1]]);\n  this.tickPad = (options.tickPad || [15, 15, 15, 15]).slice();\n  this.tickAngle = (options.tickAngle || [0, 0, 0, 0]).slice();\n  this.tickEnable = (options.tickEnable || [true, true, true, true]).slice();\n  this.tickColor = deepClone(options.tickColor || [[0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1]]);\n  this.borderLineEnable = (options.borderLineEnable || [true, true, true, true]).slice();\n  this.borderLineWidth = (options.borderLineWidth || [2, 2, 2, 2]).slice();\n  this.borderLineColor = deepClone(options.borderLineColor || [[0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1], [0, 0, 0, 1]]);\n  var ticks = options.ticks || [[], []];\n\n  //Compute bounds on ticks\n  var bounds = this._tickBounds;\n  bounds[0] = bounds[1] = Infinity;\n  bounds[2] = bounds[3] = -Infinity;\n  for (var i = 0; i < 2; ++i) {\n    var axisTicks = ticks[i].slice(0);\n    if (axisTicks.length === 0) {\n      continue;\n    }\n    axisTicks.sort(compareTicks);\n    bounds[i] = Math.min(bounds[i], axisTicks[0].x);\n    bounds[i + 2] = Math.max(bounds[i + 2], axisTicks[axisTicks.length - 1].x);\n  }\n\n  //Update grid\n  this.grid.update({\n    bounds: bounds,\n    ticks: ticks\n  });\n\n  //Update text\n  this.text.update({\n    bounds: bounds,\n    ticks: ticks,\n    labels: options.labels || ['x', 'y'],\n    labelSize: options.labelSize || [12, 12],\n    labelFont: options.labelFont || ['sans-serif', 'sans-serif'],\n    title: options.title || '',\n    titleSize: options.titleSize || 18,\n    titleFont: options.titleFont || 'sans-serif'\n  });\n  this.static = !!options.static;\n  this.setDirty();\n};\nproto.dispose = function () {\n  this.box.dispose();\n  this.grid.dispose();\n  this.text.dispose();\n  this.line.dispose();\n  for (var i = this.objects.length - 1; i >= 0; --i) {\n    this.objects[i].dispose();\n  }\n  this.objects.length = 0;\n  for (var i = this.overlays.length - 1; i >= 0; --i) {\n    this.overlays[i].dispose();\n  }\n  this.overlays.length = 0;\n  this.gl = null;\n};\nproto.addObject = function (object) {\n  if (this.objects.indexOf(object) < 0) {\n    this.objects.push(object);\n    this.setDirty();\n  }\n};\nproto.removeObject = function (object) {\n  var objects = this.objects;\n  for (var i = 0; i < objects.length; ++i) {\n    if (objects[i] === object) {\n      objects.splice(i, 1);\n      this.setDirty();\n      break;\n    }\n  }\n};\nproto.addOverlay = function (object) {\n  if (this.overlays.indexOf(object) < 0) {\n    this.overlays.push(object);\n    this.setOverlayDirty();\n  }\n};\nproto.removeOverlay = function (object) {\n  var objects = this.overlays;\n  for (var i = 0; i < objects.length; ++i) {\n    if (objects[i] === object) {\n      objects.splice(i, 1);\n      this.setOverlayDirty();\n      break;\n    }\n  }\n};\nfunction createGLPlot2D(options) {\n  var gl = options.gl;\n  var pickBuffer = createPick(gl, [gl.drawingBufferWidth, gl.drawingBufferHeight]);\n  var plot = new GLPlot2D(gl, pickBuffer);\n  plot.grid = createGrid(plot);\n  plot.text = createText(plot);\n  plot.line = createLine(plot);\n  plot.box = createBox(plot);\n  plot.update(options);\n  return plot;\n}","map":{"version":3,"names":["module","exports","createGLPlot2D","createPick","require","createGrid","createText","createLine","createBox","GLPlot2D","gl","pickBuffer","screenBox","drawingBufferWidth","drawingBufferHeight","viewBox","dataBox","gridLineEnable","gridLineWidth","gridLineColor","pixelRatio","tickMarkLength","tickMarkWidth","tickMarkColor","tickPad","tickAngle","tickEnable","tickColor","labelPad","labelAngle","Math","PI","labelEnable","labelColor","titleCenter","titleEnable","titleAngle","titleColor","borderColor","backgroundColor","zeroLineEnable","zeroLineWidth","zeroLineColor","borderLineEnable","borderLineWidth","borderLineColor","grid","text","line","box","objects","overlays","_tickBounds","Infinity","static","dirty","pickDirty","pickDelay","pickRadius","_pickTimeout","_drawPick","drawPick","bind","_depthCounter","proto","prototype","setDirty","setOverlayDirty","nextDepthValue","lerp","a","b","t","s","floor","draw","TICK_MARK_BOX","viewPixels","clearTimeout","setTimeout","bindFramebuffer","FRAMEBUFFER","enable","SCISSOR_TEST","disable","DEPTH_TEST","depthFunc","LESS","depthMask","BLEND","blendEquation","FUNC_ADD","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","scissor","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","viewport","i","zeroIntercept","drawLine","length","drawTickMarks","drawTicks","drawTitle","begin","pickOffset","end","pick","x","y","pickPixelRatio","scrX","round","scrY","pickResult","query","pickValue","id","value","result","deepClone","array","slice","compareTicks","setScreenBox","nbox","setDataBox","different","setViewBox","shape","update","options","max","aspectRatio","ticks","bounds","axisTicks","sort","min","labels","labelSize","labelFont","title","titleSize","titleFont","dispose","addObject","object","indexOf","push","removeObject","splice","addOverlay","removeOverlay","plot"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/gl-plot2d/plot.js"],"sourcesContent":["'use strict'\n\nmodule.exports = createGLPlot2D\n\nvar createPick = require('gl-select-static')\n\nvar createGrid = require('./lib/grid')\nvar createText = require('./lib/text')\nvar createLine = require('./lib/line')\nvar createBox  = require('./lib/box')\n\nfunction GLPlot2D(gl, pickBuffer) {\n  this.gl               = gl\n  this.pickBuffer       = pickBuffer\n\n  this.screenBox        = [0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight]\n  this.viewBox          = [0, 0, 0, 0]\n  this.dataBox          = [-10, -10, 10, 10]\n\n  this.gridLineEnable   = [true,true]\n  this.gridLineWidth    = [1,1]\n  this.gridLineColor    = [[0,0,0,1],\n                           [0,0,0,1]]\n\n  this.pixelRatio       = 1\n\n  this.tickMarkLength   = [0,0,0,0]\n  this.tickMarkWidth    = [0,0,0,0]\n  this.tickMarkColor    = [[0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1]]\n\n  this.tickPad          = [15,15,15,15]\n  this.tickAngle        = [0,0,0,0]\n  this.tickEnable       = [true,true,true,true]\n  this.tickColor        = [[0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1]]\n\n  this.labelPad         = [15,15,15,15]\n  this.labelAngle       = [0,Math.PI/2,0,3.0*Math.PI/2]\n  this.labelEnable      = [true,true,true,true]\n  this.labelColor       = [[0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1]]\n\n  this.titleCenter      = [0,0]\n  this.titleEnable      = true\n  this.titleAngle       = 0\n  this.titleColor       = [0,0,0,1]\n\n  this.borderColor      = [0,0,0,0]\n  this.backgroundColor  = [0,0,0,0]\n\n  this.zeroLineEnable   = [true, true]\n  this.zeroLineWidth    = [4, 4]\n  this.zeroLineColor    = [[0, 0, 0, 1],[0, 0, 0, 1]]\n\n  this.borderLineEnable = [true,true,true,true]\n  this.borderLineWidth  = [2,2,2,2]\n  this.borderLineColor  = [[0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1]]\n\n  //Drawing parameters\n  this.grid             = null\n  this.text             = null\n  this.line             = null\n  this.box              = null\n  this.objects          = []\n  this.overlays         = []\n\n  this._tickBounds      = [Infinity, Infinity, -Infinity, -Infinity]\n\n  this.static = false\n\n  this.dirty        = false\n  this.pickDirty    = false\n  this.pickDelay    = 120\n  this.pickRadius   = 10\n  this._pickTimeout = null\n  this._drawPick    = this.drawPick.bind(this)\n\n  this._depthCounter = 0\n}\n\nvar proto = GLPlot2D.prototype\n\nproto.setDirty = function() {\n  this.dirty = this.pickDirty = true\n}\n\nproto.setOverlayDirty = function() {\n  this.dirty = true\n}\n\nproto.nextDepthValue = function() {\n  return (this._depthCounter++) / 65536.0\n}\n\nfunction lerp(a, b, t) {\n  var s = 0.5 * (t + 1.0)\n  return Math.floor((1.0-s)*a + s*b)|0\n}\n\nproto.draw = (function() {\nvar TICK_MARK_BOX = [0,0,0,0]\nreturn function() {\n  var gl         = this.gl\n  var screenBox  = this.screenBox\n  var viewPixels = this.viewBox\n  var dataBox    = this.dataBox\n  var pixelRatio = this.pixelRatio\n  var grid       = this.grid\n  var line       = this.line\n  var text       = this.text\n  var objects    = this.objects\n\n  this._depthCounter = 0\n\n  if(this.pickDirty) {\n    if(this._pickTimeout) {\n      clearTimeout(this._pickTimeout)\n    }\n    this.pickDirty = false\n    this._pickTimeout = setTimeout(this._drawPick, this.pickDelay)\n  }\n\n  if(!this.dirty) {\n    return\n  }\n  this.dirty = false\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null)\n\n  //Turn on scissor\n  gl.enable(gl.SCISSOR_TEST)\n\n  //Turn off depth buffer\n  gl.disable(gl.DEPTH_TEST)\n  gl.depthFunc(gl.LESS)\n  gl.depthMask(false)\n\n  //Configure premultiplied alpha blending\n  gl.enable(gl.BLEND)\n  gl.blendEquation(gl.FUNC_ADD, gl.FUNC_ADD);\n  gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\n  //Draw border\n  if (this.borderColor) {\n    gl.scissor(\n      screenBox[0],\n      screenBox[1],\n      screenBox[2]-screenBox[0],\n      screenBox[3]-screenBox[1])\n    var borderColor = this.borderColor\n    gl.clearColor(\n      borderColor[0]*borderColor[3],\n      borderColor[1]*borderColor[3],\n      borderColor[2]*borderColor[3],\n      borderColor[3])\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\n  }\n\n  //Draw center pane\n  gl.scissor(\n    viewPixels[0],\n    viewPixels[1],\n    viewPixels[2]-viewPixels[0],\n    viewPixels[3]-viewPixels[1])\n  gl.viewport(\n    viewPixels[0],\n    viewPixels[1],\n    viewPixels[2]-viewPixels[0],\n    viewPixels[3]-viewPixels[1])\n  var backgroundColor = this.backgroundColor\n  gl.clearColor(\n    backgroundColor[0]*backgroundColor[3],\n    backgroundColor[1]*backgroundColor[3],\n    backgroundColor[2]*backgroundColor[3],\n    backgroundColor[3])\n  gl.clear(gl.COLOR_BUFFER_BIT)\n\n  //Draw grid\n  grid.draw()\n\n  //Draw zero lines separately\n  var zeroLineEnable = this.zeroLineEnable\n  var zeroLineColor  = this.zeroLineColor\n  var zeroLineWidth  = this.zeroLineWidth\n  if(zeroLineEnable[0] || zeroLineEnable[1]) {\n    line.bind()\n    for(var i=0; i<2; ++i) {\n      if(!zeroLineEnable[i] ||\n        !(dataBox[i] <= 0 && dataBox[i+2] >= 0)) {\n        continue\n      }\n\n      var zeroIntercept = screenBox[i] -\n        dataBox[i] * (screenBox[i+2] - screenBox[i]) / (dataBox[i+2] - dataBox[i])\n\n      if(i === 0) {\n        line.drawLine(\n          zeroIntercept, screenBox[1], zeroIntercept, screenBox[3],\n          zeroLineWidth[i],\n          zeroLineColor[i])\n      } else {\n        line.drawLine(\n          screenBox[0], zeroIntercept, screenBox[2], zeroIntercept,\n          zeroLineWidth[i],\n          zeroLineColor[i])\n      }\n    }\n  }\n\n  //Draw traces\n  for(var i=0; i<objects.length; ++i) {\n    objects[i].draw()\n  }\n\n  //Return viewport to default\n  gl.viewport(\n    screenBox[0],\n    screenBox[1],\n    screenBox[2]-screenBox[0],\n    screenBox[3]-screenBox[1])\n  gl.scissor(\n    screenBox[0],\n    screenBox[1],\n    screenBox[2]-screenBox[0],\n    screenBox[3]-screenBox[1])\n\n  //Draw tick marks\n  this.grid.drawTickMarks()\n\n  //Draw line elements\n  line.bind()\n\n  //Draw border lines\n  var borderLineEnable = this.borderLineEnable\n  var borderLineWidth  = this.borderLineWidth\n  var borderLineColor  = this.borderLineColor\n  if(borderLineEnable[1]) {\n    line.drawLine(\n      viewPixels[0], viewPixels[1] - 0.5*borderLineWidth[1]*pixelRatio,\n      viewPixels[0], viewPixels[3] + 0.5*borderLineWidth[3]*pixelRatio,\n      borderLineWidth[1], borderLineColor[1])\n  }\n  if(borderLineEnable[0]) {\n    line.drawLine(\n      viewPixels[0] - 0.5*borderLineWidth[0]*pixelRatio, viewPixels[1],\n      viewPixels[2] + 0.5*borderLineWidth[2]*pixelRatio, viewPixels[1],\n      borderLineWidth[0], borderLineColor[0])\n  }\n  if(borderLineEnable[3]) {\n    line.drawLine(\n      viewPixels[2], viewPixels[1] - 0.5*borderLineWidth[1]*pixelRatio,\n      viewPixels[2], viewPixels[3] + 0.5*borderLineWidth[3]*pixelRatio,\n      borderLineWidth[3], borderLineColor[3])\n  }\n  if(borderLineEnable[2]) {\n    line.drawLine(\n      viewPixels[0] - 0.5*borderLineWidth[0]*pixelRatio, viewPixels[3],\n      viewPixels[2] + 0.5*borderLineWidth[2]*pixelRatio, viewPixels[3],\n      borderLineWidth[2], borderLineColor[2])\n  }\n\n  //Draw text elements\n  text.bind()\n  for(var i=0; i<2; ++i) {\n    text.drawTicks(i)\n  }\n  if(this.titleEnable) {\n    text.drawTitle()\n  }\n\n  //Draw other overlay elements (select boxes, etc.)\n  var overlays = this.overlays\n  for(var i=0; i<overlays.length; ++i) {\n    overlays[i].draw()\n  }\n\n  //Turn off scissor test\n  gl.disable(gl.SCISSOR_TEST)\n  gl.disable(gl.BLEND)\n  gl.depthMask(true)\n}\n})()\n\nproto.drawPick = (function() {\n\nreturn function() {\n  if (this.static) return;\n\n  var pickBuffer = this.pickBuffer\n  var gl = this.gl\n\n  this._pickTimeout = null\n  pickBuffer.begin()\n\n  var pickOffset = 1\n  var objects = this.objects\n  for(var i=0; i<objects.length; ++i) {\n    pickOffset = objects[i].drawPick(pickOffset)\n  }\n\n  pickBuffer.end()\n}\n})()\n\nproto.pick = (function() {\nreturn function(x, y) {\n  if (this.static) return;\n\n  var pixelRatio     = this.pixelRatio\n  var pickPixelRatio = this.pickPixelRatio\n  var viewBox        = this.viewBox\n\n  var scrX = Math.round((x - viewBox[0] / pixelRatio) * pickPixelRatio)|0\n  var scrY = Math.round((y - viewBox[1] / pixelRatio) * pickPixelRatio)|0\n\n  var pickResult = this.pickBuffer.query(scrX, scrY, this.pickRadius)\n  if(!pickResult) {\n    return null\n  }\n\n  var pickValue = pickResult.id +\n    (pickResult.value[0]<<8)  +\n    (pickResult.value[1]<<16) +\n    (pickResult.value[2]<<24)\n\n  var objects = this.objects\n  for(var i=0; i<objects.length; ++i) {\n    var result = objects[i].pick(scrX, scrY, pickValue)\n    if(result) {\n      return result\n    }\n  }\n\n  return null\n}\n})()\n\nfunction deepClone(array) {\n  var result = array.slice()\n  for(var i=0; i<result.length; ++i) {\n    result[i] = result[i].slice()\n  }\n  return result\n}\n\nfunction compareTicks(a, b) {\n  return a.x - b.x\n}\n\nproto.setScreenBox = function(nbox) {\n  var screenBox = this.screenBox\n  var pixelRatio = this.pixelRatio\n\n  screenBox[0] = Math.round(nbox[0] * pixelRatio) | 0\n  screenBox[1] = Math.round(nbox[1] * pixelRatio) | 0\n  screenBox[2] = Math.round(nbox[2] * pixelRatio) | 0\n  screenBox[3] = Math.round(nbox[3] * pixelRatio) | 0\n\n  this.setDirty()\n}\n\nproto.setDataBox = function(nbox) {\n  var dataBox = this.dataBox\n\n  var different =\n    dataBox[0] !== nbox[0] ||\n    dataBox[1] !== nbox[1] ||\n    dataBox[2] !== nbox[2] ||\n    dataBox[3] !== nbox[3]\n\n  if(different) {\n    dataBox[0] = nbox[0]\n    dataBox[1] = nbox[1]\n    dataBox[2] = nbox[2]\n    dataBox[3] = nbox[3]\n\n    this.setDirty()\n  }\n}\n\nproto.setViewBox = function(nbox) {\n  var pixelRatio = this.pixelRatio\n  var viewBox = this.viewBox\n\n  viewBox[0] = Math.round(nbox[0] * pixelRatio)|0\n  viewBox[1] = Math.round(nbox[1] * pixelRatio)|0\n  viewBox[2] = Math.round(nbox[2] * pixelRatio)|0\n  viewBox[3] = Math.round(nbox[3] * pixelRatio)|0\n\n  var pickPixelRatio = this.pickPixelRatio\n  this.pickBuffer.shape = [\n    Math.round((nbox[2] - nbox[0]) * pickPixelRatio)|0,\n    Math.round((nbox[3] - nbox[1]) * pickPixelRatio)|0 ]\n\n  this.setDirty()\n}\n\nproto.update = function(options) {\n  options = options || {}\n\n  var gl = this.gl\n\n  this.pixelRatio      = options.pixelRatio || 1\n\n  var pixelRatio       = this.pixelRatio\n  this.pickPixelRatio  = Math.max(pixelRatio, 1)\n\n  this.setScreenBox(options.screenBox ||\n    [0, 0, gl.drawingBufferWidth/pixelRatio, gl.drawingBufferHeight/pixelRatio])\n\n  var screenBox = this.screenBox\n  this.setViewBox(options.viewBox ||\n    [0.125*(this.screenBox[2]-this.screenBox[0])/pixelRatio,\n     0.125*(this.screenBox[3]-this.screenBox[1])/pixelRatio,\n     0.875*(this.screenBox[2]-this.screenBox[0])/pixelRatio,\n     0.875*(this.screenBox[3]-this.screenBox[1])/pixelRatio])\n\n  var viewBox = this.viewBox\n  var aspectRatio = (viewBox[2] - viewBox[0]) / (viewBox[3] - viewBox[1])\n  this.setDataBox(options.dataBox || [-10, -10/aspectRatio, 10, 10/aspectRatio])\n\n  this.borderColor     = options.borderColor !== false ? (options.borderColor || [0,0,0,0]).slice() : false\n  this.backgroundColor = (options.backgroundColor || [0,0,0,0]).slice()\n\n  this.gridLineEnable  = (options.gridLineEnable || [true,true]).slice()\n  this.gridLineWidth   = (options.gridLineWidth || [1,1]).slice()\n  this.gridLineColor   = deepClone(options.gridLineColor ||\n    [[0.5,0.5,0.5,1],[0.5,0.5,0.5,1]])\n\n  this.zeroLineEnable   = (options.zeroLineEnable || [true, true]).slice()\n  this.zeroLineWidth    = (options.zeroLineWidth || [4, 4]).slice()\n  this.zeroLineColor    = deepClone(options.zeroLineColor ||\n    [[0, 0, 0, 1],[0, 0, 0, 1]])\n\n  this.tickMarkLength   = (options.tickMarkLength || [0,0,0,0]).slice()\n  this.tickMarkWidth    = (options.tickMarkWidth || [0,0,0,0]).slice()\n  this.tickMarkColor    = deepClone(options.tickMarkColor ||\n    [[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]])\n\n  this.titleCenter      = (options.titleCenter || [\n    0.5*(viewBox[0]+viewBox[2])/pixelRatio,(viewBox[3]+120)/pixelRatio]).slice()\n  this.titleEnable      = !('titleEnable' in options) || !!options.titleEnable\n  this.titleAngle       = options.titleAngle || 0\n  this.titleColor       = (options.titleColor || [0,0,0,1]).slice()\n\n  this.labelPad         = (options.labelPad || [15,15,15,15]).slice()\n  this.labelAngle       = (options.labelAngle ||\n    [0,Math.PI/2,0,3.0*Math.PI/2]).slice()\n  this.labelEnable      = (options.labelEnable || [true,true,true,true]).slice()\n  this.labelColor       = deepClone(options.labelColor ||\n    [[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]])\n\n  this.tickPad         = (options.tickPad || [15,15,15,15]).slice()\n  this.tickAngle       = (options.tickAngle || [0,0,0,0]).slice()\n  this.tickEnable      = (options.tickEnable || [true,true,true,true]).slice()\n  this.tickColor       = deepClone(options.tickColor ||\n    [[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]])\n\n  this.borderLineEnable = (options.borderLineEnable ||\n                            [true,true,true,true]).slice()\n  this.borderLineWidth  = (options.borderLineWidth || [2,2,2,2]).slice()\n  this.borderLineColor  = deepClone(options.borderLineColor ||\n                          [[0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1],\n                           [0,0,0,1]])\n\n  var ticks = options.ticks || [ [], [] ]\n\n  //Compute bounds on ticks\n  var bounds = this._tickBounds\n  bounds[0] = bounds[1] =  Infinity\n  bounds[2] = bounds[3] = -Infinity\n  for(var i=0; i<2; ++i) {\n    var axisTicks = ticks[i].slice(0)\n    if(axisTicks.length === 0) {\n      continue\n    }\n    axisTicks.sort(compareTicks)\n    bounds[i]   = Math.min(bounds[i], axisTicks[0].x)\n    bounds[i+2] = Math.max(bounds[i+2], axisTicks[axisTicks.length-1].x)\n  }\n\n  //Update grid\n  this.grid.update({\n    bounds: bounds,\n    ticks:  ticks\n  })\n\n  //Update text\n  this.text.update({\n    bounds:     bounds,\n    ticks:      ticks,\n    labels:     options.labels    || ['x', 'y'],\n    labelSize:  options.labelSize || [12,12],\n    labelFont:  options.labelFont || ['sans-serif', 'sans-serif'],\n    title:      options.title     || '',\n    titleSize:  options.titleSize || 18,\n    titleFont:  options.titleFont || 'sans-serif'\n  })\n\n  this.static = !!options.static;\n\n  this.setDirty()\n}\n\nproto.dispose = function() {\n  this.box.dispose()\n  this.grid.dispose()\n  this.text.dispose()\n  this.line.dispose()\n  for(var i=this.objects.length-1; i>=0; --i) {\n    this.objects[i].dispose()\n  }\n  this.objects.length = 0\n  for(var i=this.overlays.length-1; i>=0; --i) {\n    this.overlays[i].dispose()\n  }\n  this.overlays.length = 0\n\n  this.gl = null\n}\n\nproto.addObject = function(object) {\n  if(this.objects.indexOf(object) < 0) {\n    this.objects.push(object)\n    this.setDirty()\n  }\n}\n\nproto.removeObject = function(object) {\n  var objects = this.objects\n  for(var i=0; i<objects.length; ++i) {\n    if(objects[i] === object) {\n      objects.splice(i,1)\n      this.setDirty()\n      break\n    }\n  }\n}\n\nproto.addOverlay = function(object) {\n  if(this.overlays.indexOf(object) < 0) {\n    this.overlays.push(object)\n    this.setOverlayDirty()\n  }\n}\n\nproto.removeOverlay = function(object) {\n  var objects = this.overlays\n  for(var i=0; i<objects.length; ++i) {\n    if(objects[i] === object) {\n      objects.splice(i,1)\n      this.setOverlayDirty()\n      break\n    }\n  }\n}\n\nfunction createGLPlot2D(options) {\n  var gl = options.gl\n  var pickBuffer = createPick(gl, [\n    gl.drawingBufferWidth, gl.drawingBufferHeight])\n  var plot = new GLPlot2D(gl, pickBuffer)\n  plot.grid = createGrid(plot)\n  plot.text = createText(plot)\n  plot.line = createLine(plot)\n  plot.box  = createBox(plot)\n  plot.update(options)\n  return plot\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}