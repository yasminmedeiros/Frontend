{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar handleArrayContainerDefaults = require('../../plots/array_container_defaults');\nvar attributes = require('./attributes');\nvar subTypes = require('../scatter/subtypes');\nvar handleMarkerDefaults = require('../scatter/marker_defaults');\nvar mergeLength = require('../parcoords/merge_length');\nvar OPEN_RE = /-open/;\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  var dimensions = handleArrayContainerDefaults(traceIn, traceOut, {\n    name: 'dimensions',\n    handleItemDefaults: dimensionDefaults\n  });\n  var showDiag = coerce('diagonal.visible');\n  var showUpper = coerce('showupperhalf');\n  var showLower = coerce('showlowerhalf');\n  var dimLength = mergeLength(traceOut, dimensions, 'values');\n  if (!dimLength || !showDiag && !showUpper && !showLower) {\n    traceOut.visible = false;\n    return;\n  }\n  coerce('text');\n  handleMarkerDefaults(traceIn, traceOut, defaultColor, layout, coerce);\n  var isOpen = OPEN_RE.test(traceOut.marker.symbol);\n  var isBubble = subTypes.isBubble(traceOut);\n  coerce('marker.line.width', isOpen || isBubble ? 1 : 0);\n  handleAxisDefaults(traceIn, traceOut, layout, coerce);\n  Lib.coerceSelectionMarkerOpacity(traceOut, coerce);\n};\nfunction dimensionDefaults(dimIn, dimOut) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(dimIn, dimOut, attributes.dimensions, attr, dflt);\n  }\n  coerce('label');\n  var values = coerce('values');\n  if (!(values && values.length)) dimOut.visible = false;else coerce('visible');\n  coerce('axis.type');\n}\nfunction handleAxisDefaults(traceIn, traceOut, layout, coerce) {\n  var dimensions = traceOut.dimensions;\n  var dimLength = dimensions.length;\n  var showUpper = traceOut.showupperhalf;\n  var showLower = traceOut.showlowerhalf;\n  var showDiag = traceOut.diagonal.visible;\n  var i, j;\n  var xAxesDflt = new Array(dimLength);\n  var yAxesDflt = new Array(dimLength);\n  for (i = 0; i < dimLength; i++) {\n    var suffix = i ? i + 1 : '';\n    xAxesDflt[i] = 'x' + suffix;\n    yAxesDflt[i] = 'y' + suffix;\n  }\n  var xaxes = coerce('xaxes', xAxesDflt);\n  var yaxes = coerce('yaxes', yAxesDflt);\n\n  // build list of [x,y] axis corresponding to each dimensions[i],\n  // very useful for passing options to regl-splom\n  var diag = traceOut._diag = new Array(dimLength);\n\n  // lookup for 'drawn' x|y axes, to avoid costly indexOf downstream\n  traceOut._xaxes = {};\n  traceOut._yaxes = {};\n\n  // list of 'drawn' x|y axes, use to generate list of subplots\n  var xList = [];\n  var yList = [];\n  function fillAxisStashes(axId, dim, list) {\n    if (!axId) return;\n    var axLetter = axId.charAt(0);\n    var stash = layout._splomAxes[axLetter];\n    traceOut['_' + axLetter + 'axes'][axId] = 1;\n    list.push(axId);\n    if (!(axId in stash)) {\n      var s = stash[axId] = {};\n      if (dim) {\n        s.label = dim.label || '';\n        if (dim.visible && dim.axis) {\n          s.type = dim.axis.type;\n        }\n      }\n    }\n  }\n\n  // cases where showDiag and showLower or showUpper are false\n  // no special treatment as the 'drawn' x-axes and y-axes no longer match\n  // the dimensions items and xaxes|yaxes 1-to-1\n  var mustShiftX = !showDiag && !showLower;\n  var mustShiftY = !showDiag && !showUpper;\n  for (i = 0; i < dimLength; i++) {\n    var dim = dimensions[i];\n    var i0 = i === 0;\n    var iN = i === dimLength - 1;\n    var xaId = i0 && mustShiftX || iN && mustShiftY ? undefined : xaxes[i];\n    var yaId = i0 && mustShiftY || iN && mustShiftX ? undefined : yaxes[i];\n    fillAxisStashes(xaId, dim, xList);\n    fillAxisStashes(yaId, dim, yList);\n    diag[i] = [xaId, yaId];\n  }\n\n  // fill in splom subplot keys\n  for (i = 0; i < xList.length; i++) {\n    for (j = 0; j < yList.length; j++) {\n      var id = xList[i] + yList[j];\n      if (i > j && showUpper) {\n        layout._splomSubplots[id] = 1;\n      } else if (i < j && showLower) {\n        layout._splomSubplots[id] = 1;\n      } else if (i === j && (showDiag || !showLower || !showUpper)) {\n        // need to include diagonal subplots when\n        // hiding one half and the diagonal\n        layout._splomSubplots[id] = 1;\n      }\n    }\n  }\n\n  // when lower half is omitted, or when just the diagonal is gone,\n  // override grid default to make sure axes remain on\n  // the left/bottom of the plot area\n  if (!showLower || !showDiag && showUpper && showLower) {\n    layout._splomGridDflt.xside = 'bottom';\n    layout._splomGridDflt.yside = 'left';\n  }\n}","map":{"version":3,"names":["Lib","require","handleArrayContainerDefaults","attributes","subTypes","handleMarkerDefaults","mergeLength","OPEN_RE","module","exports","supplyDefaults","traceIn","traceOut","defaultColor","layout","coerce","attr","dflt","dimensions","name","handleItemDefaults","dimensionDefaults","showDiag","showUpper","showLower","dimLength","visible","isOpen","test","marker","symbol","isBubble","handleAxisDefaults","coerceSelectionMarkerOpacity","dimIn","dimOut","values","length","showupperhalf","showlowerhalf","diagonal","i","j","xAxesDflt","Array","yAxesDflt","suffix","xaxes","yaxes","diag","_diag","_xaxes","_yaxes","xList","yList","fillAxisStashes","axId","dim","list","axLetter","charAt","stash","_splomAxes","push","s","label","axis","type","mustShiftX","mustShiftY","i0","iN","xaId","undefined","yaId","id","_splomSubplots","_splomGridDflt","xside","yside"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/plotly.js/src/traces/splom/defaults.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar handleArrayContainerDefaults = require('../../plots/array_container_defaults');\n\nvar attributes = require('./attributes');\nvar subTypes = require('../scatter/subtypes');\nvar handleMarkerDefaults = require('../scatter/marker_defaults');\nvar mergeLength = require('../parcoords/merge_length');\nvar OPEN_RE = /-open/;\n\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var dimensions = handleArrayContainerDefaults(traceIn, traceOut, {\n        name: 'dimensions',\n        handleItemDefaults: dimensionDefaults\n    });\n\n    var showDiag = coerce('diagonal.visible');\n    var showUpper = coerce('showupperhalf');\n    var showLower = coerce('showlowerhalf');\n\n    var dimLength = mergeLength(traceOut, dimensions, 'values');\n\n    if(!dimLength || (!showDiag && !showUpper && !showLower)) {\n        traceOut.visible = false;\n        return;\n    }\n\n    coerce('text');\n\n    handleMarkerDefaults(traceIn, traceOut, defaultColor, layout, coerce);\n\n    var isOpen = OPEN_RE.test(traceOut.marker.symbol);\n    var isBubble = subTypes.isBubble(traceOut);\n    coerce('marker.line.width', isOpen || isBubble ? 1 : 0);\n\n    handleAxisDefaults(traceIn, traceOut, layout, coerce);\n\n    Lib.coerceSelectionMarkerOpacity(traceOut, coerce);\n};\n\nfunction dimensionDefaults(dimIn, dimOut) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(dimIn, dimOut, attributes.dimensions, attr, dflt);\n    }\n\n    coerce('label');\n    var values = coerce('values');\n\n    if(!(values && values.length)) dimOut.visible = false;\n    else coerce('visible');\n\n    coerce('axis.type');\n}\n\nfunction handleAxisDefaults(traceIn, traceOut, layout, coerce) {\n    var dimensions = traceOut.dimensions;\n    var dimLength = dimensions.length;\n    var showUpper = traceOut.showupperhalf;\n    var showLower = traceOut.showlowerhalf;\n    var showDiag = traceOut.diagonal.visible;\n    var i, j;\n\n    var xAxesDflt = new Array(dimLength);\n    var yAxesDflt = new Array(dimLength);\n\n    for(i = 0; i < dimLength; i++) {\n        var suffix = i ? i + 1 : '';\n        xAxesDflt[i] = 'x' + suffix;\n        yAxesDflt[i] = 'y' + suffix;\n    }\n\n    var xaxes = coerce('xaxes', xAxesDflt);\n    var yaxes = coerce('yaxes', yAxesDflt);\n\n    // build list of [x,y] axis corresponding to each dimensions[i],\n    // very useful for passing options to regl-splom\n    var diag = traceOut._diag = new Array(dimLength);\n\n    // lookup for 'drawn' x|y axes, to avoid costly indexOf downstream\n    traceOut._xaxes = {};\n    traceOut._yaxes = {};\n\n    // list of 'drawn' x|y axes, use to generate list of subplots\n    var xList = [];\n    var yList = [];\n\n    function fillAxisStashes(axId, dim, list) {\n        if(!axId) return;\n\n        var axLetter = axId.charAt(0);\n        var stash = layout._splomAxes[axLetter];\n\n        traceOut['_' + axLetter + 'axes'][axId] = 1;\n        list.push(axId);\n\n        if(!(axId in stash)) {\n            var s = stash[axId] = {};\n            if(dim) {\n                s.label = dim.label || '';\n                if(dim.visible && dim.axis) {\n                    s.type = dim.axis.type;\n                }\n            }\n        }\n    }\n\n    // cases where showDiag and showLower or showUpper are false\n    // no special treatment as the 'drawn' x-axes and y-axes no longer match\n    // the dimensions items and xaxes|yaxes 1-to-1\n    var mustShiftX = !showDiag && !showLower;\n    var mustShiftY = !showDiag && !showUpper;\n\n    for(i = 0; i < dimLength; i++) {\n        var dim = dimensions[i];\n        var i0 = i === 0;\n        var iN = i === dimLength - 1;\n\n        var xaId = (i0 && mustShiftX) || (iN && mustShiftY) ?\n            undefined :\n            xaxes[i];\n\n        var yaId = (i0 && mustShiftY) || (iN && mustShiftX) ?\n            undefined :\n            yaxes[i];\n\n        fillAxisStashes(xaId, dim, xList);\n        fillAxisStashes(yaId, dim, yList);\n        diag[i] = [xaId, yaId];\n    }\n\n    // fill in splom subplot keys\n    for(i = 0; i < xList.length; i++) {\n        for(j = 0; j < yList.length; j++) {\n            var id = xList[i] + yList[j];\n\n            if(i > j && showUpper) {\n                layout._splomSubplots[id] = 1;\n            } else if(i < j && showLower) {\n                layout._splomSubplots[id] = 1;\n            } else if(i === j && (showDiag || !showLower || !showUpper)) {\n                // need to include diagonal subplots when\n                // hiding one half and the diagonal\n                layout._splomSubplots[id] = 1;\n            }\n        }\n    }\n\n    // when lower half is omitted, or when just the diagonal is gone,\n    // override grid default to make sure axes remain on\n    // the left/bottom of the plot area\n    if(!showLower || (!showDiag && showUpper && showLower)) {\n        layout._splomGridDflt.xside = 'bottom';\n        layout._splomGridDflt.yside = 'left';\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}