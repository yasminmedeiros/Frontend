{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar c = require('./constants');\nvar extendFlat = require('../../lib/extend').extendFlat;\nvar isNumeric = require('fast-isnumeric');\n\n// pure functions, don't alter but passes on `gd` and parts of `trace` without deep copying\nmodule.exports = function calc(gd, trace) {\n  var cellsValues = squareStringMatrix(trace.cells.values);\n  var slicer = function slicer(a) {\n    return a.slice(trace.header.values.length, a.length);\n  };\n  var headerValuesIn = squareStringMatrix(trace.header.values);\n  if (headerValuesIn.length && !headerValuesIn[0].length) {\n    headerValuesIn[0] = [''];\n    headerValuesIn = squareStringMatrix(headerValuesIn);\n  }\n  var headerValues = headerValuesIn.concat(slicer(cellsValues).map(function () {\n    return emptyStrings((headerValuesIn[0] || ['']).length);\n  }));\n  var domain = trace.domain;\n  var groupWidth = Math.floor(gd._fullLayout._size.w * (domain.x[1] - domain.x[0]));\n  var groupHeight = Math.floor(gd._fullLayout._size.h * (domain.y[1] - domain.y[0]));\n  var headerRowHeights = trace.header.values.length ? headerValues[0].map(function () {\n    return trace.header.height;\n  }) : [c.emptyHeaderHeight];\n  var rowHeights = cellsValues.length ? cellsValues[0].map(function () {\n    return trace.cells.height;\n  }) : [];\n  var headerHeight = headerRowHeights.reduce(sum, 0);\n  var scrollHeight = groupHeight - headerHeight;\n  var minimumFillHeight = scrollHeight + c.uplift;\n  var anchorToRowBlock = makeAnchorToRowBlock(rowHeights, minimumFillHeight);\n  var anchorToHeaderRowBlock = makeAnchorToRowBlock(headerRowHeights, headerHeight);\n  var headerRowBlocks = makeRowBlock(anchorToHeaderRowBlock, []);\n  var rowBlocks = makeRowBlock(anchorToRowBlock, headerRowBlocks);\n  var uniqueKeys = {};\n  var columnOrder = trace._fullInput.columnorder.concat(slicer(cellsValues.map(function (d, i) {\n    return i;\n  })));\n  var columnWidths = headerValues.map(function (d, i) {\n    var value = Array.isArray(trace.columnwidth) ? trace.columnwidth[Math.min(i, trace.columnwidth.length - 1)] : trace.columnwidth;\n    return isNumeric(value) ? Number(value) : 1;\n  });\n  var totalColumnWidths = columnWidths.reduce(sum, 0);\n\n  // fit columns in the available vertical space as there's no vertical scrolling now\n  columnWidths = columnWidths.map(function (d) {\n    return d / totalColumnWidths * groupWidth;\n  });\n  var maxLineWidth = Math.max(arrayMax(trace.header.line.width), arrayMax(trace.cells.line.width));\n  var calcdata = {\n    // include staticPlot in the key so if it changes we delete and redraw\n    key: trace.uid + gd._context.staticPlot,\n    translateX: domain.x[0] * gd._fullLayout._size.w,\n    translateY: gd._fullLayout._size.h * (1 - domain.y[1]),\n    size: gd._fullLayout._size,\n    width: groupWidth,\n    maxLineWidth: maxLineWidth,\n    height: groupHeight,\n    columnOrder: columnOrder,\n    // will be mutated on column move, todo use in callback\n    groupHeight: groupHeight,\n    rowBlocks: rowBlocks,\n    headerRowBlocks: headerRowBlocks,\n    scrollY: 0,\n    // will be mutated on scroll\n    cells: extendFlat({}, trace.cells, {\n      values: cellsValues\n    }),\n    headerCells: extendFlat({}, trace.header, {\n      values: headerValues\n    }),\n    gdColumns: headerValues.map(function (d) {\n      return d[0];\n    }),\n    gdColumnsOriginalOrder: headerValues.map(function (d) {\n      return d[0];\n    }),\n    prevPages: [0, 0],\n    scrollbarState: {\n      scrollbarScrollInProgress: false\n    },\n    columns: headerValues.map(function (label, i) {\n      var foundKey = uniqueKeys[label];\n      uniqueKeys[label] = (foundKey || 0) + 1;\n      var key = label + '__' + uniqueKeys[label];\n      return {\n        key: key,\n        label: label,\n        specIndex: i,\n        xIndex: columnOrder[i],\n        xScale: xScale,\n        x: undefined,\n        // initialized below\n        calcdata: undefined,\n        // initialized below\n        columnWidth: columnWidths[i]\n      };\n    })\n  };\n  calcdata.columns.forEach(function (col) {\n    col.calcdata = calcdata;\n    col.x = xScale(col);\n  });\n  return calcdata;\n};\nfunction arrayMax(maybeArray) {\n  if (Array.isArray(maybeArray)) {\n    var max = 0;\n    for (var i = 0; i < maybeArray.length; i++) {\n      max = Math.max(max, arrayMax(maybeArray[i]));\n    }\n    return max;\n  }\n  return maybeArray;\n}\nfunction sum(a, b) {\n  return a + b;\n}\n\n// fill matrix in place to equal lengths\n// and ensure it's uniformly 2D\nfunction squareStringMatrix(matrixIn) {\n  var matrix = matrixIn.slice();\n  var minLen = Infinity;\n  var maxLen = 0;\n  var i;\n  for (i = 0; i < matrix.length; i++) {\n    if (!Array.isArray(matrix[i])) matrix[i] = [matrix[i]];\n    minLen = Math.min(minLen, matrix[i].length);\n    maxLen = Math.max(maxLen, matrix[i].length);\n  }\n  if (minLen !== maxLen) {\n    for (i = 0; i < matrix.length; i++) {\n      var padLen = maxLen - matrix[i].length;\n      if (padLen) matrix[i] = matrix[i].concat(emptyStrings(padLen));\n    }\n  }\n  return matrix;\n}\nfunction emptyStrings(len) {\n  var padArray = new Array(len);\n  for (var j = 0; j < len; j++) {\n    padArray[j] = '';\n  }\n  return padArray;\n}\nfunction xScale(d) {\n  return d.calcdata.columns.reduce(function (prev, next) {\n    return next.xIndex < d.xIndex ? prev + next.columnWidth : prev;\n  }, 0);\n}\nfunction makeRowBlock(anchorToRowBlock, auxiliary) {\n  var blockAnchorKeys = Object.keys(anchorToRowBlock);\n  return blockAnchorKeys.map(function (k) {\n    return extendFlat({}, anchorToRowBlock[k], {\n      auxiliaryBlocks: auxiliary\n    });\n  });\n}\nfunction makeAnchorToRowBlock(rowHeights, minimumFillHeight) {\n  var anchorToRowBlock = {};\n  var currentRowHeight;\n  var currentAnchor = 0;\n  var currentBlockHeight = 0;\n  var currentBlock = makeIdentity();\n  var currentFirstRowIndex = 0;\n  var blockCounter = 0;\n  for (var i = 0; i < rowHeights.length; i++) {\n    currentRowHeight = rowHeights[i];\n    currentBlock.rows.push({\n      rowIndex: i,\n      rowHeight: currentRowHeight\n    });\n    currentBlockHeight += currentRowHeight;\n    if (currentBlockHeight >= minimumFillHeight || i === rowHeights.length - 1) {\n      anchorToRowBlock[currentAnchor] = currentBlock;\n      currentBlock.key = blockCounter++;\n      currentBlock.firstRowIndex = currentFirstRowIndex;\n      currentBlock.lastRowIndex = i;\n      currentBlock = makeIdentity();\n      currentAnchor += currentBlockHeight;\n      currentFirstRowIndex = i + 1;\n      currentBlockHeight = 0;\n    }\n  }\n  return anchorToRowBlock;\n}\nfunction makeIdentity() {\n  return {\n    firstRowIndex: null,\n    lastRowIndex: null,\n    rows: []\n  };\n}","map":{"version":3,"names":["c","require","extendFlat","isNumeric","module","exports","calc","gd","trace","cellsValues","squareStringMatrix","cells","values","slicer","a","slice","header","length","headerValuesIn","headerValues","concat","map","emptyStrings","domain","groupWidth","Math","floor","_fullLayout","_size","w","x","groupHeight","h","y","headerRowHeights","height","emptyHeaderHeight","rowHeights","headerHeight","reduce","sum","scrollHeight","minimumFillHeight","uplift","anchorToRowBlock","makeAnchorToRowBlock","anchorToHeaderRowBlock","headerRowBlocks","makeRowBlock","rowBlocks","uniqueKeys","columnOrder","_fullInput","columnorder","d","i","columnWidths","value","Array","isArray","columnwidth","min","Number","totalColumnWidths","maxLineWidth","max","arrayMax","line","width","calcdata","key","uid","_context","staticPlot","translateX","translateY","size","scrollY","headerCells","gdColumns","gdColumnsOriginalOrder","prevPages","scrollbarState","scrollbarScrollInProgress","columns","label","foundKey","specIndex","xIndex","xScale","undefined","columnWidth","forEach","col","maybeArray","b","matrixIn","matrix","minLen","Infinity","maxLen","padLen","len","padArray","j","prev","next","auxiliary","blockAnchorKeys","Object","keys","k","auxiliaryBlocks","currentRowHeight","currentAnchor","currentBlockHeight","currentBlock","makeIdentity","currentFirstRowIndex","blockCounter","rows","push","rowIndex","rowHeight","firstRowIndex","lastRowIndex"],"sources":["/home/yasmin/√Årea de Trabalho/Frontend/node_modules/plotly.js/src/traces/table/data_preparation_helper.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar c = require('./constants');\nvar extendFlat = require('../../lib/extend').extendFlat;\nvar isNumeric = require('fast-isnumeric');\n\n// pure functions, don't alter but passes on `gd` and parts of `trace` without deep copying\nmodule.exports = function calc(gd, trace) {\n    var cellsValues = squareStringMatrix(trace.cells.values);\n    var slicer = function(a) {\n        return a.slice(trace.header.values.length, a.length);\n    };\n    var headerValuesIn = squareStringMatrix(trace.header.values);\n    if(headerValuesIn.length && !headerValuesIn[0].length) {\n        headerValuesIn[0] = [''];\n        headerValuesIn = squareStringMatrix(headerValuesIn);\n    }\n    var headerValues = headerValuesIn\n        .concat(slicer(cellsValues).map(function() {\n            return emptyStrings((headerValuesIn[0] || ['']).length);\n        }));\n\n    var domain = trace.domain;\n    var groupWidth = Math.floor(gd._fullLayout._size.w * (domain.x[1] - domain.x[0]));\n    var groupHeight = Math.floor(gd._fullLayout._size.h * (domain.y[1] - domain.y[0]));\n    var headerRowHeights = trace.header.values.length ?\n        headerValues[0].map(function() { return trace.header.height; }) :\n        [c.emptyHeaderHeight];\n    var rowHeights = cellsValues.length ? cellsValues[0].map(function() { return trace.cells.height; }) : [];\n    var headerHeight = headerRowHeights.reduce(sum, 0);\n    var scrollHeight = groupHeight - headerHeight;\n    var minimumFillHeight = scrollHeight + c.uplift;\n    var anchorToRowBlock = makeAnchorToRowBlock(rowHeights, minimumFillHeight);\n    var anchorToHeaderRowBlock = makeAnchorToRowBlock(headerRowHeights, headerHeight);\n    var headerRowBlocks = makeRowBlock(anchorToHeaderRowBlock, []);\n    var rowBlocks = makeRowBlock(anchorToRowBlock, headerRowBlocks);\n    var uniqueKeys = {};\n    var columnOrder = trace._fullInput.columnorder.concat(slicer(cellsValues.map(function(d, i) {return i;})));\n    var columnWidths = headerValues.map(function(d, i) {\n        var value = Array.isArray(trace.columnwidth) ?\n            trace.columnwidth[Math.min(i, trace.columnwidth.length - 1)] :\n            trace.columnwidth;\n        return isNumeric(value) ? Number(value) : 1;\n    });\n    var totalColumnWidths = columnWidths.reduce(sum, 0);\n\n    // fit columns in the available vertical space as there's no vertical scrolling now\n    columnWidths = columnWidths.map(function(d) { return d / totalColumnWidths * groupWidth; });\n\n    var maxLineWidth = Math.max(arrayMax(trace.header.line.width), arrayMax(trace.cells.line.width));\n\n    var calcdata = {\n        // include staticPlot in the key so if it changes we delete and redraw\n        key: trace.uid + gd._context.staticPlot,\n        translateX: domain.x[0] * gd._fullLayout._size.w,\n        translateY: gd._fullLayout._size.h * (1 - domain.y[1]),\n        size: gd._fullLayout._size,\n        width: groupWidth,\n        maxLineWidth: maxLineWidth,\n        height: groupHeight,\n        columnOrder: columnOrder, // will be mutated on column move, todo use in callback\n        groupHeight: groupHeight,\n        rowBlocks: rowBlocks,\n        headerRowBlocks: headerRowBlocks,\n        scrollY: 0, // will be mutated on scroll\n        cells: extendFlat({}, trace.cells, {values: cellsValues}),\n        headerCells: extendFlat({}, trace.header, {values: headerValues}),\n        gdColumns: headerValues.map(function(d) {return d[0];}),\n        gdColumnsOriginalOrder: headerValues.map(function(d) {return d[0];}),\n        prevPages: [0, 0],\n        scrollbarState: {scrollbarScrollInProgress: false},\n        columns: headerValues.map(function(label, i) {\n            var foundKey = uniqueKeys[label];\n            uniqueKeys[label] = (foundKey || 0) + 1;\n            var key = label + '__' + uniqueKeys[label];\n            return {\n                key: key,\n                label: label,\n                specIndex: i,\n                xIndex: columnOrder[i],\n                xScale: xScale,\n                x: undefined, // initialized below\n                calcdata: undefined, // initialized below\n                columnWidth: columnWidths[i]\n            };\n        })\n    };\n\n    calcdata.columns.forEach(function(col) {\n        col.calcdata = calcdata;\n        col.x = xScale(col);\n    });\n\n    return calcdata;\n};\n\nfunction arrayMax(maybeArray) {\n    if(Array.isArray(maybeArray)) {\n        var max = 0;\n        for(var i = 0; i < maybeArray.length; i++) {\n            max = Math.max(max, arrayMax(maybeArray[i]));\n        }\n        return max;\n    }\n    return maybeArray;\n}\n\nfunction sum(a, b) { return a + b; }\n\n// fill matrix in place to equal lengths\n// and ensure it's uniformly 2D\nfunction squareStringMatrix(matrixIn) {\n    var matrix = matrixIn.slice();\n    var minLen = Infinity;\n    var maxLen = 0;\n    var i;\n    for(i = 0; i < matrix.length; i++) {\n        if(!Array.isArray(matrix[i])) matrix[i] = [matrix[i]];\n        minLen = Math.min(minLen, matrix[i].length);\n        maxLen = Math.max(maxLen, matrix[i].length);\n    }\n\n    if(minLen !== maxLen) {\n        for(i = 0; i < matrix.length; i++) {\n            var padLen = maxLen - matrix[i].length;\n            if(padLen) matrix[i] = matrix[i].concat(emptyStrings(padLen));\n        }\n    }\n    return matrix;\n}\n\nfunction emptyStrings(len) {\n    var padArray = new Array(len);\n    for(var j = 0; j < len; j++) padArray[j] = '';\n    return padArray;\n}\n\nfunction xScale(d) {\n    return d.calcdata.columns.reduce(function(prev, next) {\n        return next.xIndex < d.xIndex ? prev + next.columnWidth : prev;\n    }, 0);\n}\n\nfunction makeRowBlock(anchorToRowBlock, auxiliary) {\n    var blockAnchorKeys = Object.keys(anchorToRowBlock);\n    return blockAnchorKeys.map(function(k) {return extendFlat({}, anchorToRowBlock[k], {auxiliaryBlocks: auxiliary});});\n}\n\nfunction makeAnchorToRowBlock(rowHeights, minimumFillHeight) {\n\n    var anchorToRowBlock = {};\n    var currentRowHeight;\n    var currentAnchor = 0;\n    var currentBlockHeight = 0;\n    var currentBlock = makeIdentity();\n    var currentFirstRowIndex = 0;\n    var blockCounter = 0;\n    for(var i = 0; i < rowHeights.length; i++) {\n        currentRowHeight = rowHeights[i];\n        currentBlock.rows.push({\n            rowIndex: i,\n            rowHeight: currentRowHeight\n        });\n        currentBlockHeight += currentRowHeight;\n        if(currentBlockHeight >= minimumFillHeight || i === rowHeights.length - 1) {\n            anchorToRowBlock[currentAnchor] = currentBlock;\n            currentBlock.key = blockCounter++;\n            currentBlock.firstRowIndex = currentFirstRowIndex;\n            currentBlock.lastRowIndex = i;\n            currentBlock = makeIdentity();\n            currentAnchor += currentBlockHeight;\n            currentFirstRowIndex = i + 1;\n            currentBlockHeight = 0;\n        }\n    }\n\n    return anchorToRowBlock;\n}\n\nfunction makeIdentity() {\n    return {\n        firstRowIndex: null,\n        lastRowIndex: null,\n        rows: []\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}