{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Fx = require('../../components/fx');\nvar Lib = require('../../lib');\nvar Axes = require('../../plots/cartesian/axes');\nmodule.exports = function hoverPoints(pointData, xval, yval, hovermode, hoverLayer, contour) {\n  var cd0 = pointData.cd[0];\n  var trace = cd0.trace;\n  var xa = pointData.xa;\n  var ya = pointData.ya;\n  var x = cd0.x;\n  var y = cd0.y;\n  var z = cd0.z;\n  var xc = cd0.xCenter;\n  var yc = cd0.yCenter;\n  var zmask = cd0.zmask;\n  var range = [trace.zmin, trace.zmax];\n  var zhoverformat = trace.zhoverformat;\n  var x2 = x;\n  var y2 = y;\n  var xl, yl, nx, ny;\n  if (pointData.index !== false) {\n    try {\n      nx = Math.round(pointData.index[1]);\n      ny = Math.round(pointData.index[0]);\n    } catch (e) {\n      Lib.error('Error hovering on heatmap, ' + 'pointNumber must be [row,col], found:', pointData.index);\n      return;\n    }\n    if (nx < 0 || nx >= z[0].length || ny < 0 || ny > z.length) {\n      return;\n    }\n  } else if (Fx.inbox(xval - x[0], xval - x[x.length - 1], 0) > 0 || Fx.inbox(yval - y[0], yval - y[y.length - 1], 0) > 0) {\n    return;\n  } else {\n    if (contour) {\n      var i2;\n      x2 = [2 * x[0] - x[1]];\n      for (i2 = 1; i2 < x.length; i2++) {\n        x2.push((x[i2] + x[i2 - 1]) / 2);\n      }\n      x2.push([2 * x[x.length - 1] - x[x.length - 2]]);\n      y2 = [2 * y[0] - y[1]];\n      for (i2 = 1; i2 < y.length; i2++) {\n        y2.push((y[i2] + y[i2 - 1]) / 2);\n      }\n      y2.push([2 * y[y.length - 1] - y[y.length - 2]]);\n    }\n    nx = Math.max(0, Math.min(x2.length - 2, Lib.findBin(xval, x2)));\n    ny = Math.max(0, Math.min(y2.length - 2, Lib.findBin(yval, y2)));\n  }\n  var x0 = xa.c2p(x[nx]);\n  var x1 = xa.c2p(x[nx + 1]);\n  var y0 = ya.c2p(y[ny]);\n  var y1 = ya.c2p(y[ny + 1]);\n  if (contour) {\n    x1 = x0;\n    xl = x[nx];\n    y1 = y0;\n    yl = y[ny];\n  } else {\n    xl = xc ? xc[nx] : (x[nx] + x[nx + 1]) / 2;\n    yl = yc ? yc[ny] : (y[ny] + y[ny + 1]) / 2;\n    if (trace.zsmooth) {\n      x0 = x1 = xa.c2p(xl);\n      y0 = y1 = ya.c2p(yl);\n    }\n  }\n  var zVal = z[ny][nx];\n  if (zmask && !zmask[ny][nx]) zVal = undefined;\n  var text;\n  if (Array.isArray(cd0.text) && Array.isArray(cd0.text[ny])) {\n    text = cd0.text[ny][nx];\n  }\n  var zLabel;\n  // dummy axis for formatting the z value\n  var dummyAx = {\n    type: 'linear',\n    range: range,\n    hoverformat: zhoverformat,\n    _separators: xa._separators,\n    _numFormat: xa._numFormat\n  };\n  var zLabelObj = Axes.tickText(dummyAx, zVal, 'hover');\n  zLabel = zLabelObj.text;\n  return [Lib.extendFlat(pointData, {\n    index: [ny, nx],\n    // never let a 2D override 1D type as closest point\n    distance: pointData.maxHoverDistance,\n    spikeDistance: pointData.maxSpikeDistance,\n    x0: x0,\n    x1: x1,\n    y0: y0,\n    y1: y1,\n    xLabelVal: xl,\n    yLabelVal: yl,\n    zLabelVal: zVal,\n    zLabel: zLabel,\n    text: text\n  })];\n};","map":{"version":3,"names":["Fx","require","Lib","Axes","module","exports","hoverPoints","pointData","xval","yval","hovermode","hoverLayer","contour","cd0","cd","trace","xa","ya","x","y","z","xc","xCenter","yc","yCenter","zmask","range","zmin","zmax","zhoverformat","x2","y2","xl","yl","nx","ny","index","Math","round","e","error","length","inbox","i2","push","max","min","findBin","x0","c2p","x1","y0","y1","zsmooth","zVal","undefined","text","Array","isArray","zLabel","dummyAx","type","hoverformat","_separators","_numFormat","zLabelObj","tickText","extendFlat","distance","maxHoverDistance","spikeDistance","maxSpikeDistance","xLabelVal","yLabelVal","zLabelVal"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/plotly.js/src/traces/heatmap/hover.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar Fx = require('../../components/fx');\nvar Lib = require('../../lib');\nvar Axes = require('../../plots/cartesian/axes');\n\nmodule.exports = function hoverPoints(pointData, xval, yval, hovermode, hoverLayer, contour) {\n    var cd0 = pointData.cd[0];\n    var trace = cd0.trace;\n    var xa = pointData.xa;\n    var ya = pointData.ya;\n    var x = cd0.x;\n    var y = cd0.y;\n    var z = cd0.z;\n    var xc = cd0.xCenter;\n    var yc = cd0.yCenter;\n    var zmask = cd0.zmask;\n    var range = [trace.zmin, trace.zmax];\n    var zhoverformat = trace.zhoverformat;\n    var x2 = x;\n    var y2 = y;\n\n    var xl, yl, nx, ny;\n\n    if(pointData.index !== false) {\n        try {\n            nx = Math.round(pointData.index[1]);\n            ny = Math.round(pointData.index[0]);\n        }\n        catch(e) {\n            Lib.error('Error hovering on heatmap, ' +\n                'pointNumber must be [row,col], found:', pointData.index);\n            return;\n        }\n        if(nx < 0 || nx >= z[0].length || ny < 0 || ny > z.length) {\n            return;\n        }\n    }\n    else if(Fx.inbox(xval - x[0], xval - x[x.length - 1], 0) > 0 ||\n            Fx.inbox(yval - y[0], yval - y[y.length - 1], 0) > 0) {\n        return;\n    }\n    else {\n        if(contour) {\n            var i2;\n            x2 = [2 * x[0] - x[1]];\n\n            for(i2 = 1; i2 < x.length; i2++) {\n                x2.push((x[i2] + x[i2 - 1]) / 2);\n            }\n            x2.push([2 * x[x.length - 1] - x[x.length - 2]]);\n\n            y2 = [2 * y[0] - y[1]];\n            for(i2 = 1; i2 < y.length; i2++) {\n                y2.push((y[i2] + y[i2 - 1]) / 2);\n            }\n            y2.push([2 * y[y.length - 1] - y[y.length - 2]]);\n        }\n        nx = Math.max(0, Math.min(x2.length - 2, Lib.findBin(xval, x2)));\n        ny = Math.max(0, Math.min(y2.length - 2, Lib.findBin(yval, y2)));\n    }\n\n    var x0 = xa.c2p(x[nx]);\n    var x1 = xa.c2p(x[nx + 1]);\n    var y0 = ya.c2p(y[ny]);\n    var y1 = ya.c2p(y[ny + 1]);\n\n    if(contour) {\n        x1 = x0;\n        xl = x[nx];\n        y1 = y0;\n        yl = y[ny];\n    }\n    else {\n        xl = xc ? xc[nx] : ((x[nx] + x[nx + 1]) / 2);\n        yl = yc ? yc[ny] : ((y[ny] + y[ny + 1]) / 2);\n        if(trace.zsmooth) {\n            x0 = x1 = xa.c2p(xl);\n            y0 = y1 = ya.c2p(yl);\n        }\n    }\n\n    var zVal = z[ny][nx];\n    if(zmask && !zmask[ny][nx]) zVal = undefined;\n\n    var text;\n    if(Array.isArray(cd0.text) && Array.isArray(cd0.text[ny])) {\n        text = cd0.text[ny][nx];\n    }\n\n    var zLabel;\n    // dummy axis for formatting the z value\n    var dummyAx = {\n        type: 'linear',\n        range: range,\n        hoverformat: zhoverformat,\n        _separators: xa._separators,\n        _numFormat: xa._numFormat\n    };\n    var zLabelObj = Axes.tickText(dummyAx, zVal, 'hover');\n    zLabel = zLabelObj.text;\n\n    return [Lib.extendFlat(pointData, {\n        index: [ny, nx],\n        // never let a 2D override 1D type as closest point\n        distance: pointData.maxHoverDistance,\n        spikeDistance: pointData.maxSpikeDistance,\n        x0: x0,\n        x1: x1,\n        y0: y0,\n        y1: y1,\n        xLabelVal: xl,\n        yLabelVal: yl,\n        zLabelVal: zVal,\n        zLabel: zLabel,\n        text: text\n    })];\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}