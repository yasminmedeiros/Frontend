{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar Axes = require('../../plots/cartesian/axes');\nvar handleArrayContainerDefaults = require('../../plots/array_container_defaults');\nvar handleAnnotationCommonDefaults = require('../annotations/common_defaults');\nvar attributes = require('./attributes');\nmodule.exports = function handleDefaults(sceneLayoutIn, sceneLayoutOut, opts) {\n  handleArrayContainerDefaults(sceneLayoutIn, sceneLayoutOut, {\n    name: 'annotations',\n    handleItemDefaults: handleAnnotationDefaults,\n    fullLayout: opts.fullLayout\n  });\n};\nfunction handleAnnotationDefaults(annIn, annOut, sceneLayout, opts) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(annIn, annOut, attributes, attr, dflt);\n  }\n  function coercePosition(axLetter) {\n    var axName = axLetter + 'axis';\n\n    // mock in such way that getFromId grabs correct 3D axis\n    var gdMock = {\n      _fullLayout: {}\n    };\n    gdMock._fullLayout[axName] = sceneLayout[axName];\n    return Axes.coercePosition(annOut, gdMock, coerce, axLetter, axLetter, 0.5);\n  }\n  var visible = coerce('visible');\n  if (!visible) return;\n  handleAnnotationCommonDefaults(annIn, annOut, opts.fullLayout, coerce);\n  coercePosition('x');\n  coercePosition('y');\n  coercePosition('z');\n\n  // if you have one coordinate you should all three\n  Lib.noneOrAll(annIn, annOut, ['x', 'y', 'z']);\n\n  // hard-set here for completeness\n  annOut.xref = 'x';\n  annOut.yref = 'y';\n  annOut.zref = 'z';\n  coerce('xanchor');\n  coerce('yanchor');\n  coerce('xshift');\n  coerce('yshift');\n  if (annOut.showarrow) {\n    annOut.axref = 'pixel';\n    annOut.ayref = 'pixel';\n\n    // TODO maybe default values should be bigger than the 2D case?\n    coerce('ax', -10);\n    coerce('ay', -30);\n\n    // if you have one part of arrow length you should have both\n    Lib.noneOrAll(annIn, annOut, ['ax', 'ay']);\n  }\n}","map":{"version":3,"names":["Lib","require","Axes","handleArrayContainerDefaults","handleAnnotationCommonDefaults","attributes","module","exports","handleDefaults","sceneLayoutIn","sceneLayoutOut","opts","name","handleItemDefaults","handleAnnotationDefaults","fullLayout","annIn","annOut","sceneLayout","coerce","attr","dflt","coercePosition","axLetter","axName","gdMock","_fullLayout","visible","noneOrAll","xref","yref","zref","showarrow","axref","ayref"],"sources":["/home/yasmin/√Årea de Trabalho/Frontend/node_modules/plotly.js/src/components/annotations3d/defaults.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar Axes = require('../../plots/cartesian/axes');\nvar handleArrayContainerDefaults = require('../../plots/array_container_defaults');\nvar handleAnnotationCommonDefaults = require('../annotations/common_defaults');\nvar attributes = require('./attributes');\n\nmodule.exports = function handleDefaults(sceneLayoutIn, sceneLayoutOut, opts) {\n    handleArrayContainerDefaults(sceneLayoutIn, sceneLayoutOut, {\n        name: 'annotations',\n        handleItemDefaults: handleAnnotationDefaults,\n        fullLayout: opts.fullLayout\n    });\n};\n\nfunction handleAnnotationDefaults(annIn, annOut, sceneLayout, opts) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(annIn, annOut, attributes, attr, dflt);\n    }\n\n    function coercePosition(axLetter) {\n        var axName = axLetter + 'axis';\n\n        // mock in such way that getFromId grabs correct 3D axis\n        var gdMock = { _fullLayout: {} };\n        gdMock._fullLayout[axName] = sceneLayout[axName];\n\n        return Axes.coercePosition(annOut, gdMock, coerce, axLetter, axLetter, 0.5);\n    }\n\n\n    var visible = coerce('visible');\n    if(!visible) return;\n\n    handleAnnotationCommonDefaults(annIn, annOut, opts.fullLayout, coerce);\n\n    coercePosition('x');\n    coercePosition('y');\n    coercePosition('z');\n\n    // if you have one coordinate you should all three\n    Lib.noneOrAll(annIn, annOut, ['x', 'y', 'z']);\n\n    // hard-set here for completeness\n    annOut.xref = 'x';\n    annOut.yref = 'y';\n    annOut.zref = 'z';\n\n    coerce('xanchor');\n    coerce('yanchor');\n    coerce('xshift');\n    coerce('yshift');\n\n    if(annOut.showarrow) {\n        annOut.axref = 'pixel';\n        annOut.ayref = 'pixel';\n\n        // TODO maybe default values should be bigger than the 2D case?\n        coerce('ax', -10);\n        coerce('ay', -30);\n\n        // if you have one part of arrow length you should have both\n        Lib.noneOrAll(annIn, annOut, ['ax', 'ay']);\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,GAAG,GAAGC,OAAO,CAAC,WAAW,CAAC;AAC9B,IAAIC,IAAI,GAAGD,OAAO,CAAC,4BAA4B,CAAC;AAChD,IAAIE,4BAA4B,GAAGF,OAAO,CAAC,sCAAsC,CAAC;AAClF,IAAIG,8BAA8B,GAAGH,OAAO,CAAC,gCAAgC,CAAC;AAC9E,IAAII,UAAU,GAAGJ,OAAO,CAAC,cAAc,CAAC;AAExCK,MAAM,CAACC,OAAO,GAAG,SAASC,cAAc,CAACC,aAAa,EAAEC,cAAc,EAAEC,IAAI,EAAE;EAC1ER,4BAA4B,CAACM,aAAa,EAAEC,cAAc,EAAE;IACxDE,IAAI,EAAE,aAAa;IACnBC,kBAAkB,EAAEC,wBAAwB;IAC5CC,UAAU,EAAEJ,IAAI,CAACI;EACrB,CAAC,CAAC;AACN,CAAC;AAED,SAASD,wBAAwB,CAACE,KAAK,EAAEC,MAAM,EAAEC,WAAW,EAAEP,IAAI,EAAE;EAChE,SAASQ,MAAM,CAACC,IAAI,EAAEC,IAAI,EAAE;IACxB,OAAOrB,GAAG,CAACmB,MAAM,CAACH,KAAK,EAAEC,MAAM,EAAEZ,UAAU,EAAEe,IAAI,EAAEC,IAAI,CAAC;EAC5D;EAEA,SAASC,cAAc,CAACC,QAAQ,EAAE;IAC9B,IAAIC,MAAM,GAAGD,QAAQ,GAAG,MAAM;;IAE9B;IACA,IAAIE,MAAM,GAAG;MAAEC,WAAW,EAAE,CAAC;IAAE,CAAC;IAChCD,MAAM,CAACC,WAAW,CAACF,MAAM,CAAC,GAAGN,WAAW,CAACM,MAAM,CAAC;IAEhD,OAAOtB,IAAI,CAACoB,cAAc,CAACL,MAAM,EAAEQ,MAAM,EAAEN,MAAM,EAAEI,QAAQ,EAAEA,QAAQ,EAAE,GAAG,CAAC;EAC/E;EAGA,IAAII,OAAO,GAAGR,MAAM,CAAC,SAAS,CAAC;EAC/B,IAAG,CAACQ,OAAO,EAAE;EAEbvB,8BAA8B,CAACY,KAAK,EAAEC,MAAM,EAAEN,IAAI,CAACI,UAAU,EAAEI,MAAM,CAAC;EAEtEG,cAAc,CAAC,GAAG,CAAC;EACnBA,cAAc,CAAC,GAAG,CAAC;EACnBA,cAAc,CAAC,GAAG,CAAC;;EAEnB;EACAtB,GAAG,CAAC4B,SAAS,CAACZ,KAAK,EAAEC,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;;EAE7C;EACAA,MAAM,CAACY,IAAI,GAAG,GAAG;EACjBZ,MAAM,CAACa,IAAI,GAAG,GAAG;EACjBb,MAAM,CAACc,IAAI,GAAG,GAAG;EAEjBZ,MAAM,CAAC,SAAS,CAAC;EACjBA,MAAM,CAAC,SAAS,CAAC;EACjBA,MAAM,CAAC,QAAQ,CAAC;EAChBA,MAAM,CAAC,QAAQ,CAAC;EAEhB,IAAGF,MAAM,CAACe,SAAS,EAAE;IACjBf,MAAM,CAACgB,KAAK,GAAG,OAAO;IACtBhB,MAAM,CAACiB,KAAK,GAAG,OAAO;;IAEtB;IACAf,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC;IACjBA,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC;;IAEjB;IACAnB,GAAG,CAAC4B,SAAS,CAACZ,KAAK,EAAEC,MAAM,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC9C;AACJ"},"metadata":{},"sourceType":"script","externalDependencies":[]}