{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Axes = require('../../plots/cartesian/axes');\nvar attributes = require('./attributes');\nvar fillHoverText = require('../scatter/fill_hover_text');\nmodule.exports = function hoverPoints(pointData, xval, yval) {\n  var cd = pointData.cd;\n  var trace = cd[0].trace;\n  var geo = pointData.subplot;\n  var pt, i, j, isInside;\n  for (i = 0; i < cd.length; i++) {\n    pt = cd[i];\n    isInside = false;\n    if (pt._polygons) {\n      for (j = 0; j < pt._polygons.length; j++) {\n        if (pt._polygons[j].contains([xval, yval])) {\n          isInside = !isInside;\n        }\n        // for polygons that cross antimeridian as xval is in [-180, 180]\n        if (pt._polygons[j].contains([xval + 360, yval])) {\n          isInside = !isInside;\n        }\n      }\n      if (isInside) break;\n    }\n  }\n  if (!isInside || !pt) return;\n  pointData.x0 = pointData.x1 = pointData.xa.c2p(pt.ct);\n  pointData.y0 = pointData.y1 = pointData.ya.c2p(pt.ct);\n  pointData.index = pt.index;\n  pointData.location = pt.loc;\n  pointData.z = pt.z;\n  pointData.hovertemplate = pt.hovertemplate;\n  makeHoverInfo(pointData, trace, pt, geo.mockAxis);\n  return [pointData];\n};\nfunction makeHoverInfo(pointData, trace, pt, axis) {\n  if (trace.hovertemplate) {\n    return;\n  }\n  var hoverinfo = pt.hi || trace.hoverinfo;\n  var parts = hoverinfo === 'all' ? attributes.hoverinfo.flags : hoverinfo.split('+');\n  var hasName = parts.indexOf('name') !== -1;\n  var hasLocation = parts.indexOf('location') !== -1;\n  var hasZ = parts.indexOf('z') !== -1;\n  var hasText = parts.indexOf('text') !== -1;\n  var hasIdAsNameLabel = !hasName && hasLocation;\n  var text = [];\n  function formatter(val) {\n    return Axes.tickText(axis, axis.c2l(val), 'hover').text;\n  }\n  if (hasIdAsNameLabel) {\n    pointData.nameOverride = pt.loc;\n  } else {\n    if (hasName) pointData.nameOverride = trace.name;\n    if (hasLocation) text.push(pt.loc);\n  }\n  if (hasZ) text.push(formatter(pt.z));\n  if (hasText) {\n    fillHoverText(pt, trace, text);\n  }\n  pointData.extraText = text.join('<br>');\n}","map":{"version":3,"names":["Axes","require","attributes","fillHoverText","module","exports","hoverPoints","pointData","xval","yval","cd","trace","geo","subplot","pt","i","j","isInside","length","_polygons","contains","x0","x1","xa","c2p","ct","y0","y1","ya","index","location","loc","z","hovertemplate","makeHoverInfo","mockAxis","axis","hoverinfo","hi","parts","flags","split","hasName","indexOf","hasLocation","hasZ","hasText","hasIdAsNameLabel","text","formatter","val","tickText","c2l","nameOverride","name","push","extraText","join"],"sources":["/home/yasmin/√Årea de Trabalho/Frontend/node_modules/plotly.js/src/traces/choropleth/hover.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar Axes = require('../../plots/cartesian/axes');\nvar attributes = require('./attributes');\nvar fillHoverText = require('../scatter/fill_hover_text');\n\nmodule.exports = function hoverPoints(pointData, xval, yval) {\n    var cd = pointData.cd;\n    var trace = cd[0].trace;\n    var geo = pointData.subplot;\n\n    var pt, i, j, isInside;\n\n    for(i = 0; i < cd.length; i++) {\n        pt = cd[i];\n        isInside = false;\n\n        if(pt._polygons) {\n            for(j = 0; j < pt._polygons.length; j++) {\n                if(pt._polygons[j].contains([xval, yval])) {\n                    isInside = !isInside;\n                }\n                // for polygons that cross antimeridian as xval is in [-180, 180]\n                if(pt._polygons[j].contains([xval + 360, yval])) {\n                    isInside = !isInside;\n                }\n            }\n\n            if(isInside) break;\n        }\n    }\n\n    if(!isInside || !pt) return;\n\n    pointData.x0 = pointData.x1 = pointData.xa.c2p(pt.ct);\n    pointData.y0 = pointData.y1 = pointData.ya.c2p(pt.ct);\n\n    pointData.index = pt.index;\n    pointData.location = pt.loc;\n    pointData.z = pt.z;\n    pointData.hovertemplate = pt.hovertemplate;\n\n    makeHoverInfo(pointData, trace, pt, geo.mockAxis);\n\n    return [pointData];\n};\n\nfunction makeHoverInfo(pointData, trace, pt, axis) {\n    if(trace.hovertemplate) {\n        return;\n    }\n\n    var hoverinfo = pt.hi || trace.hoverinfo;\n\n    var parts = (hoverinfo === 'all') ?\n        attributes.hoverinfo.flags :\n        hoverinfo.split('+');\n\n    var hasName = (parts.indexOf('name') !== -1);\n    var hasLocation = (parts.indexOf('location') !== -1);\n    var hasZ = (parts.indexOf('z') !== -1);\n    var hasText = (parts.indexOf('text') !== -1);\n    var hasIdAsNameLabel = !hasName && hasLocation;\n\n    var text = [];\n\n    function formatter(val) {\n        return Axes.tickText(axis, axis.c2l(val), 'hover').text;\n    }\n\n    if(hasIdAsNameLabel) {\n        pointData.nameOverride = pt.loc;\n    } else {\n        if(hasName) pointData.nameOverride = trace.name;\n        if(hasLocation) text.push(pt.loc);\n    }\n\n    if(hasZ) text.push(formatter(pt.z));\n    if(hasText) {\n        fillHoverText(pt, trace, text);\n    }\n\n    pointData.extraText = text.join('<br>');\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}