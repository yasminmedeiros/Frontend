{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar mouseChange = require('mouse-change');\nvar mouseWheel = require('mouse-wheel');\nvar mouseOffset = require('mouse-event-offset');\nvar cartesianConstants = require('../cartesian/constants');\nvar hasPassive = require('has-passive-events');\nmodule.exports = createCamera;\nfunction Camera2D(element, plot) {\n  this.element = element;\n  this.plot = plot;\n  this.mouseListener = null;\n  this.wheelListener = null;\n  this.lastInputTime = Date.now();\n  this.lastPos = [0, 0];\n  this.boxEnabled = false;\n  this.boxInited = false;\n  this.boxStart = [0, 0];\n  this.boxEnd = [0, 0];\n  this.dragStart = [0, 0];\n}\nfunction createCamera(scene) {\n  var element = scene.mouseContainer;\n  var plot = scene.glplot;\n  var result = new Camera2D(element, plot);\n  function unSetAutoRange() {\n    scene.xaxis.autorange = false;\n    scene.yaxis.autorange = false;\n  }\n  function getSubplotConstraint() {\n    // note: this assumes we only have one x and one y axis on this subplot\n    // when this constraint is lifted this block won't make sense\n    var constraints = scene.graphDiv._fullLayout._axisConstraintGroups;\n    var xaId = scene.xaxis._id;\n    var yaId = scene.yaxis._id;\n    for (var i = 0; i < constraints.length; i++) {\n      if (constraints[i][xaId] !== -1) {\n        if (constraints[i][yaId] !== -1) return true;\n        break;\n      }\n    }\n    return false;\n  }\n  result.mouseListener = mouseChange(element, handleInteraction);\n\n  // enable simple touch interactions\n  element.addEventListener('touchstart', function (ev) {\n    var xy = mouseOffset(ev.changedTouches[0], element);\n    handleInteraction(0, xy[0], xy[1]);\n    handleInteraction(1, xy[0], xy[1]);\n    ev.preventDefault();\n  }, hasPassive ? {\n    passive: false\n  } : false);\n  element.addEventListener('touchmove', function (ev) {\n    ev.preventDefault();\n    var xy = mouseOffset(ev.changedTouches[0], element);\n    handleInteraction(1, xy[0], xy[1]);\n    ev.preventDefault();\n  }, hasPassive ? {\n    passive: false\n  } : false);\n  element.addEventListener('touchend', function (ev) {\n    handleInteraction(0, result.lastPos[0], result.lastPos[1]);\n    ev.preventDefault();\n  }, hasPassive ? {\n    passive: false\n  } : false);\n  function handleInteraction(buttons, x, y) {\n    var dataBox = scene.calcDataBox();\n    var viewBox = plot.viewBox;\n    var lastX = result.lastPos[0];\n    var lastY = result.lastPos[1];\n    var MINDRAG = cartesianConstants.MINDRAG * plot.pixelRatio;\n    var MINZOOM = cartesianConstants.MINZOOM * plot.pixelRatio;\n    var dx, dy;\n    x *= plot.pixelRatio;\n    y *= plot.pixelRatio;\n\n    // mouseChange gives y about top; convert to about bottom\n    y = viewBox[3] - viewBox[1] - y;\n    function updateRange(i0, start, end) {\n      var range0 = Math.min(start, end);\n      var range1 = Math.max(start, end);\n      if (range0 !== range1) {\n        dataBox[i0] = range0;\n        dataBox[i0 + 2] = range1;\n        result.dataBox = dataBox;\n        scene.setRanges(dataBox);\n      } else {\n        scene.selectBox.selectBox = [0, 0, 1, 1];\n        scene.glplot.setDirty();\n      }\n    }\n    switch (scene.fullLayout.dragmode) {\n      case 'zoom':\n        if (buttons) {\n          var dataX = x / (viewBox[2] - viewBox[0]) * (dataBox[2] - dataBox[0]) + dataBox[0];\n          var dataY = y / (viewBox[3] - viewBox[1]) * (dataBox[3] - dataBox[1]) + dataBox[1];\n          if (!result.boxInited) {\n            result.boxStart[0] = dataX;\n            result.boxStart[1] = dataY;\n            result.dragStart[0] = x;\n            result.dragStart[1] = y;\n          }\n          result.boxEnd[0] = dataX;\n          result.boxEnd[1] = dataY;\n\n          // we need to mark the box as initialized right away\n          // so that we can tell the start and end points apart\n          result.boxInited = true;\n\n          // but don't actually enable the box until the cursor moves\n          if (!result.boxEnabled && (result.boxStart[0] !== result.boxEnd[0] || result.boxStart[1] !== result.boxEnd[1])) {\n            result.boxEnabled = true;\n          }\n\n          // constrain aspect ratio if the axes require it\n          var smallDx = Math.abs(result.dragStart[0] - x) < MINZOOM;\n          var smallDy = Math.abs(result.dragStart[1] - y) < MINZOOM;\n          if (getSubplotConstraint() && !(smallDx && smallDy)) {\n            dx = result.boxEnd[0] - result.boxStart[0];\n            dy = result.boxEnd[1] - result.boxStart[1];\n            var dydx = (dataBox[3] - dataBox[1]) / (dataBox[2] - dataBox[0]);\n            if (Math.abs(dx * dydx) > Math.abs(dy)) {\n              result.boxEnd[1] = result.boxStart[1] + Math.abs(dx) * dydx * (dy >= 0 ? 1 : -1);\n\n              // gl-select-box clips to the plot area bounds,\n              // which breaks the axis constraint, so don't allow\n              // this box to go out of bounds\n              if (result.boxEnd[1] < dataBox[1]) {\n                result.boxEnd[1] = dataBox[1];\n                result.boxEnd[0] = result.boxStart[0] + (dataBox[1] - result.boxStart[1]) / Math.abs(dydx);\n              } else if (result.boxEnd[1] > dataBox[3]) {\n                result.boxEnd[1] = dataBox[3];\n                result.boxEnd[0] = result.boxStart[0] + (dataBox[3] - result.boxStart[1]) / Math.abs(dydx);\n              }\n            } else {\n              result.boxEnd[0] = result.boxStart[0] + Math.abs(dy) / dydx * (dx >= 0 ? 1 : -1);\n              if (result.boxEnd[0] < dataBox[0]) {\n                result.boxEnd[0] = dataBox[0];\n                result.boxEnd[1] = result.boxStart[1] + (dataBox[0] - result.boxStart[0]) * Math.abs(dydx);\n              } else if (result.boxEnd[0] > dataBox[2]) {\n                result.boxEnd[0] = dataBox[2];\n                result.boxEnd[1] = result.boxStart[1] + (dataBox[2] - result.boxStart[0]) * Math.abs(dydx);\n              }\n            }\n          }\n          // otherwise clamp small changes to the origin so we get 1D zoom\n          else {\n            if (smallDx) result.boxEnd[0] = result.boxStart[0];\n            if (smallDy) result.boxEnd[1] = result.boxStart[1];\n          }\n        } else if (result.boxEnabled) {\n          dx = result.boxStart[0] !== result.boxEnd[0];\n          dy = result.boxStart[1] !== result.boxEnd[1];\n          if (dx || dy) {\n            if (dx) {\n              updateRange(0, result.boxStart[0], result.boxEnd[0]);\n              scene.xaxis.autorange = false;\n            }\n            if (dy) {\n              updateRange(1, result.boxStart[1], result.boxEnd[1]);\n              scene.yaxis.autorange = false;\n            }\n            scene.relayoutCallback();\n          } else {\n            scene.glplot.setDirty();\n          }\n          result.boxEnabled = false;\n          result.boxInited = false;\n        }\n        // if box was inited but button released then - reset the box\n        else if (result.boxInited) {\n          result.boxInited = false;\n        }\n        break;\n      case 'pan':\n        result.boxEnabled = false;\n        result.boxInited = false;\n        if (buttons) {\n          if (!result.panning) {\n            result.dragStart[0] = x;\n            result.dragStart[1] = y;\n          }\n          if (Math.abs(result.dragStart[0] - x) < MINDRAG) x = result.dragStart[0];\n          if (Math.abs(result.dragStart[1] - y) < MINDRAG) y = result.dragStart[1];\n          dx = (lastX - x) * (dataBox[2] - dataBox[0]) / (plot.viewBox[2] - plot.viewBox[0]);\n          dy = (lastY - y) * (dataBox[3] - dataBox[1]) / (plot.viewBox[3] - plot.viewBox[1]);\n          dataBox[0] += dx;\n          dataBox[2] += dx;\n          dataBox[1] += dy;\n          dataBox[3] += dy;\n          scene.setRanges(dataBox);\n          result.panning = true;\n          result.lastInputTime = Date.now();\n          unSetAutoRange();\n          scene.cameraChanged();\n          scene.handleAnnotations();\n        } else if (result.panning) {\n          result.panning = false;\n          scene.relayoutCallback();\n        }\n        break;\n    }\n    result.lastPos[0] = x;\n    result.lastPos[1] = y;\n  }\n  result.wheelListener = mouseWheel(element, function (dx, dy) {\n    if (!scene.scrollZoom) return false;\n    var dataBox = scene.calcDataBox();\n    var viewBox = plot.viewBox;\n    var lastX = result.lastPos[0];\n    var lastY = result.lastPos[1];\n    var scale = Math.exp(5.0 * dy / (viewBox[3] - viewBox[1]));\n    var cx = lastX / (viewBox[2] - viewBox[0]) * (dataBox[2] - dataBox[0]) + dataBox[0];\n    var cy = lastY / (viewBox[3] - viewBox[1]) * (dataBox[3] - dataBox[1]) + dataBox[1];\n    dataBox[0] = (dataBox[0] - cx) * scale + cx;\n    dataBox[2] = (dataBox[2] - cx) * scale + cx;\n    dataBox[1] = (dataBox[1] - cy) * scale + cy;\n    dataBox[3] = (dataBox[3] - cy) * scale + cy;\n    scene.setRanges(dataBox);\n    result.lastInputTime = Date.now();\n    unSetAutoRange();\n    scene.cameraChanged();\n    scene.handleAnnotations();\n    scene.relayoutCallback();\n    return true;\n  }, true);\n  return result;\n}","map":{"version":3,"names":["mouseChange","require","mouseWheel","mouseOffset","cartesianConstants","hasPassive","module","exports","createCamera","Camera2D","element","plot","mouseListener","wheelListener","lastInputTime","Date","now","lastPos","boxEnabled","boxInited","boxStart","boxEnd","dragStart","scene","mouseContainer","glplot","result","unSetAutoRange","xaxis","autorange","yaxis","getSubplotConstraint","constraints","graphDiv","_fullLayout","_axisConstraintGroups","xaId","_id","yaId","i","length","handleInteraction","addEventListener","ev","xy","changedTouches","preventDefault","passive","buttons","x","y","dataBox","calcDataBox","viewBox","lastX","lastY","MINDRAG","pixelRatio","MINZOOM","dx","dy","updateRange","i0","start","end","range0","Math","min","range1","max","setRanges","selectBox","setDirty","fullLayout","dragmode","dataX","dataY","smallDx","abs","smallDy","dydx","relayoutCallback","panning","cameraChanged","handleAnnotations","scrollZoom","scale","exp","cx","cy"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/plotly.js/src/plots/gl2d/camera.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar mouseChange = require('mouse-change');\nvar mouseWheel = require('mouse-wheel');\nvar mouseOffset = require('mouse-event-offset');\nvar cartesianConstants = require('../cartesian/constants');\nvar hasPassive = require('has-passive-events');\n\nmodule.exports = createCamera;\n\nfunction Camera2D(element, plot) {\n    this.element = element;\n    this.plot = plot;\n    this.mouseListener = null;\n    this.wheelListener = null;\n    this.lastInputTime = Date.now();\n    this.lastPos = [0, 0];\n    this.boxEnabled = false;\n    this.boxInited = false;\n    this.boxStart = [0, 0];\n    this.boxEnd = [0, 0];\n    this.dragStart = [0, 0];\n}\n\n\nfunction createCamera(scene) {\n    var element = scene.mouseContainer;\n    var plot = scene.glplot;\n    var result = new Camera2D(element, plot);\n\n    function unSetAutoRange() {\n        scene.xaxis.autorange = false;\n        scene.yaxis.autorange = false;\n    }\n\n    function getSubplotConstraint() {\n        // note: this assumes we only have one x and one y axis on this subplot\n        // when this constraint is lifted this block won't make sense\n        var constraints = scene.graphDiv._fullLayout._axisConstraintGroups;\n        var xaId = scene.xaxis._id;\n        var yaId = scene.yaxis._id;\n        for(var i = 0; i < constraints.length; i++) {\n            if(constraints[i][xaId] !== -1) {\n                if(constraints[i][yaId] !== -1) return true;\n                break;\n            }\n        }\n        return false;\n    }\n\n    result.mouseListener = mouseChange(element, handleInteraction);\n\n    // enable simple touch interactions\n    element.addEventListener('touchstart', function(ev) {\n        var xy = mouseOffset(ev.changedTouches[0], element);\n        handleInteraction(0, xy[0], xy[1]);\n        handleInteraction(1, xy[0], xy[1]);\n\n        ev.preventDefault();\n    }, hasPassive ? {passive: false} : false);\n    element.addEventListener('touchmove', function(ev) {\n        ev.preventDefault();\n        var xy = mouseOffset(ev.changedTouches[0], element);\n        handleInteraction(1, xy[0], xy[1]);\n\n        ev.preventDefault();\n    }, hasPassive ? {passive: false} : false);\n    element.addEventListener('touchend', function(ev) {\n        handleInteraction(0, result.lastPos[0], result.lastPos[1]);\n\n        ev.preventDefault();\n    }, hasPassive ? {passive: false} : false);\n\n    function handleInteraction(buttons, x, y) {\n        var dataBox = scene.calcDataBox();\n        var viewBox = plot.viewBox;\n\n        var lastX = result.lastPos[0];\n        var lastY = result.lastPos[1];\n\n        var MINDRAG = cartesianConstants.MINDRAG * plot.pixelRatio;\n        var MINZOOM = cartesianConstants.MINZOOM * plot.pixelRatio;\n\n        var dx, dy;\n\n        x *= plot.pixelRatio;\n        y *= plot.pixelRatio;\n\n        // mouseChange gives y about top; convert to about bottom\n        y = (viewBox[3] - viewBox[1]) - y;\n\n        function updateRange(i0, start, end) {\n            var range0 = Math.min(start, end);\n            var range1 = Math.max(start, end);\n\n            if(range0 !== range1) {\n                dataBox[i0] = range0;\n                dataBox[i0 + 2] = range1;\n                result.dataBox = dataBox;\n                scene.setRanges(dataBox);\n            }\n            else {\n                scene.selectBox.selectBox = [0, 0, 1, 1];\n                scene.glplot.setDirty();\n            }\n        }\n\n        switch(scene.fullLayout.dragmode) {\n            case 'zoom':\n                if(buttons) {\n                    var dataX = x /\n                            (viewBox[2] - viewBox[0]) * (dataBox[2] - dataBox[0]) +\n                        dataBox[0];\n                    var dataY = y /\n                            (viewBox[3] - viewBox[1]) * (dataBox[3] - dataBox[1]) +\n                        dataBox[1];\n\n                    if(!result.boxInited) {\n                        result.boxStart[0] = dataX;\n                        result.boxStart[1] = dataY;\n                        result.dragStart[0] = x;\n                        result.dragStart[1] = y;\n                    }\n\n                    result.boxEnd[0] = dataX;\n                    result.boxEnd[1] = dataY;\n\n                    // we need to mark the box as initialized right away\n                    // so that we can tell the start and end points apart\n                    result.boxInited = true;\n\n                    // but don't actually enable the box until the cursor moves\n                    if(!result.boxEnabled && (\n                        result.boxStart[0] !== result.boxEnd[0] ||\n                        result.boxStart[1] !== result.boxEnd[1])\n                    ) {\n                        result.boxEnabled = true;\n                    }\n\n                    // constrain aspect ratio if the axes require it\n                    var smallDx = Math.abs(result.dragStart[0] - x) < MINZOOM;\n                    var smallDy = Math.abs(result.dragStart[1] - y) < MINZOOM;\n                    if(getSubplotConstraint() && !(smallDx && smallDy)) {\n                        dx = result.boxEnd[0] - result.boxStart[0];\n                        dy = result.boxEnd[1] - result.boxStart[1];\n                        var dydx = (dataBox[3] - dataBox[1]) / (dataBox[2] - dataBox[0]);\n\n                        if(Math.abs(dx * dydx) > Math.abs(dy)) {\n                            result.boxEnd[1] = result.boxStart[1] +\n                                Math.abs(dx) * dydx * (dy >= 0 ? 1 : -1);\n\n                            // gl-select-box clips to the plot area bounds,\n                            // which breaks the axis constraint, so don't allow\n                            // this box to go out of bounds\n                            if(result.boxEnd[1] < dataBox[1]) {\n                                result.boxEnd[1] = dataBox[1];\n                                result.boxEnd[0] = result.boxStart[0] +\n                                    (dataBox[1] - result.boxStart[1]) / Math.abs(dydx);\n                            }\n                            else if(result.boxEnd[1] > dataBox[3]) {\n                                result.boxEnd[1] = dataBox[3];\n                                result.boxEnd[0] = result.boxStart[0] +\n                                    (dataBox[3] - result.boxStart[1]) / Math.abs(dydx);\n                            }\n                        }\n                        else {\n                            result.boxEnd[0] = result.boxStart[0] +\n                                Math.abs(dy) / dydx * (dx >= 0 ? 1 : -1);\n\n                            if(result.boxEnd[0] < dataBox[0]) {\n                                result.boxEnd[0] = dataBox[0];\n                                result.boxEnd[1] = result.boxStart[1] +\n                                    (dataBox[0] - result.boxStart[0]) * Math.abs(dydx);\n                            }\n                            else if(result.boxEnd[0] > dataBox[2]) {\n                                result.boxEnd[0] = dataBox[2];\n                                result.boxEnd[1] = result.boxStart[1] +\n                                    (dataBox[2] - result.boxStart[0]) * Math.abs(dydx);\n                            }\n                        }\n                    }\n                    // otherwise clamp small changes to the origin so we get 1D zoom\n                    else {\n                        if(smallDx) result.boxEnd[0] = result.boxStart[0];\n                        if(smallDy) result.boxEnd[1] = result.boxStart[1];\n                    }\n                }\n                else if(result.boxEnabled) {\n                    dx = result.boxStart[0] !== result.boxEnd[0];\n                    dy = result.boxStart[1] !== result.boxEnd[1];\n                    if(dx || dy) {\n                        if(dx) {\n                            updateRange(0, result.boxStart[0], result.boxEnd[0]);\n                            scene.xaxis.autorange = false;\n                        }\n                        if(dy) {\n                            updateRange(1, result.boxStart[1], result.boxEnd[1]);\n                            scene.yaxis.autorange = false;\n                        }\n                        scene.relayoutCallback();\n                    }\n                    else {\n                        scene.glplot.setDirty();\n                    }\n                    result.boxEnabled = false;\n                    result.boxInited = false;\n                }\n                // if box was inited but button released then - reset the box\n                else if(result.boxInited) {\n                    result.boxInited = false;\n                }\n                break;\n\n            case 'pan':\n                result.boxEnabled = false;\n                result.boxInited = false;\n\n                if(buttons) {\n                    if(!result.panning) {\n                        result.dragStart[0] = x;\n                        result.dragStart[1] = y;\n                    }\n\n                    if(Math.abs(result.dragStart[0] - x) < MINDRAG) x = result.dragStart[0];\n                    if(Math.abs(result.dragStart[1] - y) < MINDRAG) y = result.dragStart[1];\n\n                    dx = (lastX - x) * (dataBox[2] - dataBox[0]) /\n                        (plot.viewBox[2] - plot.viewBox[0]);\n                    dy = (lastY - y) * (dataBox[3] - dataBox[1]) /\n                        (plot.viewBox[3] - plot.viewBox[1]);\n\n                    dataBox[0] += dx;\n                    dataBox[2] += dx;\n                    dataBox[1] += dy;\n                    dataBox[3] += dy;\n\n                    scene.setRanges(dataBox);\n\n                    result.panning = true;\n                    result.lastInputTime = Date.now();\n                    unSetAutoRange();\n                    scene.cameraChanged();\n                    scene.handleAnnotations();\n                }\n                else if(result.panning) {\n                    result.panning = false;\n                    scene.relayoutCallback();\n                }\n                break;\n        }\n\n        result.lastPos[0] = x;\n        result.lastPos[1] = y;\n    }\n\n    result.wheelListener = mouseWheel(element, function(dx, dy) {\n        if(!scene.scrollZoom) return false;\n\n        var dataBox = scene.calcDataBox();\n        var viewBox = plot.viewBox;\n\n        var lastX = result.lastPos[0];\n        var lastY = result.lastPos[1];\n\n        var scale = Math.exp(5.0 * dy / (viewBox[3] - viewBox[1]));\n\n        var cx = lastX /\n                (viewBox[2] - viewBox[0]) * (dataBox[2] - dataBox[0]) +\n            dataBox[0];\n        var cy = lastY /\n                (viewBox[3] - viewBox[1]) * (dataBox[3] - dataBox[1]) +\n            dataBox[1];\n\n        dataBox[0] = (dataBox[0] - cx) * scale + cx;\n        dataBox[2] = (dataBox[2] - cx) * scale + cx;\n        dataBox[1] = (dataBox[1] - cy) * scale + cy;\n        dataBox[3] = (dataBox[3] - cy) * scale + cy;\n\n        scene.setRanges(dataBox);\n\n        result.lastInputTime = Date.now();\n        unSetAutoRange();\n        scene.cameraChanged();\n        scene.handleAnnotations();\n        scene.relayoutCallback();\n\n        return true;\n    }, true);\n\n    return result;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}