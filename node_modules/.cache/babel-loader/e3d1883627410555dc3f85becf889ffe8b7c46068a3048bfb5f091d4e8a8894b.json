{"ast":null,"code":"'use strict';\n\nmodule.exports = trimLeaves;\nvar e2a = require('edges-to-adjacency-list');\nfunction trimLeaves(edges, positions) {\n  var adj = e2a(edges, positions.length);\n  var live = new Array(positions.length);\n  var nbhd = new Array(positions.length);\n  var dead = [];\n  for (var i = 0; i < positions.length; ++i) {\n    var count = adj[i].length;\n    nbhd[i] = count;\n    live[i] = true;\n    if (count <= 1) {\n      dead.push(i);\n    }\n  }\n  while (dead.length > 0) {\n    var v = dead.pop();\n    live[v] = false;\n    var n = adj[v];\n    for (var i = 0; i < n.length; ++i) {\n      var u = n[i];\n      if (--nbhd[u] === 0) {\n        dead.push(u);\n      }\n    }\n  }\n  var newIndex = new Array(positions.length);\n  var npositions = [];\n  for (var i = 0; i < positions.length; ++i) {\n    if (live[i]) {\n      var v = npositions.length;\n      newIndex[i] = v;\n      npositions.push(positions[i]);\n    } else {\n      newIndex[i] = -1;\n    }\n  }\n  var nedges = [];\n  for (var i = 0; i < edges.length; ++i) {\n    var e = edges[i];\n    if (live[e[0]] && live[e[1]]) {\n      nedges.push([newIndex[e[0]], newIndex[e[1]]]);\n    }\n  }\n  return [nedges, npositions];\n}","map":{"version":3,"names":["module","exports","trimLeaves","e2a","require","edges","positions","adj","length","live","Array","nbhd","dead","i","count","push","v","pop","n","u","newIndex","npositions","nedges","e"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/planar-graph-to-polyline/lib/trim-leaves.js"],"sourcesContent":["'use strict'\n\nmodule.exports = trimLeaves\n\nvar e2a = require('edges-to-adjacency-list')\n\nfunction trimLeaves(edges, positions) {\n  var adj = e2a(edges, positions.length)\n  var live = new Array(positions.length)\n  var nbhd = new Array(positions.length)\n\n  var dead = []\n  for(var i=0; i<positions.length; ++i) {\n    var count = adj[i].length\n    nbhd[i] = count\n    live[i] = true\n    if(count <= 1) {\n      dead.push(i)\n    }\n  }\n\n  while(dead.length > 0) {\n    var v = dead.pop()\n    live[v] = false\n    var n = adj[v]\n    for(var i=0; i<n.length; ++i) {\n      var u = n[i]\n      if(--nbhd[u] === 0) {\n        dead.push(u)\n      }\n    }\n  }\n\n  var newIndex = new Array(positions.length)\n  var npositions = []\n  for(var i=0; i<positions.length; ++i) {\n    if(live[i]) {\n      var v = npositions.length\n      newIndex[i] = v\n      npositions.push(positions[i])\n    } else {\n      newIndex[i] = -1\n    }\n  }\n\n  var nedges = []\n  for(var i=0; i<edges.length; ++i) {\n    var e = edges[i]\n    if(live[e[0]] && live[e[1]]) {\n      nedges.push([ newIndex[e[0]], newIndex[e[1]] ])\n    }\n  }\n  \n  return [ nedges, npositions ]\n}"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,OAAO,GAAGC,UAAU;AAE3B,IAAIC,GAAG,GAAGC,OAAO,CAAC,yBAAyB,CAAC;AAE5C,SAASF,UAAU,CAACG,KAAK,EAAEC,SAAS,EAAE;EACpC,IAAIC,GAAG,GAAGJ,GAAG,CAACE,KAAK,EAAEC,SAAS,CAACE,MAAM,CAAC;EACtC,IAAIC,IAAI,GAAG,IAAIC,KAAK,CAACJ,SAAS,CAACE,MAAM,CAAC;EACtC,IAAIG,IAAI,GAAG,IAAID,KAAK,CAACJ,SAAS,CAACE,MAAM,CAAC;EAEtC,IAAII,IAAI,GAAG,EAAE;EACb,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACP,SAAS,CAACE,MAAM,EAAE,EAAEK,CAAC,EAAE;IACpC,IAAIC,KAAK,GAAGP,GAAG,CAACM,CAAC,CAAC,CAACL,MAAM;IACzBG,IAAI,CAACE,CAAC,CAAC,GAAGC,KAAK;IACfL,IAAI,CAACI,CAAC,CAAC,GAAG,IAAI;IACd,IAAGC,KAAK,IAAI,CAAC,EAAE;MACbF,IAAI,CAACG,IAAI,CAACF,CAAC,CAAC;IACd;EACF;EAEA,OAAMD,IAAI,CAACJ,MAAM,GAAG,CAAC,EAAE;IACrB,IAAIQ,CAAC,GAAGJ,IAAI,CAACK,GAAG,EAAE;IAClBR,IAAI,CAACO,CAAC,CAAC,GAAG,KAAK;IACf,IAAIE,CAAC,GAAGX,GAAG,CAACS,CAAC,CAAC;IACd,KAAI,IAAIH,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACK,CAAC,CAACV,MAAM,EAAE,EAAEK,CAAC,EAAE;MAC5B,IAAIM,CAAC,GAAGD,CAAC,CAACL,CAAC,CAAC;MACZ,IAAG,EAAEF,IAAI,CAACQ,CAAC,CAAC,KAAK,CAAC,EAAE;QAClBP,IAAI,CAACG,IAAI,CAACI,CAAC,CAAC;MACd;IACF;EACF;EAEA,IAAIC,QAAQ,GAAG,IAAIV,KAAK,CAACJ,SAAS,CAACE,MAAM,CAAC;EAC1C,IAAIa,UAAU,GAAG,EAAE;EACnB,KAAI,IAAIR,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACP,SAAS,CAACE,MAAM,EAAE,EAAEK,CAAC,EAAE;IACpC,IAAGJ,IAAI,CAACI,CAAC,CAAC,EAAE;MACV,IAAIG,CAAC,GAAGK,UAAU,CAACb,MAAM;MACzBY,QAAQ,CAACP,CAAC,CAAC,GAAGG,CAAC;MACfK,UAAU,CAACN,IAAI,CAACT,SAAS,CAACO,CAAC,CAAC,CAAC;IAC/B,CAAC,MAAM;MACLO,QAAQ,CAACP,CAAC,CAAC,GAAG,CAAC,CAAC;IAClB;EACF;EAEA,IAAIS,MAAM,GAAG,EAAE;EACf,KAAI,IAAIT,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACR,KAAK,CAACG,MAAM,EAAE,EAAEK,CAAC,EAAE;IAChC,IAAIU,CAAC,GAAGlB,KAAK,CAACQ,CAAC,CAAC;IAChB,IAAGJ,IAAI,CAACc,CAAC,CAAC,CAAC,CAAC,CAAC,IAAId,IAAI,CAACc,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MAC3BD,MAAM,CAACP,IAAI,CAAC,CAAEK,QAAQ,CAACG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEH,QAAQ,CAACG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,CAAC;IACjD;EACF;EAEA,OAAO,CAAED,MAAM,EAAED,UAAU,CAAE;AAC/B"},"metadata":{},"sourceType":"script","externalDependencies":[]}