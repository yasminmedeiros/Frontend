{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar attributes = require('./attributes');\nvar Color = require('../../components/color');\nvar tinycolor = require('tinycolor2');\nvar handleDomainDefaults = require('../../plots/domain').defaults;\nvar handleHoverLabelDefaults = require('../../components/fx/hoverlabel_defaults');\nvar Template = require('../../plot_api/plot_template');\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  var hoverlabelDefault = Lib.extendDeep(layout.hoverlabel, traceIn.hoverlabel);\n\n  // node attributes\n  var nodeIn = traceIn.node;\n  var nodeOut = Template.newContainer(traceOut, 'node');\n  function coerceNode(attr, dflt) {\n    return Lib.coerce(nodeIn, nodeOut, attributes.node, attr, dflt);\n  }\n  coerceNode('label');\n  coerceNode('pad');\n  coerceNode('thickness');\n  coerceNode('line.color');\n  coerceNode('line.width');\n  coerceNode('hoverinfo', traceIn.hoverinfo);\n  handleHoverLabelDefaults(nodeIn, nodeOut, coerceNode, hoverlabelDefault);\n  coerceNode('hovertemplate');\n  var colors = layout.colorway;\n  var defaultNodePalette = function defaultNodePalette(i) {\n    return colors[i % colors.length];\n  };\n  coerceNode('color', nodeOut.label.map(function (d, i) {\n    return Color.addOpacity(defaultNodePalette(i), 0.8);\n  }));\n\n  // link attributes\n  var linkIn = traceIn.link;\n  var linkOut = Template.newContainer(traceOut, 'link');\n  function coerceLink(attr, dflt) {\n    return Lib.coerce(linkIn, linkOut, attributes.link, attr, dflt);\n  }\n  coerceLink('label');\n  coerceLink('source');\n  coerceLink('target');\n  coerceLink('value');\n  coerceLink('line.color');\n  coerceLink('line.width');\n  coerceLink('hoverinfo', traceIn.hoverinfo);\n  handleHoverLabelDefaults(linkIn, linkOut, coerceLink, hoverlabelDefault);\n  coerceLink('hovertemplate');\n  var defaultLinkColor = tinycolor(layout.paper_bgcolor).getLuminance() < 0.333 ? 'rgba(255, 255, 255, 0.6)' : 'rgba(0, 0, 0, 0.2)';\n  coerceLink('color', Lib.repeat(defaultLinkColor, linkOut.value.length));\n  handleDomainDefaults(traceOut, layout, coerce);\n  coerce('orientation');\n  coerce('valueformat');\n  coerce('valuesuffix');\n  coerce('arrangement');\n  Lib.coerceFont(coerce, 'textfont', Lib.extendFlat({}, layout.font));\n\n  // disable 1D transforms - arrays here are 1D but their lengths/meanings\n  // don't match, between nodes and links\n  traceOut._length = null;\n};","map":{"version":3,"names":["Lib","require","attributes","Color","tinycolor","handleDomainDefaults","defaults","handleHoverLabelDefaults","Template","module","exports","supplyDefaults","traceIn","traceOut","defaultColor","layout","coerce","attr","dflt","hoverlabelDefault","extendDeep","hoverlabel","nodeIn","node","nodeOut","newContainer","coerceNode","hoverinfo","colors","colorway","defaultNodePalette","i","length","label","map","d","addOpacity","linkIn","link","linkOut","coerceLink","defaultLinkColor","paper_bgcolor","getLuminance","repeat","value","coerceFont","extendFlat","font","_length"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/plotly.js/src/traces/sankey/defaults.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar attributes = require('./attributes');\nvar Color = require('../../components/color');\nvar tinycolor = require('tinycolor2');\nvar handleDomainDefaults = require('../../plots/domain').defaults;\nvar handleHoverLabelDefaults = require('../../components/fx/hoverlabel_defaults');\nvar Template = require('../../plot_api/plot_template');\n\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var hoverlabelDefault = Lib.extendDeep(layout.hoverlabel, traceIn.hoverlabel);\n\n    // node attributes\n    var nodeIn = traceIn.node;\n    var nodeOut = Template.newContainer(traceOut, 'node');\n\n    function coerceNode(attr, dflt) {\n        return Lib.coerce(nodeIn, nodeOut, attributes.node, attr, dflt);\n    }\n    coerceNode('label');\n    coerceNode('pad');\n    coerceNode('thickness');\n    coerceNode('line.color');\n    coerceNode('line.width');\n    coerceNode('hoverinfo', traceIn.hoverinfo);\n    handleHoverLabelDefaults(nodeIn, nodeOut, coerceNode, hoverlabelDefault);\n    coerceNode('hovertemplate');\n\n    var colors = layout.colorway;\n\n    var defaultNodePalette = function(i) {return colors[i % colors.length];};\n\n    coerceNode('color', nodeOut.label.map(function(d, i) {\n        return Color.addOpacity(defaultNodePalette(i), 0.8);\n    }));\n\n    // link attributes\n    var linkIn = traceIn.link;\n    var linkOut = Template.newContainer(traceOut, 'link');\n\n    function coerceLink(attr, dflt) {\n        return Lib.coerce(linkIn, linkOut, attributes.link, attr, dflt);\n    }\n    coerceLink('label');\n    coerceLink('source');\n    coerceLink('target');\n    coerceLink('value');\n    coerceLink('line.color');\n    coerceLink('line.width');\n    coerceLink('hoverinfo', traceIn.hoverinfo);\n    handleHoverLabelDefaults(linkIn, linkOut, coerceLink, hoverlabelDefault);\n    coerceLink('hovertemplate');\n\n    var defaultLinkColor = tinycolor(layout.paper_bgcolor).getLuminance() < 0.333 ?\n                'rgba(255, 255, 255, 0.6)' :\n                'rgba(0, 0, 0, 0.2)';\n\n    coerceLink('color', Lib.repeat(defaultLinkColor, linkOut.value.length));\n\n    handleDomainDefaults(traceOut, layout, coerce);\n\n    coerce('orientation');\n    coerce('valueformat');\n    coerce('valuesuffix');\n    coerce('arrangement');\n\n    Lib.coerceFont(coerce, 'textfont', Lib.extendFlat({}, layout.font));\n\n    // disable 1D transforms - arrays here are 1D but their lengths/meanings\n    // don't match, between nodes and links\n    traceOut._length = null;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}