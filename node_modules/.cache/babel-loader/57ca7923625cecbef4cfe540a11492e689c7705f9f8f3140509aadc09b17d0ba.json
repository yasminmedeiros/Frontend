{"ast":null,"code":"'use strict';\n\nmodule.exports = createFilteredVector;\nvar cubicHermite = require('cubic-hermite');\nvar bsearch = require('binary-search-bounds');\nfunction clamp(lo, hi, x) {\n  return Math.min(hi, Math.max(lo, x));\n}\nfunction FilteredVector(state0, velocity0, t0) {\n  this.dimension = state0.length;\n  this.bounds = [new Array(this.dimension), new Array(this.dimension)];\n  for (var i = 0; i < this.dimension; ++i) {\n    this.bounds[0][i] = -Infinity;\n    this.bounds[1][i] = Infinity;\n  }\n  this._state = state0.slice().reverse();\n  this._velocity = velocity0.slice().reverse();\n  this._time = [t0];\n  this._scratch = [state0.slice(), state0.slice(), state0.slice(), state0.slice(), state0.slice()];\n}\nvar proto = FilteredVector.prototype;\nproto.flush = function (t) {\n  var idx = bsearch.gt(this._time, t) - 1;\n  if (idx <= 0) {\n    return;\n  }\n  this._time.splice(0, idx);\n  this._state.splice(0, idx * this.dimension);\n  this._velocity.splice(0, idx * this.dimension);\n};\nproto.curve = function (t) {\n  var time = this._time;\n  var n = time.length;\n  var idx = bsearch.le(time, t);\n  var result = this._scratch[0];\n  var state = this._state;\n  var velocity = this._velocity;\n  var d = this.dimension;\n  var bounds = this.bounds;\n  if (idx < 0) {\n    var ptr = d - 1;\n    for (var i = 0; i < d; ++i, --ptr) {\n      result[i] = state[ptr];\n    }\n  } else if (idx >= n - 1) {\n    var ptr = state.length - 1;\n    var tf = t - time[n - 1];\n    for (var i = 0; i < d; ++i, --ptr) {\n      result[i] = state[ptr] + tf * velocity[ptr];\n    }\n  } else {\n    var ptr = d * (idx + 1) - 1;\n    var t0 = time[idx];\n    var t1 = time[idx + 1];\n    var dt = t1 - t0 || 1.0;\n    var x0 = this._scratch[1];\n    var x1 = this._scratch[2];\n    var v0 = this._scratch[3];\n    var v1 = this._scratch[4];\n    var steady = true;\n    for (var i = 0; i < d; ++i, --ptr) {\n      x0[i] = state[ptr];\n      v0[i] = velocity[ptr] * dt;\n      x1[i] = state[ptr + d];\n      v1[i] = velocity[ptr + d] * dt;\n      steady = steady && x0[i] === x1[i] && v0[i] === v1[i] && v0[i] === 0.0;\n    }\n    if (steady) {\n      for (var i = 0; i < d; ++i) {\n        result[i] = x0[i];\n      }\n    } else {\n      cubicHermite(x0, v0, x1, v1, (t - t0) / dt, result);\n    }\n  }\n  var lo = bounds[0];\n  var hi = bounds[1];\n  for (var i = 0; i < d; ++i) {\n    result[i] = clamp(lo[i], hi[i], result[i]);\n  }\n  return result;\n};\nproto.dcurve = function (t) {\n  var time = this._time;\n  var n = time.length;\n  var idx = bsearch.le(time, t);\n  var result = this._scratch[0];\n  var state = this._state;\n  var velocity = this._velocity;\n  var d = this.dimension;\n  if (idx >= n - 1) {\n    var ptr = state.length - 1;\n    var tf = t - time[n - 1];\n    for (var i = 0; i < d; ++i, --ptr) {\n      result[i] = velocity[ptr];\n    }\n  } else {\n    var ptr = d * (idx + 1) - 1;\n    var t0 = time[idx];\n    var t1 = time[idx + 1];\n    var dt = t1 - t0 || 1.0;\n    var x0 = this._scratch[1];\n    var x1 = this._scratch[2];\n    var v0 = this._scratch[3];\n    var v1 = this._scratch[4];\n    var steady = true;\n    for (var i = 0; i < d; ++i, --ptr) {\n      x0[i] = state[ptr];\n      v0[i] = velocity[ptr] * dt;\n      x1[i] = state[ptr + d];\n      v1[i] = velocity[ptr + d] * dt;\n      steady = steady && x0[i] === x1[i] && v0[i] === v1[i] && v0[i] === 0.0;\n    }\n    if (steady) {\n      for (var i = 0; i < d; ++i) {\n        result[i] = 0.0;\n      }\n    } else {\n      cubicHermite.derivative(x0, v0, x1, v1, (t - t0) / dt, result);\n      for (var i = 0; i < d; ++i) {\n        result[i] /= dt;\n      }\n    }\n  }\n  return result;\n};\nproto.lastT = function () {\n  var time = this._time;\n  return time[time.length - 1];\n};\nproto.stable = function () {\n  var velocity = this._velocity;\n  var ptr = velocity.length;\n  for (var i = this.dimension - 1; i >= 0; --i) {\n    if (velocity[--ptr]) {\n      return false;\n    }\n  }\n  return true;\n};\nproto.jump = function (t) {\n  var t0 = this.lastT();\n  var d = this.dimension;\n  if (t < t0 || arguments.length !== d + 1) {\n    return;\n  }\n  var state = this._state;\n  var velocity = this._velocity;\n  var ptr = state.length - this.dimension;\n  var bounds = this.bounds;\n  var lo = bounds[0];\n  var hi = bounds[1];\n  this._time.push(t0, t);\n  for (var j = 0; j < 2; ++j) {\n    for (var i = 0; i < d; ++i) {\n      state.push(state[ptr++]);\n      velocity.push(0);\n    }\n  }\n  this._time.push(t);\n  for (var i = d; i > 0; --i) {\n    state.push(clamp(lo[i - 1], hi[i - 1], arguments[i]));\n    velocity.push(0);\n  }\n};\nproto.push = function (t) {\n  var t0 = this.lastT();\n  var d = this.dimension;\n  if (t < t0 || arguments.length !== d + 1) {\n    return;\n  }\n  var state = this._state;\n  var velocity = this._velocity;\n  var ptr = state.length - this.dimension;\n  var dt = t - t0;\n  var bounds = this.bounds;\n  var lo = bounds[0];\n  var hi = bounds[1];\n  var sf = dt > 1e-6 ? 1 / dt : 0;\n  this._time.push(t);\n  for (var i = d; i > 0; --i) {\n    var xc = clamp(lo[i - 1], hi[i - 1], arguments[i]);\n    state.push(xc);\n    velocity.push((xc - state[ptr++]) * sf);\n  }\n};\nproto.set = function (t) {\n  var d = this.dimension;\n  if (t < this.lastT() || arguments.length !== d + 1) {\n    return;\n  }\n  var state = this._state;\n  var velocity = this._velocity;\n  var bounds = this.bounds;\n  var lo = bounds[0];\n  var hi = bounds[1];\n  this._time.push(t);\n  for (var i = d; i > 0; --i) {\n    state.push(clamp(lo[i - 1], hi[i - 1], arguments[i]));\n    velocity.push(0);\n  }\n};\nproto.move = function (t) {\n  var t0 = this.lastT();\n  var d = this.dimension;\n  if (t <= t0 || arguments.length !== d + 1) {\n    return;\n  }\n  var state = this._state;\n  var velocity = this._velocity;\n  var statePtr = state.length - this.dimension;\n  var bounds = this.bounds;\n  var lo = bounds[0];\n  var hi = bounds[1];\n  var dt = t - t0;\n  var sf = dt > 1e-6 ? 1 / dt : 0.0;\n  this._time.push(t);\n  for (var i = d; i > 0; --i) {\n    var dx = arguments[i];\n    state.push(clamp(lo[i - 1], hi[i - 1], state[statePtr++] + dx));\n    velocity.push(dx * sf);\n  }\n};\nproto.idle = function (t) {\n  var t0 = this.lastT();\n  if (t < t0) {\n    return;\n  }\n  var d = this.dimension;\n  var state = this._state;\n  var velocity = this._velocity;\n  var statePtr = state.length - d;\n  var bounds = this.bounds;\n  var lo = bounds[0];\n  var hi = bounds[1];\n  var dt = t - t0;\n  this._time.push(t);\n  for (var i = d - 1; i >= 0; --i) {\n    state.push(clamp(lo[i], hi[i], state[statePtr] + dt * velocity[statePtr]));\n    velocity.push(0);\n    statePtr += 1;\n  }\n};\nfunction getZero(d) {\n  var result = new Array(d);\n  for (var i = 0; i < d; ++i) {\n    result[i] = 0.0;\n  }\n  return result;\n}\nfunction createFilteredVector(initState, initVelocity, initTime) {\n  switch (arguments.length) {\n    case 0:\n      return new FilteredVector([0], [0], 0);\n    case 1:\n      if (typeof initState === 'number') {\n        var zero = getZero(initState);\n        return new FilteredVector(zero, zero, 0);\n      } else {\n        return new FilteredVector(initState, getZero(initState.length), 0);\n      }\n    case 2:\n      if (typeof initVelocity === 'number') {\n        var zero = getZero(initState.length);\n        return new FilteredVector(initState, zero, +initVelocity);\n      } else {\n        initTime = 0;\n      }\n    case 3:\n      if (initState.length !== initVelocity.length) {\n        throw new Error('state and velocity lengths must match');\n      }\n      return new FilteredVector(initState, initVelocity, initTime);\n  }\n}","map":{"version":3,"names":["module","exports","createFilteredVector","cubicHermite","require","bsearch","clamp","lo","hi","x","Math","min","max","FilteredVector","state0","velocity0","t0","dimension","length","bounds","Array","i","Infinity","_state","slice","reverse","_velocity","_time","_scratch","proto","prototype","flush","t","idx","gt","splice","curve","time","n","le","result","state","velocity","d","ptr","tf","t1","dt","x0","x1","v0","v1","steady","dcurve","derivative","lastT","stable","jump","arguments","push","j","sf","xc","set","move","statePtr","dx","idle","getZero","initState","initVelocity","initTime","zero","Error"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/filtered-vector/fvec.js"],"sourcesContent":["'use strict'\n\nmodule.exports = createFilteredVector\n\nvar cubicHermite = require('cubic-hermite')\nvar bsearch = require('binary-search-bounds')\n\nfunction clamp(lo, hi, x) {\n  return Math.min(hi, Math.max(lo, x))\n}\n\nfunction FilteredVector(state0, velocity0, t0) {\n  this.dimension  = state0.length\n  this.bounds     = [ new Array(this.dimension), new Array(this.dimension) ]\n  for(var i=0; i<this.dimension; ++i) {\n    this.bounds[0][i] = -Infinity\n    this.bounds[1][i] = Infinity\n  }\n  this._state     = state0.slice().reverse()\n  this._velocity  = velocity0.slice().reverse()\n  this._time      = [ t0 ]\n  this._scratch   = [ state0.slice(), state0.slice(), state0.slice(), state0.slice(), state0.slice() ]\n}\n\nvar proto = FilteredVector.prototype\n\nproto.flush = function(t) {\n  var idx = bsearch.gt(this._time, t) - 1\n  if(idx <= 0) {\n    return\n  }\n  this._time.splice(0, idx)\n  this._state.splice(0, idx * this.dimension)\n  this._velocity.splice(0, idx * this.dimension)\n}\n\nproto.curve = function(t) {\n  var time      = this._time\n  var n         = time.length\n  var idx       = bsearch.le(time, t)\n  var result    = this._scratch[0]\n  var state     = this._state\n  var velocity  = this._velocity\n  var d         = this.dimension\n  var bounds    = this.bounds\n  if(idx < 0) {\n    var ptr = d-1\n    for(var i=0; i<d; ++i, --ptr) {\n      result[i] = state[ptr]\n    }\n  } else if(idx >= n-1) {\n    var ptr = state.length-1\n    var tf = t - time[n-1]\n    for(var i=0; i<d; ++i, --ptr) {\n      result[i] = state[ptr] + tf * velocity[ptr]\n    }\n  } else {\n    var ptr = d * (idx+1) - 1\n    var t0  = time[idx]\n    var t1  = time[idx+1]\n    var dt  = (t1 - t0) || 1.0\n    var x0  = this._scratch[1]\n    var x1  = this._scratch[2]\n    var v0  = this._scratch[3]\n    var v1  = this._scratch[4]\n    var steady = true\n    for(var i=0; i<d; ++i, --ptr) {\n      x0[i] = state[ptr]\n      v0[i] = velocity[ptr] * dt\n      x1[i] = state[ptr+d]\n      v1[i] = velocity[ptr+d] * dt\n      steady = steady && (x0[i] === x1[i] && v0[i] === v1[i] && v0[i] === 0.0)\n    }\n    if(steady) {\n      for(var i=0; i<d; ++i) {\n        result[i] = x0[i]\n      }\n    } else {\n      cubicHermite(x0, v0, x1, v1, (t-t0)/dt, result)\n    }\n  }\n  var lo = bounds[0]\n  var hi = bounds[1]\n  for(var i=0; i<d; ++i) {\n    result[i] = clamp(lo[i], hi[i], result[i])\n  }\n  return result\n}\n\nproto.dcurve = function(t) {\n  var time     = this._time\n  var n        = time.length\n  var idx      = bsearch.le(time, t)\n  var result   = this._scratch[0]\n  var state    = this._state\n  var velocity = this._velocity\n  var d        = this.dimension\n  if(idx >= n-1) {\n    var ptr = state.length-1\n    var tf = t - time[n-1]\n    for(var i=0; i<d; ++i, --ptr) {\n      result[i] = velocity[ptr]\n    }\n  } else {\n    var ptr = d * (idx+1) - 1\n    var t0 = time[idx]\n    var t1 = time[idx+1]\n    var dt = (t1 - t0) || 1.0\n    var x0 = this._scratch[1]\n    var x1 = this._scratch[2]\n    var v0 = this._scratch[3]\n    var v1 = this._scratch[4]\n    var steady = true\n    for(var i=0; i<d; ++i, --ptr) {\n      x0[i] = state[ptr]\n      v0[i] = velocity[ptr] * dt\n      x1[i] = state[ptr+d]\n      v1[i] = velocity[ptr+d] * dt\n      steady = steady && (x0[i] === x1[i] && v0[i] === v1[i] && v0[i] === 0.0)\n    }\n    if(steady) {\n      for(var i=0; i<d; ++i) {\n        result[i] = 0.0\n      }\n    } else {\n      cubicHermite.derivative(x0, v0, x1, v1, (t-t0)/dt, result)\n      for(var i=0; i<d; ++i) {\n        result[i] /= dt\n      }\n    }\n  }\n  return result\n}\n\nproto.lastT = function() {\n  var time = this._time\n  return time[time.length-1]\n}\n\nproto.stable = function() {\n  var velocity = this._velocity\n  var ptr = velocity.length\n  for(var i=this.dimension-1; i>=0; --i) {\n    if(velocity[--ptr]) {\n      return false\n    }\n  }\n  return true\n}\n\nproto.jump = function(t) {\n  var t0 = this.lastT()\n  var d  = this.dimension\n  if(t < t0 || arguments.length !== d+1) {\n    return\n  }\n  var state     = this._state\n  var velocity  = this._velocity\n  var ptr       = state.length-this.dimension\n  var bounds    = this.bounds\n  var lo        = bounds[0]\n  var hi        = bounds[1]\n  this._time.push(t0, t)\n  for(var j=0; j<2; ++j) {\n    for(var i=0; i<d; ++i) {\n      state.push(state[ptr++])\n      velocity.push(0)\n    }\n  }\n  this._time.push(t)\n  for(var i=d; i>0; --i) {\n    state.push(clamp(lo[i-1], hi[i-1], arguments[i]))\n    velocity.push(0)\n  }\n}\n\nproto.push = function(t) {\n  var t0 = this.lastT()\n  var d  = this.dimension\n  if(t < t0 || arguments.length !== d+1) {\n    return\n  }\n  var state     = this._state\n  var velocity  = this._velocity\n  var ptr       = state.length-this.dimension\n  var dt        = t - t0\n  var bounds    = this.bounds\n  var lo        = bounds[0]\n  var hi        = bounds[1]\n  var sf        = (dt > 1e-6) ? 1/dt : 0\n  this._time.push(t)\n  for(var i=d; i>0; --i) {\n    var xc = clamp(lo[i-1], hi[i-1], arguments[i])\n    state.push(xc)\n    velocity.push((xc - state[ptr++]) * sf)\n  }\n}\n\nproto.set = function(t) {\n  var d = this.dimension\n  if(t < this.lastT() || arguments.length !== d+1) {\n    return\n  }\n  var state     = this._state\n  var velocity  = this._velocity\n  var bounds    = this.bounds\n  var lo        = bounds[0]\n  var hi        = bounds[1]\n  this._time.push(t)\n  for(var i=d; i>0; --i) {\n    state.push(clamp(lo[i-1], hi[i-1], arguments[i]))\n    velocity.push(0)\n  }\n}\n\nproto.move = function(t) {\n  var t0 = this.lastT()\n  var d  = this.dimension\n  if(t <= t0 || arguments.length !== d+1) {\n    return\n  }\n  var state    = this._state\n  var velocity = this._velocity\n  var statePtr = state.length - this.dimension\n  var bounds   = this.bounds\n  var lo       = bounds[0]\n  var hi       = bounds[1]\n  var dt       = t - t0\n  var sf       = (dt > 1e-6) ? 1/dt : 0.0\n  this._time.push(t)\n  for(var i=d; i>0; --i) {\n    var dx = arguments[i]\n    state.push(clamp(lo[i-1], hi[i-1], state[statePtr++] + dx))\n    velocity.push(dx * sf)\n  }\n}\n\nproto.idle = function(t) {\n  var t0 = this.lastT()\n  if(t < t0) {\n    return\n  }\n  var d        = this.dimension\n  var state    = this._state\n  var velocity = this._velocity\n  var statePtr = state.length-d\n  var bounds   = this.bounds\n  var lo       = bounds[0]\n  var hi       = bounds[1]\n  var dt       = t - t0\n  this._time.push(t)\n  for(var i=d-1; i>=0; --i) {\n    state.push(clamp(lo[i], hi[i], state[statePtr] + dt * velocity[statePtr]))\n    velocity.push(0)\n    statePtr += 1\n  }\n}\n\nfunction getZero(d) {\n  var result = new Array(d)\n  for(var i=0; i<d; ++i) {\n    result[i] = 0.0\n  }\n  return result\n}\n\nfunction createFilteredVector(initState, initVelocity, initTime) {\n  switch(arguments.length) {\n    case 0:\n      return new FilteredVector([0], [0], 0)\n    case 1:\n      if(typeof initState === 'number') {\n        var zero = getZero(initState)\n        return new FilteredVector(zero, zero, 0)\n      } else {\n        return new FilteredVector(initState, getZero(initState.length), 0)\n      }\n    case 2:\n      if(typeof initVelocity === 'number') {\n        var zero = getZero(initState.length)\n        return new FilteredVector(initState, zero, +initVelocity)\n      } else {\n        initTime = 0\n      }\n    case 3:\n      if(initState.length !== initVelocity.length) {\n        throw new Error('state and velocity lengths must match')\n      }\n      return new FilteredVector(initState, initVelocity, initTime)\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}