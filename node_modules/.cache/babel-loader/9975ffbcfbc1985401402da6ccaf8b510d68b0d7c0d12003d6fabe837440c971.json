{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar subtypes = require('../scatter/subtypes');\nvar BADNUM = require('../../constants/numerical').BADNUM;\nmodule.exports = function selectPoints(searchInfo, selectionTester) {\n  var cd = searchInfo.cd;\n  var xa = searchInfo.xaxis;\n  var ya = searchInfo.yaxis;\n  var selection = [];\n  var trace = cd[0].trace;\n  var i;\n  if (!subtypes.hasMarkers(trace)) return [];\n  if (selectionTester === false) {\n    for (i = 0; i < cd.length; i++) {\n      cd[i].selected = 0;\n    }\n  } else {\n    for (i = 0; i < cd.length; i++) {\n      var di = cd[i];\n      var lonlat = di.lonlat;\n      if (lonlat[0] !== BADNUM) {\n        var lonlat2 = [Lib.modHalf(lonlat[0], 360), lonlat[1]];\n        var xy = [xa.c2p(lonlat2), ya.c2p(lonlat2)];\n        if (selectionTester.contains(xy, null, i, searchInfo)) {\n          selection.push({\n            pointNumber: i,\n            lon: lonlat[0],\n            lat: lonlat[1]\n          });\n          di.selected = 1;\n        } else {\n          di.selected = 0;\n        }\n      }\n    }\n  }\n  return selection;\n};","map":{"version":3,"names":["Lib","require","subtypes","BADNUM","module","exports","selectPoints","searchInfo","selectionTester","cd","xa","xaxis","ya","yaxis","selection","trace","i","hasMarkers","length","selected","di","lonlat","lonlat2","modHalf","xy","c2p","contains","push","pointNumber","lon","lat"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/plotly.js/src/traces/scattermapbox/select.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar subtypes = require('../scatter/subtypes');\nvar BADNUM = require('../../constants/numerical').BADNUM;\n\nmodule.exports = function selectPoints(searchInfo, selectionTester) {\n    var cd = searchInfo.cd;\n    var xa = searchInfo.xaxis;\n    var ya = searchInfo.yaxis;\n    var selection = [];\n    var trace = cd[0].trace;\n    var i;\n\n    if(!subtypes.hasMarkers(trace)) return [];\n\n    if(selectionTester === false) {\n        for(i = 0; i < cd.length; i++) {\n            cd[i].selected = 0;\n        }\n    } else {\n        for(i = 0; i < cd.length; i++) {\n            var di = cd[i];\n            var lonlat = di.lonlat;\n\n            if(lonlat[0] !== BADNUM) {\n                var lonlat2 = [Lib.modHalf(lonlat[0], 360), lonlat[1]];\n                var xy = [xa.c2p(lonlat2), ya.c2p(lonlat2)];\n\n                if(selectionTester.contains(xy, null, i, searchInfo)) {\n                    selection.push({\n                        pointNumber: i,\n                        lon: lonlat[0],\n                        lat: lonlat[1]\n                    });\n                    di.selected = 1;\n                } else {\n                    di.selected = 0;\n                }\n            }\n        }\n    }\n\n    return selection;\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,GAAG,GAAGC,OAAO,CAAC,WAAW,CAAC;AAC9B,IAAIC,QAAQ,GAAGD,OAAO,CAAC,qBAAqB,CAAC;AAC7C,IAAIE,MAAM,GAAGF,OAAO,CAAC,2BAA2B,CAAC,CAACE,MAAM;AAExDC,MAAM,CAACC,OAAO,GAAG,SAASC,YAAY,CAACC,UAAU,EAAEC,eAAe,EAAE;EAChE,IAAIC,EAAE,GAAGF,UAAU,CAACE,EAAE;EACtB,IAAIC,EAAE,GAAGH,UAAU,CAACI,KAAK;EACzB,IAAIC,EAAE,GAAGL,UAAU,CAACM,KAAK;EACzB,IAAIC,SAAS,GAAG,EAAE;EAClB,IAAIC,KAAK,GAAGN,EAAE,CAAC,CAAC,CAAC,CAACM,KAAK;EACvB,IAAIC,CAAC;EAEL,IAAG,CAACd,QAAQ,CAACe,UAAU,CAACF,KAAK,CAAC,EAAE,OAAO,EAAE;EAEzC,IAAGP,eAAe,KAAK,KAAK,EAAE;IAC1B,KAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,EAAE,CAACS,MAAM,EAAEF,CAAC,EAAE,EAAE;MAC3BP,EAAE,CAACO,CAAC,CAAC,CAACG,QAAQ,GAAG,CAAC;IACtB;EACJ,CAAC,MAAM;IACH,KAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,EAAE,CAACS,MAAM,EAAEF,CAAC,EAAE,EAAE;MAC3B,IAAII,EAAE,GAAGX,EAAE,CAACO,CAAC,CAAC;MACd,IAAIK,MAAM,GAAGD,EAAE,CAACC,MAAM;MAEtB,IAAGA,MAAM,CAAC,CAAC,CAAC,KAAKlB,MAAM,EAAE;QACrB,IAAImB,OAAO,GAAG,CAACtB,GAAG,CAACuB,OAAO,CAACF,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC;QACtD,IAAIG,EAAE,GAAG,CAACd,EAAE,CAACe,GAAG,CAACH,OAAO,CAAC,EAAEV,EAAE,CAACa,GAAG,CAACH,OAAO,CAAC,CAAC;QAE3C,IAAGd,eAAe,CAACkB,QAAQ,CAACF,EAAE,EAAE,IAAI,EAAER,CAAC,EAAET,UAAU,CAAC,EAAE;UAClDO,SAAS,CAACa,IAAI,CAAC;YACXC,WAAW,EAAEZ,CAAC;YACda,GAAG,EAAER,MAAM,CAAC,CAAC,CAAC;YACdS,GAAG,EAAET,MAAM,CAAC,CAAC;UACjB,CAAC,CAAC;UACFD,EAAE,CAACD,QAAQ,GAAG,CAAC;QACnB,CAAC,MAAM;UACHC,EAAE,CAACD,QAAQ,GAAG,CAAC;QACnB;MACJ;IACJ;EACJ;EAEA,OAAOL,SAAS;AACpB,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}