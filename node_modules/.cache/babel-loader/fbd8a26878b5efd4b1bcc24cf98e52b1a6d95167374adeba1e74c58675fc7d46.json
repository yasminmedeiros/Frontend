{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Fx = require('../../components/fx');\nvar Axes = require('../../plots/cartesian/axes');\nvar BADNUM = require('../../constants/numerical').BADNUM;\nvar getTraceColor = require('../scatter/get_trace_color');\nvar fillHoverText = require('../scatter/fill_hover_text');\nvar attributes = require('./attributes');\nmodule.exports = function hoverPoints(pointData, xval, yval) {\n  var cd = pointData.cd;\n  var trace = cd[0].trace;\n  var xa = pointData.xa;\n  var ya = pointData.ya;\n  var geo = pointData.subplot;\n  var isLonLatOverEdges = geo.projection.isLonLatOverEdges;\n  var project = geo.project;\n  function distFn(d) {\n    var lonlat = d.lonlat;\n    if (lonlat[0] === BADNUM) return Infinity;\n    if (isLonLatOverEdges(lonlat)) return Infinity;\n    var pt = project(lonlat);\n    var px = project([xval, yval]);\n    var dx = Math.abs(pt[0] - px[0]);\n    var dy = Math.abs(pt[1] - px[1]);\n    var rad = Math.max(3, d.mrc || 0);\n\n    // N.B. d.mrc is the calculated marker radius\n    // which is only set for trace with 'markers' mode.\n\n    return Math.max(Math.sqrt(dx * dx + dy * dy) - rad, 1 - 3 / rad);\n  }\n  Fx.getClosest(cd, distFn, pointData);\n\n  // skip the rest (for this trace) if we didn't find a close point\n  if (pointData.index === false) return;\n  var di = cd[pointData.index];\n  var lonlat = di.lonlat;\n  var pos = [xa.c2p(lonlat), ya.c2p(lonlat)];\n  var rad = di.mrc || 1;\n  pointData.x0 = pos[0] - rad;\n  pointData.x1 = pos[0] + rad;\n  pointData.y0 = pos[1] - rad;\n  pointData.y1 = pos[1] + rad;\n  pointData.loc = di.loc;\n  pointData.lon = lonlat[0];\n  pointData.lat = lonlat[1];\n  pointData.color = getTraceColor(trace, di);\n  pointData.extraText = getExtraText(trace, di, geo.mockAxis, cd[0].t.labels);\n  pointData.hovertemplate = trace.hovertemplate;\n  return [pointData];\n};\nfunction getExtraText(trace, pt, axis, labels) {\n  if (trace.hovertemplate) {\n    return;\n  }\n  var hoverinfo = pt.hi || trace.hoverinfo;\n  var parts = hoverinfo === 'all' ? attributes.hoverinfo.flags : hoverinfo.split('+');\n  var hasLocation = parts.indexOf('location') !== -1 && Array.isArray(trace.locations);\n  var hasLon = parts.indexOf('lon') !== -1;\n  var hasLat = parts.indexOf('lat') !== -1;\n  var hasText = parts.indexOf('text') !== -1;\n  var text = [];\n  function format(val) {\n    return Axes.tickText(axis, axis.c2l(val), 'hover').text + \"\\xB0\";\n  }\n  if (hasLocation) {\n    text.push(pt.loc);\n  } else if (hasLon && hasLat) {\n    text.push('(' + format(pt.lonlat[0]) + ', ' + format(pt.lonlat[1]) + ')');\n  } else if (hasLon) {\n    text.push(labels.lon + format(pt.lonlat[0]));\n  } else if (hasLat) {\n    text.push(labels.lat + format(pt.lonlat[1]));\n  }\n  if (hasText) {\n    fillHoverText(pt, trace, text);\n  }\n  return text.join('<br>');\n}","map":{"version":3,"names":["Fx","require","Axes","BADNUM","getTraceColor","fillHoverText","attributes","module","exports","hoverPoints","pointData","xval","yval","cd","trace","xa","ya","geo","subplot","isLonLatOverEdges","projection","project","distFn","d","lonlat","Infinity","pt","px","dx","Math","abs","dy","rad","max","mrc","sqrt","getClosest","index","di","pos","c2p","x0","x1","y0","y1","loc","lon","lat","color","extraText","getExtraText","mockAxis","t","labels","hovertemplate","axis","hoverinfo","hi","parts","flags","split","hasLocation","indexOf","Array","isArray","locations","hasLon","hasLat","hasText","text","format","val","tickText","c2l","push","join"],"sources":["/home/yasmin/√Årea de Trabalho/Frontend/node_modules/plotly.js/src/traces/scattergeo/hover.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar Fx = require('../../components/fx');\nvar Axes = require('../../plots/cartesian/axes');\nvar BADNUM = require('../../constants/numerical').BADNUM;\n\nvar getTraceColor = require('../scatter/get_trace_color');\nvar fillHoverText = require('../scatter/fill_hover_text');\nvar attributes = require('./attributes');\n\nmodule.exports = function hoverPoints(pointData, xval, yval) {\n    var cd = pointData.cd;\n    var trace = cd[0].trace;\n    var xa = pointData.xa;\n    var ya = pointData.ya;\n    var geo = pointData.subplot;\n\n    var isLonLatOverEdges = geo.projection.isLonLatOverEdges;\n    var project = geo.project;\n\n    function distFn(d) {\n        var lonlat = d.lonlat;\n\n        if(lonlat[0] === BADNUM) return Infinity;\n        if(isLonLatOverEdges(lonlat)) return Infinity;\n\n        var pt = project(lonlat);\n        var px = project([xval, yval]);\n        var dx = Math.abs(pt[0] - px[0]);\n        var dy = Math.abs(pt[1] - px[1]);\n        var rad = Math.max(3, d.mrc || 0);\n\n        // N.B. d.mrc is the calculated marker radius\n        // which is only set for trace with 'markers' mode.\n\n        return Math.max(Math.sqrt(dx * dx + dy * dy) - rad, 1 - 3 / rad);\n    }\n\n    Fx.getClosest(cd, distFn, pointData);\n\n    // skip the rest (for this trace) if we didn't find a close point\n    if(pointData.index === false) return;\n\n    var di = cd[pointData.index];\n    var lonlat = di.lonlat;\n    var pos = [xa.c2p(lonlat), ya.c2p(lonlat)];\n    var rad = di.mrc || 1;\n\n    pointData.x0 = pos[0] - rad;\n    pointData.x1 = pos[0] + rad;\n    pointData.y0 = pos[1] - rad;\n    pointData.y1 = pos[1] + rad;\n\n    pointData.loc = di.loc;\n    pointData.lon = lonlat[0];\n    pointData.lat = lonlat[1];\n\n    pointData.color = getTraceColor(trace, di);\n    pointData.extraText = getExtraText(trace, di, geo.mockAxis, cd[0].t.labels);\n    pointData.hovertemplate = trace.hovertemplate;\n\n    return [pointData];\n};\n\nfunction getExtraText(trace, pt, axis, labels) {\n    if(trace.hovertemplate) {\n        return;\n    }\n\n    var hoverinfo = pt.hi || trace.hoverinfo;\n\n    var parts = hoverinfo === 'all' ?\n        attributes.hoverinfo.flags :\n        hoverinfo.split('+');\n\n    var hasLocation = parts.indexOf('location') !== -1 && Array.isArray(trace.locations);\n    var hasLon = (parts.indexOf('lon') !== -1);\n    var hasLat = (parts.indexOf('lat') !== -1);\n    var hasText = (parts.indexOf('text') !== -1);\n    var text = [];\n\n    function format(val) {\n        return Axes.tickText(axis, axis.c2l(val), 'hover').text + '\\u00B0';\n    }\n\n    if(hasLocation) {\n        text.push(pt.loc);\n    } else if(hasLon && hasLat) {\n        text.push('(' + format(pt.lonlat[0]) + ', ' + format(pt.lonlat[1]) + ')');\n    } else if(hasLon) {\n        text.push(labels.lon + format(pt.lonlat[0]));\n    } else if(hasLat) {\n        text.push(labels.lat + format(pt.lonlat[1]));\n    }\n\n    if(hasText) {\n        fillHoverText(pt, trace, text);\n    }\n\n    return text.join('<br>');\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}