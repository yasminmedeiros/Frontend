{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar attributes = require('./attributes');\nvar handleDomainDefaults = require('../../plots/domain').defaults;\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  var coerceFont = Lib.coerceFont;\n  var len;\n  var vals = coerce('values');\n  var hasVals = Lib.isArrayOrTypedArray(vals);\n  var labels = coerce('labels');\n  if (Array.isArray(labels)) {\n    len = labels.length;\n    if (hasVals) len = Math.min(len, vals.length);\n  } else if (hasVals) {\n    len = vals.length;\n    coerce('label0');\n    coerce('dlabel');\n  }\n  if (!len) {\n    traceOut.visible = false;\n    return;\n  }\n  traceOut._length = len;\n  var lineWidth = coerce('marker.line.width');\n  if (lineWidth) coerce('marker.line.color');\n  coerce('marker.colors');\n  coerce('scalegroup');\n  // TODO: hole needs to be coerced to the same value within a scaleegroup\n\n  var textData = coerce('text');\n  var textInfo = coerce('textinfo', Array.isArray(textData) ? 'text+percent' : 'percent');\n  coerce('hovertext');\n  coerce('hovertemplate');\n  if (textInfo && textInfo !== 'none') {\n    var textPosition = coerce('textposition');\n    var hasBoth = Array.isArray(textPosition) || textPosition === 'auto';\n    var hasInside = hasBoth || textPosition === 'inside';\n    var hasOutside = hasBoth || textPosition === 'outside';\n    if (hasInside || hasOutside) {\n      var dfltFont = coerceFont(coerce, 'textfont', layout.font);\n      if (hasInside) {\n        var insideTextFontDefault = Lib.extendFlat({}, dfltFont);\n        var isTraceTextfontColorSet = traceIn.textfont && traceIn.textfont.color;\n        var isColorInheritedFromLayoutFont = !isTraceTextfontColorSet;\n        if (isColorInheritedFromLayoutFont) {\n          delete insideTextFontDefault.color;\n        }\n        coerceFont(coerce, 'insidetextfont', insideTextFontDefault);\n      }\n      if (hasOutside) coerceFont(coerce, 'outsidetextfont', dfltFont);\n    }\n  }\n  handleDomainDefaults(traceOut, layout, coerce);\n  var hole = coerce('hole');\n  var title = coerce('title.text');\n  if (title) {\n    var titlePosition = coerce('title.position', hole ? 'middle center' : 'top center');\n    if (!hole && titlePosition === 'middle center') traceOut.title.position = 'top center';\n    coerceFont(coerce, 'title.font', layout.font);\n  }\n  coerce('sort');\n  coerce('direction');\n  coerce('rotation');\n  coerce('pull');\n};","map":{"version":3,"names":["Lib","require","attributes","handleDomainDefaults","defaults","module","exports","supplyDefaults","traceIn","traceOut","defaultColor","layout","coerce","attr","dflt","coerceFont","len","vals","hasVals","isArrayOrTypedArray","labels","Array","isArray","length","Math","min","visible","_length","lineWidth","textData","textInfo","textPosition","hasBoth","hasInside","hasOutside","dfltFont","font","insideTextFontDefault","extendFlat","isTraceTextfontColorSet","textfont","color","isColorInheritedFromLayoutFont","hole","title","titlePosition","position"],"sources":["/home/yasmin/√Årea de Trabalho/Frontend/node_modules/plotly.js/src/traces/pie/defaults.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar attributes = require('./attributes');\nvar handleDomainDefaults = require('../../plots/domain').defaults;\n\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var coerceFont = Lib.coerceFont;\n    var len;\n\n    var vals = coerce('values');\n    var hasVals = Lib.isArrayOrTypedArray(vals);\n    var labels = coerce('labels');\n    if(Array.isArray(labels)) {\n        len = labels.length;\n        if(hasVals) len = Math.min(len, vals.length);\n    }\n    else if(hasVals) {\n        len = vals.length;\n\n        coerce('label0');\n        coerce('dlabel');\n    }\n\n    if(!len) {\n        traceOut.visible = false;\n        return;\n    }\n    traceOut._length = len;\n\n    var lineWidth = coerce('marker.line.width');\n    if(lineWidth) coerce('marker.line.color');\n\n    coerce('marker.colors');\n\n    coerce('scalegroup');\n    // TODO: hole needs to be coerced to the same value within a scaleegroup\n\n    var textData = coerce('text');\n    var textInfo = coerce('textinfo', Array.isArray(textData) ? 'text+percent' : 'percent');\n    coerce('hovertext');\n    coerce('hovertemplate');\n\n    if(textInfo && textInfo !== 'none') {\n        var textPosition = coerce('textposition');\n        var hasBoth = Array.isArray(textPosition) || textPosition === 'auto';\n        var hasInside = hasBoth || textPosition === 'inside';\n        var hasOutside = hasBoth || textPosition === 'outside';\n\n        if(hasInside || hasOutside) {\n            var dfltFont = coerceFont(coerce, 'textfont', layout.font);\n            if(hasInside) {\n                var insideTextFontDefault = Lib.extendFlat({}, dfltFont);\n                var isTraceTextfontColorSet = traceIn.textfont && traceIn.textfont.color;\n                var isColorInheritedFromLayoutFont = !isTraceTextfontColorSet;\n                if(isColorInheritedFromLayoutFont) {\n                    delete insideTextFontDefault.color;\n                }\n                coerceFont(coerce, 'insidetextfont', insideTextFontDefault);\n            }\n            if(hasOutside) coerceFont(coerce, 'outsidetextfont', dfltFont);\n        }\n    }\n\n    handleDomainDefaults(traceOut, layout, coerce);\n\n    var hole = coerce('hole');\n    var title = coerce('title.text');\n    if(title) {\n        var titlePosition = coerce('title.position', hole ? 'middle center' : 'top center');\n        if(!hole && titlePosition === 'middle center') traceOut.title.position = 'top center';\n        coerceFont(coerce, 'title.font', layout.font);\n    }\n\n    coerce('sort');\n    coerce('direction');\n    coerce('rotation');\n\n    coerce('pull');\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}