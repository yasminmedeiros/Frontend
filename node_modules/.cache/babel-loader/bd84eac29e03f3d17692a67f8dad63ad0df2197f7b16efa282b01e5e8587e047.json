{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar d3 = require('d3');\nvar isNumeric = require('fast-isnumeric');\nvar Lib = require('../../lib');\nvar Drawing = require('../../components/drawing');\nvar helpers = require('../../plots/polar/helpers');\nmodule.exports = function plot(gd, subplot, cdbar) {\n  var xa = subplot.xaxis;\n  var ya = subplot.yaxis;\n  var radialAxis = subplot.radialAxis;\n  var angularAxis = subplot.angularAxis;\n  var pathFn = makePathFn(subplot);\n  var barLayer = subplot.layers.frontplot.select('g.barlayer');\n  Lib.makeTraceGroups(barLayer, cdbar, 'trace bars').each(function (cd) {\n    var plotGroup = cd[0].node3 = d3.select(this);\n    var pointGroup = Lib.ensureSingle(plotGroup, 'g', 'points');\n    var bars = pointGroup.selectAll('g.point').data(Lib.identity);\n    bars.enter().append('g').style('vector-effect', 'non-scaling-stroke').style('stroke-miterlimit', 2).classed('point', true);\n    bars.exit().remove();\n    bars.each(function (di) {\n      var bar = d3.select(this);\n      var rp0 = di.rp0 = radialAxis.c2p(di.s0);\n      var rp1 = di.rp1 = radialAxis.c2p(di.s1);\n      var thetag0 = di.thetag0 = angularAxis.c2g(di.p0);\n      var thetag1 = di.thetag1 = angularAxis.c2g(di.p1);\n      var dPath;\n      if (!isNumeric(rp0) || !isNumeric(rp1) || !isNumeric(thetag0) || !isNumeric(thetag1) || rp0 === rp1 || thetag0 === thetag1) {\n        // do not remove blank bars, to keep data-to-node\n        // mapping intact during radial drag, that we\n        // can skip calling _module.style during interactions\n        dPath = 'M0,0Z';\n      } else {\n        // this 'center' pt is used for selections and hover labels\n        var rg1 = radialAxis.c2g(di.s1);\n        var thetagMid = (thetag0 + thetag1) / 2;\n        di.ct = [xa.c2p(rg1 * Math.cos(thetagMid)), ya.c2p(rg1 * Math.sin(thetagMid))];\n        dPath = pathFn(rp0, rp1, thetag0, thetag1);\n      }\n      Lib.ensureSingle(bar, 'path').attr('d', dPath);\n    });\n\n    // clip plotGroup, when trace layer isn't clipped\n    Drawing.setClipUrl(plotGroup, subplot._hasClipOnAxisFalse ? subplot.clipIds.forTraces : null, gd);\n  });\n};\nfunction makePathFn(subplot) {\n  var cxx = subplot.cxx;\n  var cyy = subplot.cyy;\n  if (subplot.vangles) {\n    return function (r0, r1, _a0, _a1) {\n      var a0, a1;\n      if (Lib.angleDelta(_a0, _a1) > 0) {\n        a0 = _a0;\n        a1 = _a1;\n      } else {\n        a0 = _a1;\n        a1 = _a0;\n      }\n      var va0 = helpers.findEnclosingVertexAngles(a0, subplot.vangles)[0];\n      var va1 = helpers.findEnclosingVertexAngles(a1, subplot.vangles)[1];\n      var vaBar = [va0, (a0 + a1) / 2, va1];\n      return helpers.pathPolygonAnnulus(r0, r1, a0, a1, vaBar, cxx, cyy);\n    };\n  }\n  return function (r0, r1, a0, a1) {\n    return Lib.pathAnnulus(r0, r1, a0, a1, cxx, cyy);\n  };\n}","map":{"version":3,"names":["d3","require","isNumeric","Lib","Drawing","helpers","module","exports","plot","gd","subplot","cdbar","xa","xaxis","ya","yaxis","radialAxis","angularAxis","pathFn","makePathFn","barLayer","layers","frontplot","select","makeTraceGroups","each","cd","plotGroup","node3","pointGroup","ensureSingle","bars","selectAll","data","identity","enter","append","style","classed","exit","remove","di","bar","rp0","c2p","s0","rp1","s1","thetag0","c2g","p0","thetag1","p1","dPath","rg1","thetagMid","ct","Math","cos","sin","attr","setClipUrl","_hasClipOnAxisFalse","clipIds","forTraces","cxx","cyy","vangles","r0","r1","_a0","_a1","a0","a1","angleDelta","va0","findEnclosingVertexAngles","va1","vaBar","pathPolygonAnnulus","pathAnnulus"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/plotly.js/src/traces/barpolar/plot.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar d3 = require('d3');\nvar isNumeric = require('fast-isnumeric');\n\nvar Lib = require('../../lib');\nvar Drawing = require('../../components/drawing');\nvar helpers = require('../../plots/polar/helpers');\n\nmodule.exports = function plot(gd, subplot, cdbar) {\n    var xa = subplot.xaxis;\n    var ya = subplot.yaxis;\n    var radialAxis = subplot.radialAxis;\n    var angularAxis = subplot.angularAxis;\n    var pathFn = makePathFn(subplot);\n    var barLayer = subplot.layers.frontplot.select('g.barlayer');\n\n    Lib.makeTraceGroups(barLayer, cdbar, 'trace bars').each(function(cd) {\n        var plotGroup = cd[0].node3 = d3.select(this);\n        var pointGroup = Lib.ensureSingle(plotGroup, 'g', 'points');\n        var bars = pointGroup.selectAll('g.point').data(Lib.identity);\n\n        bars.enter().append('g')\n            .style('vector-effect', 'non-scaling-stroke')\n            .style('stroke-miterlimit', 2)\n            .classed('point', true);\n\n        bars.exit().remove();\n\n        bars.each(function(di) {\n            var bar = d3.select(this);\n\n            var rp0 = di.rp0 = radialAxis.c2p(di.s0);\n            var rp1 = di.rp1 = radialAxis.c2p(di.s1);\n            var thetag0 = di.thetag0 = angularAxis.c2g(di.p0);\n            var thetag1 = di.thetag1 = angularAxis.c2g(di.p1);\n\n            var dPath;\n\n            if(!isNumeric(rp0) || !isNumeric(rp1) ||\n                !isNumeric(thetag0) || !isNumeric(thetag1) ||\n                rp0 === rp1 || thetag0 === thetag1\n            ) {\n                // do not remove blank bars, to keep data-to-node\n                // mapping intact during radial drag, that we\n                // can skip calling _module.style during interactions\n                dPath = 'M0,0Z';\n            } else {\n                // this 'center' pt is used for selections and hover labels\n                var rg1 = radialAxis.c2g(di.s1);\n                var thetagMid = (thetag0 + thetag1) / 2;\n                di.ct = [\n                    xa.c2p(rg1 * Math.cos(thetagMid)),\n                    ya.c2p(rg1 * Math.sin(thetagMid))\n                ];\n\n                dPath = pathFn(rp0, rp1, thetag0, thetag1);\n            }\n\n            Lib.ensureSingle(bar, 'path').attr('d', dPath);\n        });\n\n        // clip plotGroup, when trace layer isn't clipped\n        Drawing.setClipUrl(\n            plotGroup,\n            subplot._hasClipOnAxisFalse ? subplot.clipIds.forTraces : null,\n            gd\n        );\n    });\n};\n\nfunction makePathFn(subplot) {\n    var cxx = subplot.cxx;\n    var cyy = subplot.cyy;\n\n    if(subplot.vangles) {\n        return function(r0, r1, _a0, _a1) {\n            var a0, a1;\n\n            if(Lib.angleDelta(_a0, _a1) > 0) {\n                a0 = _a0;\n                a1 = _a1;\n            } else {\n                a0 = _a1;\n                a1 = _a0;\n            }\n\n            var va0 = helpers.findEnclosingVertexAngles(a0, subplot.vangles)[0];\n            var va1 = helpers.findEnclosingVertexAngles(a1, subplot.vangles)[1];\n            var vaBar = [va0, (a0 + a1) / 2, va1];\n            return helpers.pathPolygonAnnulus(r0, r1, a0, a1, vaBar, cxx, cyy);\n        };\n    }\n\n    return function(r0, r1, a0, a1) {\n        return Lib.pathAnnulus(r0, r1, a0, a1, cxx, cyy);\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}