{"ast":null,"code":"'use strict';\n\nmodule.exports = createSelectBuffer;\nvar createFBO = require('gl-fbo');\nvar pool = require('typedarray-pool');\nvar ndarray = require('ndarray');\nvar nextPow2 = require('bit-twiddle').nextPow2;\nvar selectRange = function selectRange(arr, x, y) {\n  var closestD2 = 1e8;\n  var closestX = -1;\n  var closestY = -1;\n  var ni = arr.shape[0];\n  var nj = arr.shape[1];\n  for (var i = 0; i < ni; i++) {\n    for (var j = 0; j < nj; j++) {\n      var r = arr.get(i, j, 0);\n      var g = arr.get(i, j, 1);\n      var b = arr.get(i, j, 2);\n      var a = arr.get(i, j, 3);\n      if (r < 255 || g < 255 || b < 255 || a < 255) {\n        var dx = x - i;\n        var dy = y - j;\n        var d2 = dx * dx + dy * dy;\n        if (d2 < closestD2) {\n          closestD2 = d2;\n          closestX = i;\n          closestY = j;\n        }\n      }\n    }\n  }\n  return [closestX, closestY, closestD2];\n};\nfunction SelectResult(x, y, id, value, distance) {\n  this.coord = [x, y];\n  this.id = id;\n  this.value = value;\n  this.distance = distance;\n}\nfunction SelectBuffer(gl, fbo, buffer) {\n  this.gl = gl;\n  this.fbo = fbo;\n  this.buffer = buffer;\n  this._readTimeout = null;\n  var self = this;\n  this._readCallback = function () {\n    if (!self.gl) {\n      return;\n    }\n    fbo.bind();\n    gl.readPixels(0, 0, fbo.shape[0], fbo.shape[1], gl.RGBA, gl.UNSIGNED_BYTE, self.buffer);\n    self._readTimeout = null;\n  };\n}\nvar proto = SelectBuffer.prototype;\nObject.defineProperty(proto, 'shape', {\n  get: function get() {\n    if (!this.gl) {\n      return [0, 0];\n    }\n    return this.fbo.shape.slice();\n  },\n  set: function set(v) {\n    if (!this.gl) {\n      return;\n    }\n    this.fbo.shape = v;\n    var c = this.fbo.shape[0];\n    var r = this.fbo.shape[1];\n    if (r * c * 4 > this.buffer.length) {\n      pool.free(this.buffer);\n      var buffer = this.buffer = pool.mallocUint8(nextPow2(r * c * 4));\n      for (var i = 0; i < r * c * 4; ++i) {\n        buffer[i] = 0xff;\n      }\n    }\n    return v;\n  }\n});\nproto.begin = function () {\n  var gl = this.gl;\n  var shape = this.shape;\n  if (!gl) {\n    return;\n  }\n  this.fbo.bind();\n  gl.clearColor(1, 1, 1, 1);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n};\nproto.end = function () {\n  var gl = this.gl;\n  if (!gl) {\n    return;\n  }\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  if (!this._readTimeout) {\n    clearTimeout(this._readTimeout);\n  }\n  this._readTimeout = setTimeout(this._readCallback, 1);\n};\nproto.query = function (x, y, radius) {\n  if (!this.gl) {\n    return null;\n  }\n  var shape = this.fbo.shape.slice();\n  x = x | 0;\n  y = y | 0;\n  if (typeof radius !== 'number') {\n    radius = 1.0;\n  }\n  var x0 = Math.min(Math.max(x - radius, 0), shape[0]) | 0;\n  var x1 = Math.min(Math.max(x + radius, 0), shape[0]) | 0;\n  var y0 = Math.min(Math.max(y - radius, 0), shape[1]) | 0;\n  var y1 = Math.min(Math.max(y + radius, 0), shape[1]) | 0;\n  if (x1 <= x0 || y1 <= y0) {\n    return null;\n  }\n  var dims = [x1 - x0, y1 - y0];\n  var region = ndarray(this.buffer, [dims[0], dims[1], 4], [4, shape[0] * 4, 1], 4 * (x0 + shape[0] * y0));\n  var closest = selectRange(region.hi(dims[0], dims[1], 1), radius, radius);\n  var dx = closest[0];\n  var dy = closest[1];\n  if (dx < 0 || Math.pow(this.radius, 2) < closest[2]) {\n    return null;\n  }\n  var c0 = region.get(dx, dy, 0);\n  var c1 = region.get(dx, dy, 1);\n  var c2 = region.get(dx, dy, 2);\n  var c3 = region.get(dx, dy, 3);\n  return new SelectResult(dx + x0 | 0, dy + y0 | 0, c0, [c1, c2, c3], Math.sqrt(closest[2]));\n};\nproto.dispose = function () {\n  if (!this.gl) {\n    return;\n  }\n  this.fbo.dispose();\n  pool.free(this.buffer);\n  this.gl = null;\n  if (this._readTimeout) {\n    clearTimeout(this._readTimeout);\n  }\n};\nfunction createSelectBuffer(gl, shape) {\n  var width = shape[0];\n  var height = shape[1];\n  var options = {};\n  var fbo = createFBO(gl, width, height, options);\n  var buffer = pool.mallocUint8(width * height * 4);\n  return new SelectBuffer(gl, fbo, buffer);\n}","map":{"version":3,"names":["module","exports","createSelectBuffer","createFBO","require","pool","ndarray","nextPow2","selectRange","arr","x","y","closestD2","closestX","closestY","ni","shape","nj","i","j","r","get","g","b","a","dx","dy","d2","SelectResult","id","value","distance","coord","SelectBuffer","gl","fbo","buffer","_readTimeout","self","_readCallback","bind","readPixels","RGBA","UNSIGNED_BYTE","proto","prototype","Object","defineProperty","slice","set","v","c","length","free","mallocUint8","begin","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","end","bindFramebuffer","FRAMEBUFFER","clearTimeout","setTimeout","query","radius","x0","Math","min","max","x1","y0","y1","dims","region","closest","hi","pow","c0","c1","c2","c3","sqrt","dispose","width","height","options"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/gl-select-static/select.js"],"sourcesContent":["'use strict'\n\nmodule.exports = createSelectBuffer\n\nvar createFBO = require('gl-fbo')\nvar pool      = require('typedarray-pool')\nvar ndarray   = require('ndarray')\nvar nextPow2  = require('bit-twiddle').nextPow2\n\nvar selectRange = function(arr, x, y) {\n  var closestD2 = 1e8\n  var closestX = -1\n  var closestY = -1\n\n  var ni = arr.shape[0]\n  var nj = arr.shape[1]\n  for(var i = 0; i < ni; i++) {\n    for(var j = 0; j < nj; j++) {\n      var r = arr.get(i, j, 0)\n      var g = arr.get(i, j, 1)\n      var b = arr.get(i, j, 2)\n      var a = arr.get(i, j, 3)\n\n      if(r < 255 || g < 255 || b < 255 || a < 255) {\n        var dx = x - i\n        var dy = y - j\n        var d2 = dx*dx + dy*dy\n        if(d2 < closestD2) {\n          closestD2 = d2\n          closestX = i\n          closestY = j\n        }\n      }\n    }\n  }\n\n  return [closestX, closestY, closestD2]\n}\n\nfunction SelectResult(x, y, id, value, distance) {\n  this.coord = [x, y]\n  this.id = id\n  this.value = value\n  this.distance = distance\n}\n\nfunction SelectBuffer(gl, fbo, buffer) {\n  this.gl     = gl\n  this.fbo    = fbo\n  this.buffer = buffer\n  this._readTimeout = null\n  var self = this\n\n  this._readCallback = function() {\n    if(!self.gl) {\n      return\n    }\n    fbo.bind()\n    gl.readPixels(0,0,fbo.shape[0],fbo.shape[1],gl.RGBA,gl.UNSIGNED_BYTE,self.buffer)\n    self._readTimeout = null\n  }\n}\n\nvar proto = SelectBuffer.prototype\n\nObject.defineProperty(proto, 'shape', {\n  get: function() {\n    if(!this.gl) {\n      return [0,0]\n    }\n    return this.fbo.shape.slice()\n  },\n  set: function(v) {\n    if(!this.gl) {\n      return\n    }\n    this.fbo.shape = v\n    var c = this.fbo.shape[0]\n    var r = this.fbo.shape[1]\n    if(r*c*4 > this.buffer.length) {\n      pool.free(this.buffer)\n      var buffer = this.buffer = pool.mallocUint8(nextPow2(r*c*4))\n      for(var i=0; i<r*c*4; ++i) {\n        buffer[i] = 0xff\n      }\n    }\n    return v\n  }\n})\n\nproto.begin = function() {\n  var gl = this.gl\n  var shape = this.shape\n  if(!gl) {\n    return\n  }\n\n  this.fbo.bind()\n  gl.clearColor(1,1,1,1)\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)\n}\n\nproto.end = function() {\n  var gl = this.gl\n  if(!gl) {\n    return\n  }\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null)\n  if(!this._readTimeout) {\n    clearTimeout(this._readTimeout)\n  }\n  this._readTimeout = setTimeout(this._readCallback, 1)\n}\n\nproto.query = function(x, y, radius) {\n  if(!this.gl) {\n    return null\n  }\n\n  var shape = this.fbo.shape.slice()\n\n  x = x|0\n  y = y|0\n  if(typeof radius !== 'number') {\n    radius = 1.0\n  }\n\n  var x0 = Math.min(Math.max(x - radius, 0), shape[0])|0\n  var x1 = Math.min(Math.max(x + radius, 0), shape[0])|0\n  var y0 = Math.min(Math.max(y - radius, 0), shape[1])|0\n  var y1 = Math.min(Math.max(y + radius, 0), shape[1])|0\n\n  if(x1 <= x0 || y1 <= y0) {\n    return null\n  }\n\n  var dims   = [x1-x0,y1-y0]\n  var region = ndarray(\n    this.buffer,\n    [dims[0], dims[1], 4],\n    [4, shape[0]*4, 1],\n    4*(x0 + shape[0]*y0));\n\n  var closest = selectRange(region.hi(dims[0],dims[1],1), radius, radius)\n  var dx = closest[0]\n  var dy = closest[1]\n  if(dx < 0 || Math.pow(this.radius, 2) < closest[2]) {\n    return null\n  }\n\n  var c0 = region.get(dx, dy, 0)\n  var c1 = region.get(dx, dy, 1)\n  var c2 = region.get(dx, dy, 2)\n  var c3 = region.get(dx, dy, 3)\n\n  return new SelectResult(\n     (dx + x0)|0,\n     (dy + y0)|0,\n     c0,\n     [c1, c2, c3],\n     Math.sqrt(closest[2]))\n}\n\nproto.dispose = function() {\n  if(!this.gl) {\n    return\n  }\n  this.fbo.dispose()\n  pool.free(this.buffer)\n  this.gl = null\n  if(this._readTimeout) {\n    clearTimeout(this._readTimeout)\n  }\n}\n\nfunction createSelectBuffer(gl, shape) {\n  var width = shape[0]\n  var height = shape[1]\n  var options = {}\n  var fbo = createFBO(gl, width, height, options)\n  var buffer = pool.mallocUint8(width*height*4)\n  return new SelectBuffer(gl, fbo, buffer)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}