{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar createHeatmap2D = require('gl-heatmap2d');\nvar Axes = require('../../plots/cartesian/axes');\nvar str2RGBArray = require('../../lib/str2rgbarray');\nfunction Heatmap(scene, uid) {\n  this.scene = scene;\n  this.uid = uid;\n  this.type = 'heatmapgl';\n  this.name = '';\n  this.hoverinfo = 'all';\n  this.xData = [];\n  this.yData = [];\n  this.zData = [];\n  this.textLabels = [];\n  this.idToIndex = [];\n  this.bounds = [0, 0, 0, 0];\n  this.options = {\n    z: [],\n    x: [],\n    y: [],\n    shape: [0, 0],\n    colorLevels: [0],\n    colorValues: [0, 0, 0, 1]\n  };\n  this.heatmap = createHeatmap2D(scene.glplot, this.options);\n  this.heatmap._trace = this;\n}\nvar proto = Heatmap.prototype;\nproto.handlePick = function (pickResult) {\n  var options = this.options;\n  var shape = options.shape;\n  var index = pickResult.pointId;\n  var xIndex = index % shape[0];\n  var yIndex = Math.floor(index / shape[0]);\n  var zIndex = index;\n  return {\n    trace: this,\n    dataCoord: pickResult.dataCoord,\n    traceCoord: [options.x[xIndex], options.y[yIndex], options.z[zIndex]],\n    textLabel: this.textLabels[index],\n    name: this.name,\n    pointIndex: [yIndex, xIndex],\n    hoverinfo: this.hoverinfo\n  };\n};\nproto.update = function (fullTrace, calcTrace) {\n  var calcPt = calcTrace[0];\n  this.index = fullTrace.index;\n  this.name = fullTrace.name;\n  this.hoverinfo = fullTrace.hoverinfo;\n\n  // convert z from 2D -> 1D\n  var z = calcPt.z;\n  this.options.z = [].concat.apply([], z);\n  var rowLen = z[0].length;\n  var colLen = z.length;\n  this.options.shape = [rowLen, colLen];\n  this.options.x = calcPt.x;\n  this.options.y = calcPt.y;\n  var colorOptions = convertColorscale(fullTrace);\n  this.options.colorLevels = colorOptions.colorLevels;\n  this.options.colorValues = colorOptions.colorValues;\n\n  // convert text from 2D -> 1D\n  this.textLabels = [].concat.apply([], fullTrace.text);\n  this.heatmap.update(this.options);\n  var xa = this.scene.xaxis;\n  var ya = this.scene.yaxis;\n  fullTrace._extremes[xa._id] = Axes.findExtremes(xa, calcPt.x);\n  fullTrace._extremes[ya._id] = Axes.findExtremes(ya, calcPt.y);\n};\nproto.dispose = function () {\n  this.heatmap.dispose();\n};\nfunction convertColorscale(fullTrace) {\n  var scl = fullTrace.colorscale;\n  var zmin = fullTrace.zmin;\n  var zmax = fullTrace.zmax;\n  var N = scl.length;\n  var domain = new Array(N);\n  var range = new Array(4 * N);\n  for (var i = 0; i < N; i++) {\n    var si = scl[i];\n    var color = str2RGBArray(si[1]);\n    domain[i] = zmin + si[0] * (zmax - zmin);\n    for (var j = 0; j < 4; j++) {\n      range[4 * i + j] = color[j];\n    }\n  }\n  return {\n    colorLevels: domain,\n    colorValues: range\n  };\n}\nfunction createHeatmap(scene, fullTrace, calcTrace) {\n  var plot = new Heatmap(scene, fullTrace.uid);\n  plot.update(fullTrace, calcTrace);\n  return plot;\n}\nmodule.exports = createHeatmap;","map":{"version":3,"names":["createHeatmap2D","require","Axes","str2RGBArray","Heatmap","scene","uid","type","name","hoverinfo","xData","yData","zData","textLabels","idToIndex","bounds","options","z","x","y","shape","colorLevels","colorValues","heatmap","glplot","_trace","proto","prototype","handlePick","pickResult","index","pointId","xIndex","yIndex","Math","floor","zIndex","trace","dataCoord","traceCoord","textLabel","pointIndex","update","fullTrace","calcTrace","calcPt","concat","apply","rowLen","length","colLen","colorOptions","convertColorscale","text","xa","xaxis","ya","yaxis","_extremes","_id","findExtremes","dispose","scl","colorscale","zmin","zmax","N","domain","Array","range","i","si","color","j","createHeatmap","plot","module","exports"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/plotly.js/src/traces/heatmapgl/convert.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar createHeatmap2D = require('gl-heatmap2d');\nvar Axes = require('../../plots/cartesian/axes');\nvar str2RGBArray = require('../../lib/str2rgbarray');\n\n\nfunction Heatmap(scene, uid) {\n    this.scene = scene;\n    this.uid = uid;\n    this.type = 'heatmapgl';\n\n    this.name = '';\n    this.hoverinfo = 'all';\n\n    this.xData = [];\n    this.yData = [];\n    this.zData = [];\n    this.textLabels = [];\n\n    this.idToIndex = [];\n    this.bounds = [0, 0, 0, 0];\n\n    this.options = {\n        z: [],\n        x: [],\n        y: [],\n        shape: [0, 0],\n        colorLevels: [0],\n        colorValues: [0, 0, 0, 1]\n    };\n\n    this.heatmap = createHeatmap2D(scene.glplot, this.options);\n    this.heatmap._trace = this;\n}\n\nvar proto = Heatmap.prototype;\n\nproto.handlePick = function(pickResult) {\n    var options = this.options;\n    var shape = options.shape;\n    var index = pickResult.pointId;\n    var xIndex = index % shape[0];\n    var yIndex = Math.floor(index / shape[0]);\n    var zIndex = index;\n\n    return {\n        trace: this,\n        dataCoord: pickResult.dataCoord,\n        traceCoord: [\n            options.x[xIndex],\n            options.y[yIndex],\n            options.z[zIndex]\n        ],\n        textLabel: this.textLabels[index],\n        name: this.name,\n        pointIndex: [yIndex, xIndex],\n        hoverinfo: this.hoverinfo\n    };\n};\n\nproto.update = function(fullTrace, calcTrace) {\n    var calcPt = calcTrace[0];\n\n    this.index = fullTrace.index;\n    this.name = fullTrace.name;\n    this.hoverinfo = fullTrace.hoverinfo;\n\n    // convert z from 2D -> 1D\n    var z = calcPt.z;\n    this.options.z = [].concat.apply([], z);\n\n    var rowLen = z[0].length;\n    var colLen = z.length;\n    this.options.shape = [rowLen, colLen];\n\n    this.options.x = calcPt.x;\n    this.options.y = calcPt.y;\n\n    var colorOptions = convertColorscale(fullTrace);\n    this.options.colorLevels = colorOptions.colorLevels;\n    this.options.colorValues = colorOptions.colorValues;\n\n    // convert text from 2D -> 1D\n    this.textLabels = [].concat.apply([], fullTrace.text);\n\n    this.heatmap.update(this.options);\n\n    var xa = this.scene.xaxis;\n    var ya = this.scene.yaxis;\n    fullTrace._extremes[xa._id] = Axes.findExtremes(xa, calcPt.x);\n    fullTrace._extremes[ya._id] = Axes.findExtremes(ya, calcPt.y);\n};\n\nproto.dispose = function() {\n    this.heatmap.dispose();\n};\n\nfunction convertColorscale(fullTrace) {\n    var scl = fullTrace.colorscale;\n    var zmin = fullTrace.zmin;\n    var zmax = fullTrace.zmax;\n\n    var N = scl.length;\n    var domain = new Array(N);\n    var range = new Array(4 * N);\n\n    for(var i = 0; i < N; i++) {\n        var si = scl[i];\n        var color = str2RGBArray(si[1]);\n\n        domain[i] = zmin + si[0] * (zmax - zmin);\n\n        for(var j = 0; j < 4; j++) {\n            range[(4 * i) + j] = color[j];\n        }\n    }\n\n    return {\n        colorLevels: domain,\n        colorValues: range\n    };\n}\n\nfunction createHeatmap(scene, fullTrace, calcTrace) {\n    var plot = new Heatmap(scene, fullTrace.uid);\n    plot.update(fullTrace, calcTrace);\n    return plot;\n}\n\nmodule.exports = createHeatmap;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}