{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar Color = require('../color');\nvar Template = require('../../plot_api/plot_template');\nvar handleArrayContainerDefaults = require('../../plots/array_container_defaults');\nvar attributes = require('./attributes');\nvar constants = require('./constants');\nmodule.exports = function handleDefaults(containerIn, containerOut, layout, counterAxes, calendar) {\n  var selectorIn = containerIn.rangeselector || {};\n  var selectorOut = Template.newContainer(containerOut, 'rangeselector');\n  function coerce(attr, dflt) {\n    return Lib.coerce(selectorIn, selectorOut, attributes, attr, dflt);\n  }\n  var buttons = handleArrayContainerDefaults(selectorIn, selectorOut, {\n    name: 'buttons',\n    handleItemDefaults: buttonDefaults,\n    calendar: calendar\n  });\n  var visible = coerce('visible', buttons.length > 0);\n  if (visible) {\n    var posDflt = getPosDflt(containerOut, layout, counterAxes);\n    coerce('x', posDflt[0]);\n    coerce('y', posDflt[1]);\n    Lib.noneOrAll(containerIn, containerOut, ['x', 'y']);\n    coerce('xanchor');\n    coerce('yanchor');\n    Lib.coerceFont(coerce, 'font', layout.font);\n    var bgColor = coerce('bgcolor');\n    coerce('activecolor', Color.contrast(bgColor, constants.lightAmount, constants.darkAmount));\n    coerce('bordercolor');\n    coerce('borderwidth');\n  }\n};\nfunction buttonDefaults(buttonIn, buttonOut, selectorOut, opts) {\n  var calendar = opts.calendar;\n  function coerce(attr, dflt) {\n    return Lib.coerce(buttonIn, buttonOut, attributes.buttons, attr, dflt);\n  }\n  var visible = coerce('visible');\n  if (visible) {\n    var step = coerce('step');\n    if (step !== 'all') {\n      if (calendar && calendar !== 'gregorian' && (step === 'month' || step === 'year')) {\n        buttonOut.stepmode = 'backward';\n      } else {\n        coerce('stepmode');\n      }\n      coerce('count');\n    }\n    coerce('label');\n  }\n}\nfunction getPosDflt(containerOut, layout, counterAxes) {\n  var anchoredList = counterAxes.filter(function (ax) {\n    return layout[ax].anchor === containerOut._id;\n  });\n  var posY = 0;\n  for (var i = 0; i < anchoredList.length; i++) {\n    var domain = layout[anchoredList[i]].domain;\n    if (domain) posY = Math.max(domain[1], posY);\n  }\n  return [containerOut.domain[0], posY + constants.yPad];\n}","map":{"version":3,"names":["Lib","require","Color","Template","handleArrayContainerDefaults","attributes","constants","module","exports","handleDefaults","containerIn","containerOut","layout","counterAxes","calendar","selectorIn","rangeselector","selectorOut","newContainer","coerce","attr","dflt","buttons","name","handleItemDefaults","buttonDefaults","visible","length","posDflt","getPosDflt","noneOrAll","coerceFont","font","bgColor","contrast","lightAmount","darkAmount","buttonIn","buttonOut","opts","step","stepmode","anchoredList","filter","ax","anchor","_id","posY","i","domain","Math","max","yPad"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/plotly.js/src/components/rangeselector/defaults.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../../lib');\nvar Color = require('../color');\nvar Template = require('../../plot_api/plot_template');\nvar handleArrayContainerDefaults = require('../../plots/array_container_defaults');\n\nvar attributes = require('./attributes');\nvar constants = require('./constants');\n\n\nmodule.exports = function handleDefaults(containerIn, containerOut, layout, counterAxes, calendar) {\n    var selectorIn = containerIn.rangeselector || {};\n    var selectorOut = Template.newContainer(containerOut, 'rangeselector');\n\n    function coerce(attr, dflt) {\n        return Lib.coerce(selectorIn, selectorOut, attributes, attr, dflt);\n    }\n\n    var buttons = handleArrayContainerDefaults(selectorIn, selectorOut, {\n        name: 'buttons',\n        handleItemDefaults: buttonDefaults,\n        calendar: calendar\n    });\n\n    var visible = coerce('visible', buttons.length > 0);\n    if(visible) {\n        var posDflt = getPosDflt(containerOut, layout, counterAxes);\n        coerce('x', posDflt[0]);\n        coerce('y', posDflt[1]);\n        Lib.noneOrAll(containerIn, containerOut, ['x', 'y']);\n\n        coerce('xanchor');\n        coerce('yanchor');\n\n        Lib.coerceFont(coerce, 'font', layout.font);\n\n        var bgColor = coerce('bgcolor');\n        coerce('activecolor', Color.contrast(bgColor, constants.lightAmount, constants.darkAmount));\n        coerce('bordercolor');\n        coerce('borderwidth');\n    }\n};\n\nfunction buttonDefaults(buttonIn, buttonOut, selectorOut, opts) {\n    var calendar = opts.calendar;\n\n    function coerce(attr, dflt) {\n        return Lib.coerce(buttonIn, buttonOut, attributes.buttons, attr, dflt);\n    }\n\n    var visible = coerce('visible');\n\n    if(visible) {\n        var step = coerce('step');\n        if(step !== 'all') {\n            if(calendar && calendar !== 'gregorian' && (step === 'month' || step === 'year')) {\n                buttonOut.stepmode = 'backward';\n            }\n            else {\n                coerce('stepmode');\n            }\n\n            coerce('count');\n        }\n\n        coerce('label');\n    }\n}\n\nfunction getPosDflt(containerOut, layout, counterAxes) {\n    var anchoredList = counterAxes.filter(function(ax) {\n        return layout[ax].anchor === containerOut._id;\n    });\n\n    var posY = 0;\n    for(var i = 0; i < anchoredList.length; i++) {\n        var domain = layout[anchoredList[i]].domain;\n        if(domain) posY = Math.max(domain[1], posY);\n    }\n\n    return [containerOut.domain[0], posY + constants.yPad];\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}