{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../lib');\nvar Template = require('../plot_api/plot_template');\n\n/** Convenience wrapper for making array container logic DRY and consistent\n *\n * @param {object} parentObjIn\n *  user input object where the container in question is linked\n *  (i.e. either a user trace object or the user layout object)\n *\n * @param {object} parentObjOut\n *  full object where the coerced container will be linked\n *  (i.e. either a full trace object or the full layout object)\n *\n * @param {object} opts\n *  options object:\n *   - name {string}\n *      name of the key linking the container in question\n *   - inclusionAttr {string}\n *      name of the item attribute for inclusion/exclusion. Default is 'visible'.\n *      Since inclusion is true, use eg 'enabled' instead of 'disabled'.\n *   - handleItemDefaults {function}\n *      defaults method to be called on each item in the array container in question\n *\n *      Its arguments are:\n *          - itemIn {object} item in user layout\n *          - itemOut {object} item in full layout\n *          - parentObj {object} (as in closure)\n *          - opts {object} (as in closure)\n * N.B.\n *\n *  - opts is passed to handleItemDefaults so it can also store\n *    links to supplementary data (e.g. fullData for layout components)\n *\n */\nmodule.exports = function handleArrayContainerDefaults(parentObjIn, parentObjOut, opts) {\n  var name = opts.name;\n  var inclusionAttr = opts.inclusionAttr || 'visible';\n  var previousContOut = parentObjOut[name];\n  var contIn = Lib.isArrayOrTypedArray(parentObjIn[name]) ? parentObjIn[name] : [];\n  var contOut = parentObjOut[name] = [];\n  var templater = Template.arrayTemplater(parentObjOut, name, inclusionAttr);\n  var i, itemOut;\n  for (i = 0; i < contIn.length; i++) {\n    var itemIn = contIn[i];\n    if (!Lib.isPlainObject(itemIn)) {\n      itemOut = templater.newItem({});\n      itemOut[inclusionAttr] = false;\n    } else {\n      itemOut = templater.newItem(itemIn);\n    }\n    itemOut._index = i;\n    if (itemOut[inclusionAttr] !== false) {\n      opts.handleItemDefaults(itemIn, itemOut, parentObjOut, opts);\n    }\n    contOut.push(itemOut);\n  }\n  var defaultItems = templater.defaultItems();\n  for (i = 0; i < defaultItems.length; i++) {\n    itemOut = defaultItems[i];\n    itemOut._index = contOut.length;\n    opts.handleItemDefaults({}, itemOut, parentObjOut, opts, {});\n    contOut.push(itemOut);\n  }\n\n  // in case this array gets its defaults rebuilt independent of the whole layout,\n  // relink the private keys just for this array.\n  if (Lib.isArrayOrTypedArray(previousContOut)) {\n    var len = Math.min(previousContOut.length, contOut.length);\n    for (i = 0; i < len; i++) {\n      Lib.relinkPrivateKeys(contOut[i], previousContOut[i]);\n    }\n  }\n  return contOut;\n};","map":{"version":3,"names":["Lib","require","Template","module","exports","handleArrayContainerDefaults","parentObjIn","parentObjOut","opts","name","inclusionAttr","previousContOut","contIn","isArrayOrTypedArray","contOut","templater","arrayTemplater","i","itemOut","length","itemIn","isPlainObject","newItem","_index","handleItemDefaults","push","defaultItems","len","Math","min","relinkPrivateKeys"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/plotly.js/src/plots/array_container_defaults.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Lib = require('../lib');\nvar Template = require('../plot_api/plot_template');\n\n/** Convenience wrapper for making array container logic DRY and consistent\n *\n * @param {object} parentObjIn\n *  user input object where the container in question is linked\n *  (i.e. either a user trace object or the user layout object)\n *\n * @param {object} parentObjOut\n *  full object where the coerced container will be linked\n *  (i.e. either a full trace object or the full layout object)\n *\n * @param {object} opts\n *  options object:\n *   - name {string}\n *      name of the key linking the container in question\n *   - inclusionAttr {string}\n *      name of the item attribute for inclusion/exclusion. Default is 'visible'.\n *      Since inclusion is true, use eg 'enabled' instead of 'disabled'.\n *   - handleItemDefaults {function}\n *      defaults method to be called on each item in the array container in question\n *\n *      Its arguments are:\n *          - itemIn {object} item in user layout\n *          - itemOut {object} item in full layout\n *          - parentObj {object} (as in closure)\n *          - opts {object} (as in closure)\n * N.B.\n *\n *  - opts is passed to handleItemDefaults so it can also store\n *    links to supplementary data (e.g. fullData for layout components)\n *\n */\nmodule.exports = function handleArrayContainerDefaults(parentObjIn, parentObjOut, opts) {\n    var name = opts.name;\n    var inclusionAttr = opts.inclusionAttr || 'visible';\n\n    var previousContOut = parentObjOut[name];\n\n    var contIn = Lib.isArrayOrTypedArray(parentObjIn[name]) ? parentObjIn[name] : [];\n    var contOut = parentObjOut[name] = [];\n    var templater = Template.arrayTemplater(parentObjOut, name, inclusionAttr);\n    var i, itemOut;\n\n    for(i = 0; i < contIn.length; i++) {\n        var itemIn = contIn[i];\n\n        if(!Lib.isPlainObject(itemIn)) {\n            itemOut = templater.newItem({});\n            itemOut[inclusionAttr] = false;\n        }\n        else {\n            itemOut = templater.newItem(itemIn);\n        }\n\n        itemOut._index = i;\n\n        if(itemOut[inclusionAttr] !== false) {\n            opts.handleItemDefaults(itemIn, itemOut, parentObjOut, opts);\n        }\n\n        contOut.push(itemOut);\n    }\n\n    var defaultItems = templater.defaultItems();\n    for(i = 0; i < defaultItems.length; i++) {\n        itemOut = defaultItems[i];\n        itemOut._index = contOut.length;\n        opts.handleItemDefaults({}, itemOut, parentObjOut, opts, {});\n        contOut.push(itemOut);\n    }\n\n    // in case this array gets its defaults rebuilt independent of the whole layout,\n    // relink the private keys just for this array.\n    if(Lib.isArrayOrTypedArray(previousContOut)) {\n        var len = Math.min(previousContOut.length, contOut.length);\n        for(i = 0; i < len; i++) {\n            Lib.relinkPrivateKeys(contOut[i], previousContOut[i]);\n        }\n    }\n\n    return contOut;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}