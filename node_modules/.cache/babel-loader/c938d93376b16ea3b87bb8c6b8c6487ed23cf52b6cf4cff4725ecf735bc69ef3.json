{"ast":null,"code":"// (c) Copyright 2016, Sean Connelly (@voidqk), http://syntheti.cc\n// MIT License\n// Project Home: https://github.com/voidqk/polybooljs\n\n//\n// filter a list of segments based on boolean operations\n//\n\nfunction select(segments, selection, buildLog) {\n  var result = [];\n  segments.forEach(function (seg) {\n    var index = (seg.myFill.above ? 8 : 0) + (seg.myFill.below ? 4 : 0) + (seg.otherFill && seg.otherFill.above ? 2 : 0) + (seg.otherFill && seg.otherFill.below ? 1 : 0);\n    if (selection[index] !== 0) {\n      // copy the segment to the results, while also calculating the fill status\n      result.push({\n        id: buildLog ? buildLog.segmentId() : -1,\n        start: seg.start,\n        end: seg.end,\n        myFill: {\n          above: selection[index] === 1,\n          // 1 if filled above\n          below: selection[index] === 2 // 2 if filled below\n        },\n\n        otherFill: null\n      });\n    }\n  });\n  if (buildLog) buildLog.selected(result);\n  return result;\n}\nvar SegmentSelector = {\n  union: function union(segments, buildLog) {\n    // primary | secondary\n    // above1 below1 above2 below2    Keep?               Value\n    //    0      0      0      0   =>   no                  0\n    //    0      0      0      1   =>   yes filled below    2\n    //    0      0      1      0   =>   yes filled above    1\n    //    0      0      1      1   =>   no                  0\n    //    0      1      0      0   =>   yes filled below    2\n    //    0      1      0      1   =>   yes filled below    2\n    //    0      1      1      0   =>   no                  0\n    //    0      1      1      1   =>   no                  0\n    //    1      0      0      0   =>   yes filled above    1\n    //    1      0      0      1   =>   no                  0\n    //    1      0      1      0   =>   yes filled above    1\n    //    1      0      1      1   =>   no                  0\n    //    1      1      0      0   =>   no                  0\n    //    1      1      0      1   =>   no                  0\n    //    1      1      1      0   =>   no                  0\n    //    1      1      1      1   =>   no                  0\n    return select(segments, [0, 2, 1, 0, 2, 2, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0], buildLog);\n  },\n  intersect: function intersect(segments, buildLog) {\n    // primary & secondary\n    // above1 below1 above2 below2    Keep?               Value\n    //    0      0      0      0   =>   no                  0\n    //    0      0      0      1   =>   no                  0\n    //    0      0      1      0   =>   no                  0\n    //    0      0      1      1   =>   no                  0\n    //    0      1      0      0   =>   no                  0\n    //    0      1      0      1   =>   yes filled below    2\n    //    0      1      1      0   =>   no                  0\n    //    0      1      1      1   =>   yes filled below    2\n    //    1      0      0      0   =>   no                  0\n    //    1      0      0      1   =>   no                  0\n    //    1      0      1      0   =>   yes filled above    1\n    //    1      0      1      1   =>   yes filled above    1\n    //    1      1      0      0   =>   no                  0\n    //    1      1      0      1   =>   yes filled below    2\n    //    1      1      1      0   =>   yes filled above    1\n    //    1      1      1      1   =>   no                  0\n    return select(segments, [0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 1, 1, 0, 2, 1, 0], buildLog);\n  },\n  difference: function difference(segments, buildLog) {\n    // primary - secondary\n    // above1 below1 above2 below2    Keep?               Value\n    //    0      0      0      0   =>   no                  0\n    //    0      0      0      1   =>   no                  0\n    //    0      0      1      0   =>   no                  0\n    //    0      0      1      1   =>   no                  0\n    //    0      1      0      0   =>   yes filled below    2\n    //    0      1      0      1   =>   no                  0\n    //    0      1      1      0   =>   yes filled below    2\n    //    0      1      1      1   =>   no                  0\n    //    1      0      0      0   =>   yes filled above    1\n    //    1      0      0      1   =>   yes filled above    1\n    //    1      0      1      0   =>   no                  0\n    //    1      0      1      1   =>   no                  0\n    //    1      1      0      0   =>   no                  0\n    //    1      1      0      1   =>   yes filled above    1\n    //    1      1      1      0   =>   yes filled below    2\n    //    1      1      1      1   =>   no                  0\n    return select(segments, [0, 0, 0, 0, 2, 0, 2, 0, 1, 1, 0, 0, 0, 1, 2, 0], buildLog);\n  },\n  differenceRev: function differenceRev(segments, buildLog) {\n    // secondary - primary\n    // above1 below1 above2 below2    Keep?               Value\n    //    0      0      0      0   =>   no                  0\n    //    0      0      0      1   =>   yes filled below    2\n    //    0      0      1      0   =>   yes filled above    1\n    //    0      0      1      1   =>   no                  0\n    //    0      1      0      0   =>   no                  0\n    //    0      1      0      1   =>   no                  0\n    //    0      1      1      0   =>   yes filled above    1\n    //    0      1      1      1   =>   yes filled above    1\n    //    1      0      0      0   =>   no                  0\n    //    1      0      0      1   =>   yes filled below    2\n    //    1      0      1      0   =>   no                  0\n    //    1      0      1      1   =>   yes filled below    2\n    //    1      1      0      0   =>   no                  0\n    //    1      1      0      1   =>   no                  0\n    //    1      1      1      0   =>   no                  0\n    //    1      1      1      1   =>   no                  0\n    return select(segments, [0, 2, 1, 0, 0, 0, 1, 1, 0, 2, 0, 2, 0, 0, 0, 0], buildLog);\n  },\n  xor: function xor(segments, buildLog) {\n    // primary ^ secondary\n    // above1 below1 above2 below2    Keep?               Value\n    //    0      0      0      0   =>   no                  0\n    //    0      0      0      1   =>   yes filled below    2\n    //    0      0      1      0   =>   yes filled above    1\n    //    0      0      1      1   =>   no                  0\n    //    0      1      0      0   =>   yes filled below    2\n    //    0      1      0      1   =>   no                  0\n    //    0      1      1      0   =>   no                  0\n    //    0      1      1      1   =>   yes filled above    1\n    //    1      0      0      0   =>   yes filled above    1\n    //    1      0      0      1   =>   no                  0\n    //    1      0      1      0   =>   no                  0\n    //    1      0      1      1   =>   yes filled below    2\n    //    1      1      0      0   =>   no                  0\n    //    1      1      0      1   =>   yes filled above    1\n    //    1      1      1      0   =>   yes filled below    2\n    //    1      1      1      1   =>   no                  0\n    return select(segments, [0, 2, 1, 0, 2, 0, 0, 1, 1, 0, 0, 2, 0, 1, 2, 0], buildLog);\n  }\n};\nmodule.exports = SegmentSelector;","map":{"version":3,"names":["select","segments","selection","buildLog","result","forEach","seg","index","myFill","above","below","otherFill","push","id","segmentId","start","end","selected","SegmentSelector","union","intersect","difference","differenceRev","xor","module","exports"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/polybooljs/lib/segment-selector.js"],"sourcesContent":["// (c) Copyright 2016, Sean Connelly (@voidqk), http://syntheti.cc\n// MIT License\n// Project Home: https://github.com/voidqk/polybooljs\n\n//\n// filter a list of segments based on boolean operations\n//\n\nfunction select(segments, selection, buildLog){\n\tvar result = [];\n\tsegments.forEach(function(seg){\n\t\tvar index =\n\t\t\t(seg.myFill.above ? 8 : 0) +\n\t\t\t(seg.myFill.below ? 4 : 0) +\n\t\t\t((seg.otherFill && seg.otherFill.above) ? 2 : 0) +\n\t\t\t((seg.otherFill && seg.otherFill.below) ? 1 : 0);\n\t\tif (selection[index] !== 0){\n\t\t\t// copy the segment to the results, while also calculating the fill status\n\t\t\tresult.push({\n\t\t\t\tid: buildLog ? buildLog.segmentId() : -1,\n\t\t\t\tstart: seg.start,\n\t\t\t\tend: seg.end,\n\t\t\t\tmyFill: {\n\t\t\t\t\tabove: selection[index] === 1, // 1 if filled above\n\t\t\t\t\tbelow: selection[index] === 2  // 2 if filled below\n\t\t\t\t},\n\t\t\t\totherFill: null\n\t\t\t});\n\t\t}\n\t});\n\n\tif (buildLog)\n\t\tbuildLog.selected(result);\n\n\treturn result;\n}\n\nvar SegmentSelector = {\n\tunion: function(segments, buildLog){ // primary | secondary\n\t\t// above1 below1 above2 below2    Keep?               Value\n\t\t//    0      0      0      0   =>   no                  0\n\t\t//    0      0      0      1   =>   yes filled below    2\n\t\t//    0      0      1      0   =>   yes filled above    1\n\t\t//    0      0      1      1   =>   no                  0\n\t\t//    0      1      0      0   =>   yes filled below    2\n\t\t//    0      1      0      1   =>   yes filled below    2\n\t\t//    0      1      1      0   =>   no                  0\n\t\t//    0      1      1      1   =>   no                  0\n\t\t//    1      0      0      0   =>   yes filled above    1\n\t\t//    1      0      0      1   =>   no                  0\n\t\t//    1      0      1      0   =>   yes filled above    1\n\t\t//    1      0      1      1   =>   no                  0\n\t\t//    1      1      0      0   =>   no                  0\n\t\t//    1      1      0      1   =>   no                  0\n\t\t//    1      1      1      0   =>   no                  0\n\t\t//    1      1      1      1   =>   no                  0\n\t\treturn select(segments, [\n\t\t\t0, 2, 1, 0,\n\t\t\t2, 2, 0, 0,\n\t\t\t1, 0, 1, 0,\n\t\t\t0, 0, 0, 0\n\t\t], buildLog);\n\t},\n\tintersect: function(segments, buildLog){ // primary & secondary\n\t\t// above1 below1 above2 below2    Keep?               Value\n\t\t//    0      0      0      0   =>   no                  0\n\t\t//    0      0      0      1   =>   no                  0\n\t\t//    0      0      1      0   =>   no                  0\n\t\t//    0      0      1      1   =>   no                  0\n\t\t//    0      1      0      0   =>   no                  0\n\t\t//    0      1      0      1   =>   yes filled below    2\n\t\t//    0      1      1      0   =>   no                  0\n\t\t//    0      1      1      1   =>   yes filled below    2\n\t\t//    1      0      0      0   =>   no                  0\n\t\t//    1      0      0      1   =>   no                  0\n\t\t//    1      0      1      0   =>   yes filled above    1\n\t\t//    1      0      1      1   =>   yes filled above    1\n\t\t//    1      1      0      0   =>   no                  0\n\t\t//    1      1      0      1   =>   yes filled below    2\n\t\t//    1      1      1      0   =>   yes filled above    1\n\t\t//    1      1      1      1   =>   no                  0\n\t\treturn select(segments, [\n\t\t\t0, 0, 0, 0,\n\t\t\t0, 2, 0, 2,\n\t\t\t0, 0, 1, 1,\n\t\t\t0, 2, 1, 0\n\t\t], buildLog);\n\t},\n\tdifference: function(segments, buildLog){ // primary - secondary\n\t\t// above1 below1 above2 below2    Keep?               Value\n\t\t//    0      0      0      0   =>   no                  0\n\t\t//    0      0      0      1   =>   no                  0\n\t\t//    0      0      1      0   =>   no                  0\n\t\t//    0      0      1      1   =>   no                  0\n\t\t//    0      1      0      0   =>   yes filled below    2\n\t\t//    0      1      0      1   =>   no                  0\n\t\t//    0      1      1      0   =>   yes filled below    2\n\t\t//    0      1      1      1   =>   no                  0\n\t\t//    1      0      0      0   =>   yes filled above    1\n\t\t//    1      0      0      1   =>   yes filled above    1\n\t\t//    1      0      1      0   =>   no                  0\n\t\t//    1      0      1      1   =>   no                  0\n\t\t//    1      1      0      0   =>   no                  0\n\t\t//    1      1      0      1   =>   yes filled above    1\n\t\t//    1      1      1      0   =>   yes filled below    2\n\t\t//    1      1      1      1   =>   no                  0\n\t\treturn select(segments, [\n\t\t\t0, 0, 0, 0,\n\t\t\t2, 0, 2, 0,\n\t\t\t1, 1, 0, 0,\n\t\t\t0, 1, 2, 0\n\t\t], buildLog);\n\t},\n\tdifferenceRev: function(segments, buildLog){ // secondary - primary\n\t\t// above1 below1 above2 below2    Keep?               Value\n\t\t//    0      0      0      0   =>   no                  0\n\t\t//    0      0      0      1   =>   yes filled below    2\n\t\t//    0      0      1      0   =>   yes filled above    1\n\t\t//    0      0      1      1   =>   no                  0\n\t\t//    0      1      0      0   =>   no                  0\n\t\t//    0      1      0      1   =>   no                  0\n\t\t//    0      1      1      0   =>   yes filled above    1\n\t\t//    0      1      1      1   =>   yes filled above    1\n\t\t//    1      0      0      0   =>   no                  0\n\t\t//    1      0      0      1   =>   yes filled below    2\n\t\t//    1      0      1      0   =>   no                  0\n\t\t//    1      0      1      1   =>   yes filled below    2\n\t\t//    1      1      0      0   =>   no                  0\n\t\t//    1      1      0      1   =>   no                  0\n\t\t//    1      1      1      0   =>   no                  0\n\t\t//    1      1      1      1   =>   no                  0\n\t\treturn select(segments, [\n\t\t\t0, 2, 1, 0,\n\t\t\t0, 0, 1, 1,\n\t\t\t0, 2, 0, 2,\n\t\t\t0, 0, 0, 0\n\t\t], buildLog);\n\t},\n\txor: function(segments, buildLog){ // primary ^ secondary\n\t\t// above1 below1 above2 below2    Keep?               Value\n\t\t//    0      0      0      0   =>   no                  0\n\t\t//    0      0      0      1   =>   yes filled below    2\n\t\t//    0      0      1      0   =>   yes filled above    1\n\t\t//    0      0      1      1   =>   no                  0\n\t\t//    0      1      0      0   =>   yes filled below    2\n\t\t//    0      1      0      1   =>   no                  0\n\t\t//    0      1      1      0   =>   no                  0\n\t\t//    0      1      1      1   =>   yes filled above    1\n\t\t//    1      0      0      0   =>   yes filled above    1\n\t\t//    1      0      0      1   =>   no                  0\n\t\t//    1      0      1      0   =>   no                  0\n\t\t//    1      0      1      1   =>   yes filled below    2\n\t\t//    1      1      0      0   =>   no                  0\n\t\t//    1      1      0      1   =>   yes filled above    1\n\t\t//    1      1      1      0   =>   yes filled below    2\n\t\t//    1      1      1      1   =>   no                  0\n\t\treturn select(segments, [\n\t\t\t0, 2, 1, 0,\n\t\t\t2, 0, 0, 1,\n\t\t\t1, 0, 0, 2,\n\t\t\t0, 1, 2, 0\n\t\t], buildLog);\n\t}\n};\n\nmodule.exports = SegmentSelector;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}