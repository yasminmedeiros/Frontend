{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar getSubplotCalcData = require('../get_data').getSubplotCalcData;\nvar counterRegex = require('../../lib').counterRegex;\nvar createPolar = require('./polar');\nvar constants = require('./constants');\nvar attr = constants.attr;\nvar name = constants.name;\nvar counter = counterRegex(name);\nvar attributes = {};\nattributes[attr] = {\n  valType: 'subplotid',\n  role: 'info',\n  dflt: name,\n  editType: 'calc',\n  description: ['Sets a reference between this trace\\'s data coordinates and', 'a polar subplot.', 'If *polar* (the default value), the data refer to `layout.polar`.', 'If *polar2*, the data refer to `layout.polar2`, and so on.'].join(' ')\n};\nfunction plot(gd) {\n  var fullLayout = gd._fullLayout;\n  var calcData = gd.calcdata;\n  var subplotIds = fullLayout._subplots[name];\n  for (var i = 0; i < subplotIds.length; i++) {\n    var id = subplotIds[i];\n    var subplotCalcData = getSubplotCalcData(calcData, name, id);\n    var subplot = fullLayout[id]._subplot;\n    if (!subplot) {\n      subplot = createPolar(gd, id);\n      fullLayout[id]._subplot = subplot;\n    }\n    subplot.plot(subplotCalcData, fullLayout, gd._promises);\n  }\n}\nfunction clean(newFullData, newFullLayout, oldFullData, oldFullLayout) {\n  var oldIds = oldFullLayout._subplots[name] || [];\n  var hadGl = oldFullLayout._has && oldFullLayout._has('gl');\n  var hasGl = newFullLayout._has && newFullLayout._has('gl');\n  var mustCleanScene = hadGl && !hasGl;\n  for (var i = 0; i < oldIds.length; i++) {\n    var id = oldIds[i];\n    var oldSubplot = oldFullLayout[id]._subplot;\n    if (!newFullLayout[id] && !!oldSubplot) {\n      oldSubplot.framework.remove();\n      oldSubplot.layers['radial-axis-title'].remove();\n      for (var k in oldSubplot.clipPaths) {\n        oldSubplot.clipPaths[k].remove();\n      }\n    }\n    if (mustCleanScene && oldSubplot._scene) {\n      oldSubplot._scene.destroy();\n      oldSubplot._scene = null;\n    }\n  }\n}\nmodule.exports = {\n  attr: attr,\n  name: name,\n  idRoot: name,\n  idRegex: counter,\n  attrRegex: counter,\n  attributes: attributes,\n  layoutAttributes: require('./layout_attributes'),\n  supplyLayoutDefaults: require('./layout_defaults'),\n  plot: plot,\n  clean: clean,\n  toSVG: require('../cartesian').toSVG\n};","map":{"version":3,"names":["getSubplotCalcData","require","counterRegex","createPolar","constants","attr","name","counter","attributes","valType","role","dflt","editType","description","join","plot","gd","fullLayout","_fullLayout","calcData","calcdata","subplotIds","_subplots","i","length","id","subplotCalcData","subplot","_subplot","_promises","clean","newFullData","newFullLayout","oldFullData","oldFullLayout","oldIds","hadGl","_has","hasGl","mustCleanScene","oldSubplot","framework","remove","layers","k","clipPaths","_scene","destroy","module","exports","idRoot","idRegex","attrRegex","layoutAttributes","supplyLayoutDefaults","toSVG"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/plotly.js/src/plots/polar/index.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar getSubplotCalcData = require('../get_data').getSubplotCalcData;\nvar counterRegex = require('../../lib').counterRegex;\n\nvar createPolar = require('./polar');\nvar constants = require('./constants');\n\nvar attr = constants.attr;\nvar name = constants.name;\nvar counter = counterRegex(name);\n\nvar attributes = {};\nattributes[attr] = {\n    valType: 'subplotid',\n    role: 'info',\n    dflt: name,\n    editType: 'calc',\n    description: [\n        'Sets a reference between this trace\\'s data coordinates and',\n        'a polar subplot.',\n        'If *polar* (the default value), the data refer to `layout.polar`.',\n        'If *polar2*, the data refer to `layout.polar2`, and so on.'\n    ].join(' ')\n};\n\nfunction plot(gd) {\n    var fullLayout = gd._fullLayout;\n    var calcData = gd.calcdata;\n    var subplotIds = fullLayout._subplots[name];\n\n    for(var i = 0; i < subplotIds.length; i++) {\n        var id = subplotIds[i];\n        var subplotCalcData = getSubplotCalcData(calcData, name, id);\n        var subplot = fullLayout[id]._subplot;\n\n        if(!subplot) {\n            subplot = createPolar(gd, id);\n            fullLayout[id]._subplot = subplot;\n        }\n\n        subplot.plot(subplotCalcData, fullLayout, gd._promises);\n    }\n}\n\nfunction clean(newFullData, newFullLayout, oldFullData, oldFullLayout) {\n    var oldIds = oldFullLayout._subplots[name] || [];\n    var hadGl = (oldFullLayout._has && oldFullLayout._has('gl'));\n    var hasGl = (newFullLayout._has && newFullLayout._has('gl'));\n    var mustCleanScene = hadGl && !hasGl;\n\n    for(var i = 0; i < oldIds.length; i++) {\n        var id = oldIds[i];\n        var oldSubplot = oldFullLayout[id]._subplot;\n\n        if(!newFullLayout[id] && !!oldSubplot) {\n            oldSubplot.framework.remove();\n            oldSubplot.layers['radial-axis-title'].remove();\n\n            for(var k in oldSubplot.clipPaths) {\n                oldSubplot.clipPaths[k].remove();\n            }\n        }\n\n        if(mustCleanScene && oldSubplot._scene) {\n            oldSubplot._scene.destroy();\n            oldSubplot._scene = null;\n        }\n    }\n}\n\nmodule.exports = {\n    attr: attr,\n    name: name,\n    idRoot: name,\n    idRegex: counter,\n    attrRegex: counter,\n    attributes: attributes,\n    layoutAttributes: require('./layout_attributes'),\n    supplyLayoutDefaults: require('./layout_defaults'),\n    plot: plot,\n    clean: clean,\n    toSVG: require('../cartesian').toSVG\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}