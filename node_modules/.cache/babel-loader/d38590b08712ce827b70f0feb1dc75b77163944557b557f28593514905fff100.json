{"ast":null,"code":"'use strict';\n\nvar bn2num = require('./lib/bn-to-num');\nvar ctz = require('./lib/ctz');\nmodule.exports = roundRat;\n\n// Round a rational to the closest float\nfunction roundRat(f) {\n  var a = f[0];\n  var b = f[1];\n  if (a.cmpn(0) === 0) {\n    return 0;\n  }\n  var h = a.abs().divmod(b.abs());\n  var iv = h.div;\n  var x = bn2num(iv);\n  var ir = h.mod;\n  var sgn = a.negative !== b.negative ? -1 : 1;\n  if (ir.cmpn(0) === 0) {\n    return sgn * x;\n  }\n  if (x) {\n    var s = ctz(x) + 4;\n    var y = bn2num(ir.ushln(s).divRound(b));\n    return sgn * (x + y * Math.pow(2, -s));\n  } else {\n    var ybits = b.bitLength() - ir.bitLength() + 53;\n    var y = bn2num(ir.ushln(ybits).divRound(b));\n    if (ybits < 1023) {\n      return sgn * y * Math.pow(2, -ybits);\n    }\n    y *= Math.pow(2, -1023);\n    return sgn * y * Math.pow(2, 1023 - ybits);\n  }\n}","map":{"version":3,"names":["bn2num","require","ctz","module","exports","roundRat","f","a","b","cmpn","h","abs","divmod","iv","div","x","ir","mod","sgn","negative","s","y","ushln","divRound","Math","pow","ybits","bitLength"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/big-rat/to-float.js"],"sourcesContent":["'use strict'\n\nvar bn2num = require('./lib/bn-to-num')\nvar ctz = require('./lib/ctz')\n\nmodule.exports = roundRat\n\n// Round a rational to the closest float\nfunction roundRat (f) {\n  var a = f[0]\n  var b = f[1]\n  if (a.cmpn(0) === 0) {\n    return 0\n  }\n  var h = a.abs().divmod(b.abs())\n  var iv = h.div\n  var x = bn2num(iv)\n  var ir = h.mod\n  var sgn = (a.negative !== b.negative) ? -1 : 1\n  if (ir.cmpn(0) === 0) {\n    return sgn * x\n  }\n  if (x) {\n    var s = ctz(x) + 4\n    var y = bn2num(ir.ushln(s).divRound(b))\n    return sgn * (x + y * Math.pow(2, -s))\n  } else {\n    var ybits = b.bitLength() - ir.bitLength() + 53\n    var y = bn2num(ir.ushln(ybits).divRound(b))\n    if (ybits < 1023) {\n      return sgn * y * Math.pow(2, -ybits)\n    }\n    y *= Math.pow(2, -1023)\n    return sgn * y * Math.pow(2, 1023 - ybits)\n  }\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,MAAM,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AACvC,IAAIC,GAAG,GAAGD,OAAO,CAAC,WAAW,CAAC;AAE9BE,MAAM,CAACC,OAAO,GAAGC,QAAQ;;AAEzB;AACA,SAASA,QAAQ,CAAEC,CAAC,EAAE;EACpB,IAAIC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC;EACZ,IAAIE,CAAC,GAAGF,CAAC,CAAC,CAAC,CAAC;EACZ,IAAIC,CAAC,CAACE,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;IACnB,OAAO,CAAC;EACV;EACA,IAAIC,CAAC,GAAGH,CAAC,CAACI,GAAG,EAAE,CAACC,MAAM,CAACJ,CAAC,CAACG,GAAG,EAAE,CAAC;EAC/B,IAAIE,EAAE,GAAGH,CAAC,CAACI,GAAG;EACd,IAAIC,CAAC,GAAGf,MAAM,CAACa,EAAE,CAAC;EAClB,IAAIG,EAAE,GAAGN,CAAC,CAACO,GAAG;EACd,IAAIC,GAAG,GAAIX,CAAC,CAACY,QAAQ,KAAKX,CAAC,CAACW,QAAQ,GAAI,CAAC,CAAC,GAAG,CAAC;EAC9C,IAAIH,EAAE,CAACP,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;IACpB,OAAOS,GAAG,GAAGH,CAAC;EAChB;EACA,IAAIA,CAAC,EAAE;IACL,IAAIK,CAAC,GAAGlB,GAAG,CAACa,CAAC,CAAC,GAAG,CAAC;IAClB,IAAIM,CAAC,GAAGrB,MAAM,CAACgB,EAAE,CAACM,KAAK,CAACF,CAAC,CAAC,CAACG,QAAQ,CAACf,CAAC,CAAC,CAAC;IACvC,OAAOU,GAAG,IAAIH,CAAC,GAAGM,CAAC,GAAGG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,CAACL,CAAC,CAAC,CAAC;EACxC,CAAC,MAAM;IACL,IAAIM,KAAK,GAAGlB,CAAC,CAACmB,SAAS,EAAE,GAAGX,EAAE,CAACW,SAAS,EAAE,GAAG,EAAE;IAC/C,IAAIN,CAAC,GAAGrB,MAAM,CAACgB,EAAE,CAACM,KAAK,CAACI,KAAK,CAAC,CAACH,QAAQ,CAACf,CAAC,CAAC,CAAC;IAC3C,IAAIkB,KAAK,GAAG,IAAI,EAAE;MAChB,OAAOR,GAAG,GAAGG,CAAC,GAAGG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,CAACC,KAAK,CAAC;IACtC;IACAL,CAAC,IAAIG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC;IACvB,OAAOP,GAAG,GAAGG,CAAC,GAAGG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,IAAI,GAAGC,KAAK,CAAC;EAC5C;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}