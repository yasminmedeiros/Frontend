{"ast":null,"code":"'use strict';\n\nmodule.exports = createBackgroundCube;\nvar createBuffer = require('gl-buffer');\nvar createVAO = require('gl-vao');\nvar createShader = require('./shaders').bg;\nfunction BackgroundCube(gl, buffer, vao, shader) {\n  this.gl = gl;\n  this.buffer = buffer;\n  this.vao = vao;\n  this.shader = shader;\n}\nvar proto = BackgroundCube.prototype;\nproto.draw = function (model, view, projection, bounds, enable, colors) {\n  var needsBG = false;\n  for (var i = 0; i < 3; ++i) {\n    needsBG = needsBG || enable[i];\n  }\n  if (!needsBG) {\n    return;\n  }\n  var gl = this.gl;\n  gl.enable(gl.POLYGON_OFFSET_FILL);\n  gl.polygonOffset(1, 2);\n  this.shader.bind();\n  this.shader.uniforms = {\n    model: model,\n    view: view,\n    projection: projection,\n    bounds: bounds,\n    enable: enable,\n    colors: colors\n  };\n  this.vao.bind();\n  this.vao.draw(this.gl.TRIANGLES, 36);\n  this.vao.unbind();\n  gl.disable(gl.POLYGON_OFFSET_FILL);\n};\nproto.dispose = function () {\n  this.vao.dispose();\n  this.buffer.dispose();\n  this.shader.dispose();\n};\nfunction createBackgroundCube(gl) {\n  //Create cube vertices\n  var vertices = [];\n  var indices = [];\n  var ptr = 0;\n  for (var d = 0; d < 3; ++d) {\n    var u = (d + 1) % 3;\n    var v = (d + 2) % 3;\n    var x = [0, 0, 0];\n    var c = [0, 0, 0];\n    for (var s = -1; s <= 1; s += 2) {\n      indices.push(ptr, ptr + 2, ptr + 1, ptr + 1, ptr + 2, ptr + 3);\n      x[d] = s;\n      c[d] = s;\n      for (var i = -1; i <= 1; i += 2) {\n        x[u] = i;\n        for (var j = -1; j <= 1; j += 2) {\n          x[v] = j;\n          vertices.push(x[0], x[1], x[2], c[0], c[1], c[2]);\n          ptr += 1;\n        }\n      }\n      //Swap u and v\n      var tt = u;\n      u = v;\n      v = tt;\n    }\n  }\n\n  //Allocate buffer and vertex array\n  var buffer = createBuffer(gl, new Float32Array(vertices));\n  var elements = createBuffer(gl, new Uint16Array(indices), gl.ELEMENT_ARRAY_BUFFER);\n  var vao = createVAO(gl, [{\n    buffer: buffer,\n    type: gl.FLOAT,\n    size: 3,\n    offset: 0,\n    stride: 24\n  }, {\n    buffer: buffer,\n    type: gl.FLOAT,\n    size: 3,\n    offset: 12,\n    stride: 24\n  }], elements);\n\n  //Create shader object\n  var shader = createShader(gl);\n  shader.attributes.position.location = 0;\n  shader.attributes.normal.location = 1;\n  return new BackgroundCube(gl, buffer, vao, shader);\n}","map":{"version":3,"names":["module","exports","createBackgroundCube","createBuffer","require","createVAO","createShader","bg","BackgroundCube","gl","buffer","vao","shader","proto","prototype","draw","model","view","projection","bounds","enable","colors","needsBG","i","POLYGON_OFFSET_FILL","polygonOffset","bind","uniforms","TRIANGLES","unbind","disable","dispose","vertices","indices","ptr","d","u","v","x","c","s","push","j","tt","Float32Array","elements","Uint16Array","ELEMENT_ARRAY_BUFFER","type","FLOAT","size","offset","stride","attributes","position","location","normal"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/gl-axes3d/lib/background.js"],"sourcesContent":["'use strict'\n\nmodule.exports = createBackgroundCube\n\nvar createBuffer = require('gl-buffer')\nvar createVAO    = require('gl-vao')\nvar createShader = require('./shaders').bg\n\nfunction BackgroundCube(gl, buffer, vao, shader) {\n  this.gl = gl\n  this.buffer = buffer\n  this.vao = vao\n  this.shader = shader\n}\n\nvar proto = BackgroundCube.prototype\n\nproto.draw = function(model, view, projection, bounds, enable, colors) {\n  var needsBG = false\n  for(var i=0; i<3; ++i) {\n    needsBG = needsBG || enable[i]\n  }\n  if(!needsBG) {\n    return\n  }\n\n  var gl = this.gl\n\n  gl.enable(gl.POLYGON_OFFSET_FILL)\n  gl.polygonOffset(1, 2)\n\n  this.shader.bind()\n  this.shader.uniforms = {\n    model: model,\n    view: view,\n    projection: projection,\n    bounds: bounds,\n    enable: enable,\n    colors: colors\n  }\n  this.vao.bind()\n  this.vao.draw(this.gl.TRIANGLES, 36)\n  this.vao.unbind()\n\n  gl.disable(gl.POLYGON_OFFSET_FILL)\n}\n\nproto.dispose = function() {\n  this.vao.dispose()\n  this.buffer.dispose()\n  this.shader.dispose()\n}\n\nfunction createBackgroundCube(gl) {\n  //Create cube vertices\n  var vertices = []\n  var indices  = []\n  var ptr = 0\n  for(var d=0; d<3; ++d) {\n    var u = (d+1) % 3\n    var v = (d+2) % 3\n    var x = [0,0,0]\n    var c = [0,0,0]\n    for(var s=-1; s<=1; s+=2) {\n      indices.push(ptr,   ptr+2, ptr+1,\n                   ptr+1, ptr+2, ptr+3)\n      x[d] = s\n      c[d] = s\n      for(var i=-1; i<=1; i+=2) {\n        x[u] = i\n        for(var j=-1; j<=1; j+=2) {\n          x[v] = j\n          vertices.push(x[0], x[1], x[2],\n                        c[0], c[1], c[2])\n          ptr += 1\n        }\n      }\n      //Swap u and v\n      var tt = u\n      u = v\n      v = tt\n    }\n  }\n\n  //Allocate buffer and vertex array\n  var buffer = createBuffer(gl, new Float32Array(vertices))\n  var elements = createBuffer(gl, new Uint16Array(indices), gl.ELEMENT_ARRAY_BUFFER)\n  var vao = createVAO(gl, [\n      {\n        buffer: buffer,\n        type: gl.FLOAT,\n        size: 3,\n        offset: 0,\n        stride: 24\n      },\n      {\n        buffer: buffer,\n        type: gl.FLOAT,\n        size: 3,\n        offset: 12,\n        stride: 24\n      }\n    ], elements)\n\n  //Create shader object\n  var shader = createShader(gl)\n  shader.attributes.position.location = 0\n  shader.attributes.normal.location = 1\n\n  return new BackgroundCube(gl, buffer, vao, shader)\n}\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,OAAO,GAAGC,oBAAoB;AAErC,IAAIC,YAAY,GAAGC,OAAO,CAAC,WAAW,CAAC;AACvC,IAAIC,SAAS,GAAMD,OAAO,CAAC,QAAQ,CAAC;AACpC,IAAIE,YAAY,GAAGF,OAAO,CAAC,WAAW,CAAC,CAACG,EAAE;AAE1C,SAASC,cAAc,CAACC,EAAE,EAAEC,MAAM,EAAEC,GAAG,EAAEC,MAAM,EAAE;EAC/C,IAAI,CAACH,EAAE,GAAGA,EAAE;EACZ,IAAI,CAACC,MAAM,GAAGA,MAAM;EACpB,IAAI,CAACC,GAAG,GAAGA,GAAG;EACd,IAAI,CAACC,MAAM,GAAGA,MAAM;AACtB;AAEA,IAAIC,KAAK,GAAGL,cAAc,CAACM,SAAS;AAEpCD,KAAK,CAACE,IAAI,GAAG,UAASC,KAAK,EAAEC,IAAI,EAAEC,UAAU,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAE;EACrE,IAAIC,OAAO,GAAG,KAAK;EACnB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC,CAAC,EAAE,EAAEA,CAAC,EAAE;IACrBD,OAAO,GAAGA,OAAO,IAAIF,MAAM,CAACG,CAAC,CAAC;EAChC;EACA,IAAG,CAACD,OAAO,EAAE;IACX;EACF;EAEA,IAAIb,EAAE,GAAG,IAAI,CAACA,EAAE;EAEhBA,EAAE,CAACW,MAAM,CAACX,EAAE,CAACe,mBAAmB,CAAC;EACjCf,EAAE,CAACgB,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC;EAEtB,IAAI,CAACb,MAAM,CAACc,IAAI,EAAE;EAClB,IAAI,CAACd,MAAM,CAACe,QAAQ,GAAG;IACrBX,KAAK,EAAEA,KAAK;IACZC,IAAI,EAAEA,IAAI;IACVC,UAAU,EAAEA,UAAU;IACtBC,MAAM,EAAEA,MAAM;IACdC,MAAM,EAAEA,MAAM;IACdC,MAAM,EAAEA;EACV,CAAC;EACD,IAAI,CAACV,GAAG,CAACe,IAAI,EAAE;EACf,IAAI,CAACf,GAAG,CAACI,IAAI,CAAC,IAAI,CAACN,EAAE,CAACmB,SAAS,EAAE,EAAE,CAAC;EACpC,IAAI,CAACjB,GAAG,CAACkB,MAAM,EAAE;EAEjBpB,EAAE,CAACqB,OAAO,CAACrB,EAAE,CAACe,mBAAmB,CAAC;AACpC,CAAC;AAEDX,KAAK,CAACkB,OAAO,GAAG,YAAW;EACzB,IAAI,CAACpB,GAAG,CAACoB,OAAO,EAAE;EAClB,IAAI,CAACrB,MAAM,CAACqB,OAAO,EAAE;EACrB,IAAI,CAACnB,MAAM,CAACmB,OAAO,EAAE;AACvB,CAAC;AAED,SAAS7B,oBAAoB,CAACO,EAAE,EAAE;EAChC;EACA,IAAIuB,QAAQ,GAAG,EAAE;EACjB,IAAIC,OAAO,GAAI,EAAE;EACjB,IAAIC,GAAG,GAAG,CAAC;EACX,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC,CAAC,EAAE,EAAEA,CAAC,EAAE;IACrB,IAAIC,CAAC,GAAG,CAACD,CAAC,GAAC,CAAC,IAAI,CAAC;IACjB,IAAIE,CAAC,GAAG,CAACF,CAAC,GAAC,CAAC,IAAI,CAAC;IACjB,IAAIG,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;IACf,IAAIC,CAAC,GAAG,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;IACf,KAAI,IAAIC,CAAC,GAAC,CAAC,CAAC,EAAEA,CAAC,IAAE,CAAC,EAAEA,CAAC,IAAE,CAAC,EAAE;MACxBP,OAAO,CAACQ,IAAI,CAACP,GAAG,EAAIA,GAAG,GAAC,CAAC,EAAEA,GAAG,GAAC,CAAC,EACnBA,GAAG,GAAC,CAAC,EAAEA,GAAG,GAAC,CAAC,EAAEA,GAAG,GAAC,CAAC,CAAC;MACjCI,CAAC,CAACH,CAAC,CAAC,GAAGK,CAAC;MACRD,CAAC,CAACJ,CAAC,CAAC,GAAGK,CAAC;MACR,KAAI,IAAIjB,CAAC,GAAC,CAAC,CAAC,EAAEA,CAAC,IAAE,CAAC,EAAEA,CAAC,IAAE,CAAC,EAAE;QACxBe,CAAC,CAACF,CAAC,CAAC,GAAGb,CAAC;QACR,KAAI,IAAImB,CAAC,GAAC,CAAC,CAAC,EAAEA,CAAC,IAAE,CAAC,EAAEA,CAAC,IAAE,CAAC,EAAE;UACxBJ,CAAC,CAACD,CAAC,CAAC,GAAGK,CAAC;UACRV,QAAQ,CAACS,IAAI,CAACH,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAChBC,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/BL,GAAG,IAAI,CAAC;QACV;MACF;MACA;MACA,IAAIS,EAAE,GAAGP,CAAC;MACVA,CAAC,GAAGC,CAAC;MACLA,CAAC,GAAGM,EAAE;IACR;EACF;;EAEA;EACA,IAAIjC,MAAM,GAAGP,YAAY,CAACM,EAAE,EAAE,IAAImC,YAAY,CAACZ,QAAQ,CAAC,CAAC;EACzD,IAAIa,QAAQ,GAAG1C,YAAY,CAACM,EAAE,EAAE,IAAIqC,WAAW,CAACb,OAAO,CAAC,EAAExB,EAAE,CAACsC,oBAAoB,CAAC;EAClF,IAAIpC,GAAG,GAAGN,SAAS,CAACI,EAAE,EAAE,CACpB;IACEC,MAAM,EAAEA,MAAM;IACdsC,IAAI,EAAEvC,EAAE,CAACwC,KAAK;IACdC,IAAI,EAAE,CAAC;IACPC,MAAM,EAAE,CAAC;IACTC,MAAM,EAAE;EACV,CAAC,EACD;IACE1C,MAAM,EAAEA,MAAM;IACdsC,IAAI,EAAEvC,EAAE,CAACwC,KAAK;IACdC,IAAI,EAAE,CAAC;IACPC,MAAM,EAAE,EAAE;IACVC,MAAM,EAAE;EACV,CAAC,CACF,EAAEP,QAAQ,CAAC;;EAEd;EACA,IAAIjC,MAAM,GAAGN,YAAY,CAACG,EAAE,CAAC;EAC7BG,MAAM,CAACyC,UAAU,CAACC,QAAQ,CAACC,QAAQ,GAAG,CAAC;EACvC3C,MAAM,CAACyC,UAAU,CAACG,MAAM,CAACD,QAAQ,GAAG,CAAC;EAErC,OAAO,IAAI/C,cAAc,CAACC,EAAE,EAAEC,MAAM,EAAEC,GAAG,EAAEC,MAAM,CAAC;AACpD"},"metadata":{},"sourceType":"script","externalDependencies":[]}