{"ast":null,"code":"'use strict';\n\nvar bsearch = require('binary-search-bounds');\nmodule.exports = createTriangulation;\nfunction Triangulation(stars, edges) {\n  this.stars = stars;\n  this.edges = edges;\n}\nvar proto = Triangulation.prototype;\nfunction removePair(list, j, k) {\n  for (var i = 1, n = list.length; i < n; i += 2) {\n    if (list[i - 1] === j && list[i] === k) {\n      list[i - 1] = list[n - 2];\n      list[i] = list[n - 1];\n      list.length = n - 2;\n      return;\n    }\n  }\n}\nproto.isConstraint = function () {\n  var e = [0, 0];\n  function compareLex(a, b) {\n    return a[0] - b[0] || a[1] - b[1];\n  }\n  return function (i, j) {\n    e[0] = Math.min(i, j);\n    e[1] = Math.max(i, j);\n    return bsearch.eq(this.edges, e, compareLex) >= 0;\n  };\n}();\nproto.removeTriangle = function (i, j, k) {\n  var stars = this.stars;\n  removePair(stars[i], j, k);\n  removePair(stars[j], k, i);\n  removePair(stars[k], i, j);\n};\nproto.addTriangle = function (i, j, k) {\n  var stars = this.stars;\n  stars[i].push(j, k);\n  stars[j].push(k, i);\n  stars[k].push(i, j);\n};\nproto.opposite = function (j, i) {\n  var list = this.stars[i];\n  for (var k = 1, n = list.length; k < n; k += 2) {\n    if (list[k] === j) {\n      return list[k - 1];\n    }\n  }\n  return -1;\n};\nproto.flip = function (i, j) {\n  var a = this.opposite(i, j);\n  var b = this.opposite(j, i);\n  this.removeTriangle(i, j, a);\n  this.removeTriangle(j, i, b);\n  this.addTriangle(i, b, a);\n  this.addTriangle(j, a, b);\n};\nproto.edges = function () {\n  var stars = this.stars;\n  var result = [];\n  for (var i = 0, n = stars.length; i < n; ++i) {\n    var list = stars[i];\n    for (var j = 0, m = list.length; j < m; j += 2) {\n      result.push([list[j], list[j + 1]]);\n    }\n  }\n  return result;\n};\nproto.cells = function () {\n  var stars = this.stars;\n  var result = [];\n  for (var i = 0, n = stars.length; i < n; ++i) {\n    var list = stars[i];\n    for (var j = 0, m = list.length; j < m; j += 2) {\n      var s = list[j];\n      var t = list[j + 1];\n      if (i < Math.min(s, t)) {\n        result.push([i, s, t]);\n      }\n    }\n  }\n  return result;\n};\nfunction createTriangulation(numVerts, edges) {\n  var stars = new Array(numVerts);\n  for (var i = 0; i < numVerts; ++i) {\n    stars[i] = [];\n  }\n  return new Triangulation(stars, edges);\n}","map":{"version":3,"names":["bsearch","require","module","exports","createTriangulation","Triangulation","stars","edges","proto","prototype","removePair","list","j","k","i","n","length","isConstraint","e","compareLex","a","b","Math","min","max","eq","removeTriangle","addTriangle","push","opposite","flip","result","m","cells","s","t","numVerts","Array"],"sources":["/home/yasmin/Ãrea de Trabalho/Frontend/node_modules/cdt2d/lib/triangulation.js"],"sourcesContent":["'use strict'\n\nvar bsearch = require('binary-search-bounds')\n\nmodule.exports = createTriangulation\n\nfunction Triangulation(stars, edges) {\n  this.stars = stars\n  this.edges = edges\n}\n\nvar proto = Triangulation.prototype\n\nfunction removePair(list, j, k) {\n  for(var i=1, n=list.length; i<n; i+=2) {\n    if(list[i-1] === j && list[i] === k) {\n      list[i-1] = list[n-2]\n      list[i] = list[n-1]\n      list.length = n - 2\n      return\n    }\n  }\n}\n\nproto.isConstraint = (function() {\n  var e = [0,0]\n  function compareLex(a, b) {\n    return a[0] - b[0] || a[1] - b[1]\n  }\n  return function(i, j) {\n    e[0] = Math.min(i,j)\n    e[1] = Math.max(i,j)\n    return bsearch.eq(this.edges, e, compareLex) >= 0\n  }\n})()\n\nproto.removeTriangle = function(i, j, k) {\n  var stars = this.stars\n  removePair(stars[i], j, k)\n  removePair(stars[j], k, i)\n  removePair(stars[k], i, j)\n}\n\nproto.addTriangle = function(i, j, k) {\n  var stars = this.stars\n  stars[i].push(j, k)\n  stars[j].push(k, i)\n  stars[k].push(i, j)\n}\n\nproto.opposite = function(j, i) {\n  var list = this.stars[i]\n  for(var k=1, n=list.length; k<n; k+=2) {\n    if(list[k] === j) {\n      return list[k-1]\n    }\n  }\n  return -1\n}\n\nproto.flip = function(i, j) {\n  var a = this.opposite(i, j)\n  var b = this.opposite(j, i)\n  this.removeTriangle(i, j, a)\n  this.removeTriangle(j, i, b)\n  this.addTriangle(i, b, a)\n  this.addTriangle(j, a, b)\n}\n\nproto.edges = function() {\n  var stars = this.stars\n  var result = []\n  for(var i=0, n=stars.length; i<n; ++i) {\n    var list = stars[i]\n    for(var j=0, m=list.length; j<m; j+=2) {\n      result.push([list[j], list[j+1]])\n    }\n  }\n  return result\n}\n\nproto.cells = function() {\n  var stars = this.stars\n  var result = []\n  for(var i=0, n=stars.length; i<n; ++i) {\n    var list = stars[i]\n    for(var j=0, m=list.length; j<m; j+=2) {\n      var s = list[j]\n      var t = list[j+1]\n      if(i < Math.min(s, t)) {\n        result.push([i, s, t])\n      }\n    }\n  }\n  return result\n}\n\nfunction createTriangulation(numVerts, edges) {\n  var stars = new Array(numVerts)\n  for(var i=0; i<numVerts; ++i) {\n    stars[i] = []\n  }\n  return new Triangulation(stars, edges)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}