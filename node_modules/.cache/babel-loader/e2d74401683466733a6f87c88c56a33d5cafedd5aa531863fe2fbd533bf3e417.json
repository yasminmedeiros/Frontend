{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar d3 = require('d3');\nvar Drawing = require('../../components/drawing');\nvar map1dArray = require('./map_1d_array');\nvar makepath = require('./makepath');\nvar orientText = require('./orient_text');\nvar svgTextUtils = require('../../lib/svg_text_utils');\nvar Lib = require('../../lib');\nvar alignmentConstants = require('../../constants/alignment');\nmodule.exports = function plot(gd, plotinfo, cdcarpet, carpetLayer) {\n  var xa = plotinfo.xaxis;\n  var ya = plotinfo.yaxis;\n  var fullLayout = gd._fullLayout;\n  var clipLayer = fullLayout._clips;\n  Lib.makeTraceGroups(carpetLayer, cdcarpet, 'trace').each(function (cd) {\n    var axisLayer = d3.select(this);\n    var cd0 = cd[0];\n    var trace = cd0.trace;\n    var aax = trace.aaxis;\n    var bax = trace.baxis;\n    var minorLayer = Lib.ensureSingle(axisLayer, 'g', 'minorlayer');\n    var majorLayer = Lib.ensureSingle(axisLayer, 'g', 'majorlayer');\n    var boundaryLayer = Lib.ensureSingle(axisLayer, 'g', 'boundarylayer');\n    var labelLayer = Lib.ensureSingle(axisLayer, 'g', 'labellayer');\n    axisLayer.style('opacity', trace.opacity);\n    drawGridLines(xa, ya, majorLayer, aax, 'a', aax._gridlines, true);\n    drawGridLines(xa, ya, majorLayer, bax, 'b', bax._gridlines, true);\n    drawGridLines(xa, ya, minorLayer, aax, 'a', aax._minorgridlines, true);\n    drawGridLines(xa, ya, minorLayer, bax, 'b', bax._minorgridlines, true);\n\n    // NB: These are not ommitted if the lines are not active. The joins must be executed\n    // in order for them to get cleaned up without a full redraw\n    drawGridLines(xa, ya, boundaryLayer, aax, 'a-boundary', aax._boundarylines);\n    drawGridLines(xa, ya, boundaryLayer, bax, 'b-boundary', bax._boundarylines);\n    var labelOrientationA = drawAxisLabels(gd, xa, ya, trace, cd0, labelLayer, aax._labels, 'a-label');\n    var labelOrientationB = drawAxisLabels(gd, xa, ya, trace, cd0, labelLayer, bax._labels, 'b-label');\n    drawAxisTitles(gd, labelLayer, trace, cd0, xa, ya, labelOrientationA, labelOrientationB);\n    drawClipPath(trace, cd0, clipLayer, xa, ya);\n  });\n};\nfunction drawClipPath(trace, t, layer, xaxis, yaxis) {\n  var seg, xp, yp, i;\n  var clip = layer.select('#' + trace._clipPathId);\n  if (!clip.size()) {\n    clip = layer.append('clipPath').classed('carpetclip', true);\n  }\n  var path = Lib.ensureSingle(clip, 'path', 'carpetboundary');\n  var segments = t.clipsegments;\n  var segs = [];\n  for (i = 0; i < segments.length; i++) {\n    seg = segments[i];\n    xp = map1dArray([], seg.x, xaxis.c2p);\n    yp = map1dArray([], seg.y, yaxis.c2p);\n    segs.push(makepath(xp, yp, seg.bicubic));\n  }\n\n  // This could be optimized ever so slightly to avoid no-op L segments\n  // at the corners, but it's so negligible that I don't think it's worth\n  // the extra complexity\n  var clipPathData = 'M' + segs.join('L') + 'Z';\n  clip.attr('id', trace._clipPathId);\n  path.attr('d', clipPathData);\n}\nfunction drawGridLines(xaxis, yaxis, layer, axis, axisLetter, gridlines) {\n  var lineClass = 'const-' + axisLetter + '-lines';\n  var gridJoin = layer.selectAll('.' + lineClass).data(gridlines);\n  gridJoin.enter().append('path').classed(lineClass, true).style('vector-effect', 'non-scaling-stroke');\n  gridJoin.each(function (d) {\n    var gridline = d;\n    var x = gridline.x;\n    var y = gridline.y;\n    var xp = map1dArray([], x, xaxis.c2p);\n    var yp = map1dArray([], y, yaxis.c2p);\n    var path = 'M' + makepath(xp, yp, gridline.smoothing);\n    var el = d3.select(this);\n    el.attr('d', path).style('stroke-width', gridline.width).style('stroke', gridline.color).style('fill', 'none');\n  });\n  gridJoin.exit().remove();\n}\nfunction drawAxisLabels(gd, xaxis, yaxis, trace, t, layer, labels, labelClass) {\n  var labelJoin = layer.selectAll('text.' + labelClass).data(labels);\n  labelJoin.enter().append('text').classed(labelClass, true);\n  var maxExtent = 0;\n  var labelOrientation = {};\n  labelJoin.each(function (label, i) {\n    // Most of the positioning is done in calc_labels. Only the parts that depend upon\n    // the screen space representation of the x and y axes are here:\n    var orientation;\n    if (label.axis.tickangle === 'auto') {\n      orientation = orientText(trace, xaxis, yaxis, label.xy, label.dxy);\n    } else {\n      var angle = (label.axis.tickangle + 180.0) * Math.PI / 180.0;\n      orientation = orientText(trace, xaxis, yaxis, label.xy, [Math.cos(angle), Math.sin(angle)]);\n    }\n    if (!i) {\n      // TODO: offsetMultiplier? Not currently used anywhere...\n      labelOrientation = {\n        angle: orientation.angle,\n        flip: orientation.flip\n      };\n    }\n    var direction = (label.endAnchor ? -1 : 1) * orientation.flip;\n    var labelEl = d3.select(this).attr({\n      'text-anchor': direction > 0 ? 'start' : 'end',\n      'data-notex': 1\n    }).call(Drawing.font, label.font).text(label.text).call(svgTextUtils.convertToTspans, gd);\n    var bbox = Drawing.bBox(this);\n    labelEl.attr('transform',\n    // Translate to the correct point:\n    'translate(' + orientation.p[0] + ',' + orientation.p[1] + ') ' +\n    // Rotate to line up with grid line tangent:\n    'rotate(' + orientation.angle + ')' +\n    // Adjust the baseline and indentation:\n    'translate(' + label.axis.labelpadding * direction + ',' + bbox.height * 0.3 + ')');\n    maxExtent = Math.max(maxExtent, bbox.width + label.axis.labelpadding);\n  });\n  labelJoin.exit().remove();\n  labelOrientation.maxExtent = maxExtent;\n  return labelOrientation;\n}\nfunction drawAxisTitles(gd, layer, trace, t, xa, ya, labelOrientationA, labelOrientationB) {\n  var a, b, xy, dxy;\n  a = 0.5 * (trace.a[0] + trace.a[trace.a.length - 1]);\n  b = trace.b[0];\n  xy = trace.ab2xy(a, b, true);\n  dxy = trace.dxyda_rough(a, b);\n  if (labelOrientationA.angle === undefined) {\n    Lib.extendFlat(labelOrientationA, orientText(trace, xa, ya, xy, trace.dxydb_rough(a, b)));\n  }\n  drawAxisTitle(gd, layer, trace, t, xy, dxy, trace.aaxis, xa, ya, labelOrientationA, 'a-title');\n  a = trace.a[0];\n  b = 0.5 * (trace.b[0] + trace.b[trace.b.length - 1]);\n  xy = trace.ab2xy(a, b, true);\n  dxy = trace.dxydb_rough(a, b);\n  if (labelOrientationB.angle === undefined) {\n    Lib.extendFlat(labelOrientationB, orientText(trace, xa, ya, xy, trace.dxyda_rough(a, b)));\n  }\n  drawAxisTitle(gd, layer, trace, t, xy, dxy, trace.baxis, xa, ya, labelOrientationB, 'b-title');\n}\nvar lineSpacing = alignmentConstants.LINE_SPACING;\nvar midShift = (1 - alignmentConstants.MID_SHIFT) / lineSpacing + 1;\nfunction drawAxisTitle(gd, layer, trace, t, xy, dxy, axis, xa, ya, labelOrientation, labelClass) {\n  var data = [];\n  if (axis.title.text) data.push(axis.title.text);\n  var titleJoin = layer.selectAll('text.' + labelClass).data(data);\n  var offset = labelOrientation.maxExtent;\n  titleJoin.enter().append('text').classed(labelClass, true);\n\n  // There's only one, but we'll do it as a join so it's updated nicely:\n  titleJoin.each(function () {\n    var orientation = orientText(trace, xa, ya, xy, dxy);\n    if (['start', 'both'].indexOf(axis.showticklabels) === -1) {\n      offset = 0;\n    }\n\n    // In addition to the size of the labels, add on some extra padding:\n    var titleSize = axis.title.font.size;\n    offset += titleSize + axis.title.offset;\n    var labelNorm = labelOrientation.angle + (labelOrientation.flip < 0 ? 180 : 0);\n    var angleDiff = (labelNorm - orientation.angle + 450) % 360;\n    var reverseTitle = angleDiff > 90 && angleDiff < 270;\n    var el = d3.select(this);\n    el.text(axis.title.text).call(svgTextUtils.convertToTspans, gd);\n    if (reverseTitle) {\n      offset = (-svgTextUtils.lineCount(el) + midShift) * lineSpacing * titleSize - offset;\n    }\n    el.attr('transform', 'translate(' + orientation.p[0] + ',' + orientation.p[1] + ') ' + 'rotate(' + orientation.angle + ') ' + 'translate(0,' + offset + ')').classed('user-select-none', true).attr('text-anchor', 'middle').call(Drawing.font, axis.title.font);\n  });\n  titleJoin.exit().remove();\n}","map":{"version":3,"names":["d3","require","Drawing","map1dArray","makepath","orientText","svgTextUtils","Lib","alignmentConstants","module","exports","plot","gd","plotinfo","cdcarpet","carpetLayer","xa","xaxis","ya","yaxis","fullLayout","_fullLayout","clipLayer","_clips","makeTraceGroups","each","cd","axisLayer","select","cd0","trace","aax","aaxis","bax","baxis","minorLayer","ensureSingle","majorLayer","boundaryLayer","labelLayer","style","opacity","drawGridLines","_gridlines","_minorgridlines","_boundarylines","labelOrientationA","drawAxisLabels","_labels","labelOrientationB","drawAxisTitles","drawClipPath","t","layer","seg","xp","yp","i","clip","_clipPathId","size","append","classed","path","segments","clipsegments","segs","length","x","c2p","y","push","bicubic","clipPathData","join","attr","axis","axisLetter","gridlines","lineClass","gridJoin","selectAll","data","enter","d","gridline","smoothing","el","width","color","exit","remove","labels","labelClass","labelJoin","maxExtent","labelOrientation","label","orientation","tickangle","xy","dxy","angle","Math","PI","cos","sin","flip","direction","endAnchor","labelEl","call","font","text","convertToTspans","bbox","bBox","p","labelpadding","height","max","a","b","ab2xy","dxyda_rough","undefined","extendFlat","dxydb_rough","drawAxisTitle","lineSpacing","LINE_SPACING","midShift","MID_SHIFT","title","titleJoin","offset","indexOf","showticklabels","titleSize","labelNorm","angleDiff","reverseTitle","lineCount"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/plotly.js/src/traces/carpet/plot.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar d3 = require('d3');\nvar Drawing = require('../../components/drawing');\nvar map1dArray = require('./map_1d_array');\nvar makepath = require('./makepath');\nvar orientText = require('./orient_text');\nvar svgTextUtils = require('../../lib/svg_text_utils');\nvar Lib = require('../../lib');\nvar alignmentConstants = require('../../constants/alignment');\n\nmodule.exports = function plot(gd, plotinfo, cdcarpet, carpetLayer) {\n    var xa = plotinfo.xaxis;\n    var ya = plotinfo.yaxis;\n    var fullLayout = gd._fullLayout;\n    var clipLayer = fullLayout._clips;\n\n    Lib.makeTraceGroups(carpetLayer, cdcarpet, 'trace').each(function(cd) {\n        var axisLayer = d3.select(this);\n        var cd0 = cd[0];\n        var trace = cd0.trace;\n        var aax = trace.aaxis;\n        var bax = trace.baxis;\n\n        var minorLayer = Lib.ensureSingle(axisLayer, 'g', 'minorlayer');\n        var majorLayer = Lib.ensureSingle(axisLayer, 'g', 'majorlayer');\n        var boundaryLayer = Lib.ensureSingle(axisLayer, 'g', 'boundarylayer');\n        var labelLayer = Lib.ensureSingle(axisLayer, 'g', 'labellayer');\n\n        axisLayer.style('opacity', trace.opacity);\n\n        drawGridLines(xa, ya, majorLayer, aax, 'a', aax._gridlines, true);\n        drawGridLines(xa, ya, majorLayer, bax, 'b', bax._gridlines, true);\n        drawGridLines(xa, ya, minorLayer, aax, 'a', aax._minorgridlines, true);\n        drawGridLines(xa, ya, minorLayer, bax, 'b', bax._minorgridlines, true);\n\n        // NB: These are not ommitted if the lines are not active. The joins must be executed\n        // in order for them to get cleaned up without a full redraw\n        drawGridLines(xa, ya, boundaryLayer, aax, 'a-boundary', aax._boundarylines);\n        drawGridLines(xa, ya, boundaryLayer, bax, 'b-boundary', bax._boundarylines);\n\n        var labelOrientationA = drawAxisLabels(gd, xa, ya, trace, cd0, labelLayer, aax._labels, 'a-label');\n        var labelOrientationB = drawAxisLabels(gd, xa, ya, trace, cd0, labelLayer, bax._labels, 'b-label');\n\n        drawAxisTitles(gd, labelLayer, trace, cd0, xa, ya, labelOrientationA, labelOrientationB);\n\n        drawClipPath(trace, cd0, clipLayer, xa, ya);\n    });\n};\n\nfunction drawClipPath(trace, t, layer, xaxis, yaxis) {\n    var seg, xp, yp, i;\n\n    var clip = layer.select('#' + trace._clipPathId);\n\n    if(!clip.size()) {\n        clip = layer.append('clipPath')\n            .classed('carpetclip', true);\n    }\n\n    var path = Lib.ensureSingle(clip, 'path', 'carpetboundary');\n    var segments = t.clipsegments;\n    var segs = [];\n\n    for(i = 0; i < segments.length; i++) {\n        seg = segments[i];\n        xp = map1dArray([], seg.x, xaxis.c2p);\n        yp = map1dArray([], seg.y, yaxis.c2p);\n        segs.push(makepath(xp, yp, seg.bicubic));\n    }\n\n    // This could be optimized ever so slightly to avoid no-op L segments\n    // at the corners, but it's so negligible that I don't think it's worth\n    // the extra complexity\n    var clipPathData = 'M' + segs.join('L') + 'Z';\n    clip.attr('id', trace._clipPathId);\n    path.attr('d', clipPathData);\n}\n\nfunction drawGridLines(xaxis, yaxis, layer, axis, axisLetter, gridlines) {\n    var lineClass = 'const-' + axisLetter + '-lines';\n    var gridJoin = layer.selectAll('.' + lineClass).data(gridlines);\n\n    gridJoin.enter().append('path')\n        .classed(lineClass, true)\n        .style('vector-effect', 'non-scaling-stroke');\n\n    gridJoin.each(function(d) {\n        var gridline = d;\n        var x = gridline.x;\n        var y = gridline.y;\n\n        var xp = map1dArray([], x, xaxis.c2p);\n        var yp = map1dArray([], y, yaxis.c2p);\n\n        var path = 'M' + makepath(xp, yp, gridline.smoothing);\n\n        var el = d3.select(this);\n\n        el.attr('d', path)\n            .style('stroke-width', gridline.width)\n            .style('stroke', gridline.color)\n            .style('fill', 'none');\n    });\n\n    gridJoin.exit().remove();\n}\n\nfunction drawAxisLabels(gd, xaxis, yaxis, trace, t, layer, labels, labelClass) {\n    var labelJoin = layer.selectAll('text.' + labelClass).data(labels);\n\n    labelJoin.enter().append('text')\n        .classed(labelClass, true);\n\n    var maxExtent = 0;\n    var labelOrientation = {};\n\n    labelJoin.each(function(label, i) {\n        // Most of the positioning is done in calc_labels. Only the parts that depend upon\n        // the screen space representation of the x and y axes are here:\n        var orientation;\n        if(label.axis.tickangle === 'auto') {\n            orientation = orientText(trace, xaxis, yaxis, label.xy, label.dxy);\n        } else {\n            var angle = (label.axis.tickangle + 180.0) * Math.PI / 180.0;\n            orientation = orientText(trace, xaxis, yaxis, label.xy, [Math.cos(angle), Math.sin(angle)]);\n        }\n\n        if(!i) {\n            // TODO: offsetMultiplier? Not currently used anywhere...\n            labelOrientation = {angle: orientation.angle, flip: orientation.flip};\n        }\n        var direction = (label.endAnchor ? -1 : 1) * orientation.flip;\n\n        var labelEl = d3.select(this)\n            .attr({\n                'text-anchor': direction > 0 ? 'start' : 'end',\n                'data-notex': 1\n            })\n            .call(Drawing.font, label.font)\n            .text(label.text)\n            .call(svgTextUtils.convertToTspans, gd);\n\n        var bbox = Drawing.bBox(this);\n\n        labelEl.attr('transform',\n                // Translate to the correct point:\n                'translate(' + orientation.p[0] + ',' + orientation.p[1] + ') ' +\n                // Rotate to line up with grid line tangent:\n                'rotate(' + orientation.angle + ')' +\n                // Adjust the baseline and indentation:\n                'translate(' + label.axis.labelpadding * direction + ',' + bbox.height * 0.3 + ')'\n            );\n\n        maxExtent = Math.max(maxExtent, bbox.width + label.axis.labelpadding);\n    });\n\n    labelJoin.exit().remove();\n\n    labelOrientation.maxExtent = maxExtent;\n    return labelOrientation;\n}\n\nfunction drawAxisTitles(gd, layer, trace, t, xa, ya, labelOrientationA, labelOrientationB) {\n    var a, b, xy, dxy;\n\n    a = 0.5 * (trace.a[0] + trace.a[trace.a.length - 1]);\n    b = trace.b[0];\n    xy = trace.ab2xy(a, b, true);\n    dxy = trace.dxyda_rough(a, b);\n    if(labelOrientationA.angle === undefined) {\n        Lib.extendFlat(labelOrientationA, orientText(trace, xa, ya, xy, trace.dxydb_rough(a, b)));\n    }\n    drawAxisTitle(gd, layer, trace, t, xy, dxy, trace.aaxis, xa, ya, labelOrientationA, 'a-title');\n\n    a = trace.a[0];\n    b = 0.5 * (trace.b[0] + trace.b[trace.b.length - 1]);\n    xy = trace.ab2xy(a, b, true);\n    dxy = trace.dxydb_rough(a, b);\n    if(labelOrientationB.angle === undefined) {\n        Lib.extendFlat(labelOrientationB, orientText(trace, xa, ya, xy, trace.dxyda_rough(a, b)));\n    }\n    drawAxisTitle(gd, layer, trace, t, xy, dxy, trace.baxis, xa, ya, labelOrientationB, 'b-title');\n}\n\nvar lineSpacing = alignmentConstants.LINE_SPACING;\nvar midShift = ((1 - alignmentConstants.MID_SHIFT) / lineSpacing) + 1;\n\nfunction drawAxisTitle(gd, layer, trace, t, xy, dxy, axis, xa, ya, labelOrientation, labelClass) {\n    var data = [];\n    if(axis.title.text) data.push(axis.title.text);\n    var titleJoin = layer.selectAll('text.' + labelClass).data(data);\n    var offset = labelOrientation.maxExtent;\n\n    titleJoin.enter().append('text')\n        .classed(labelClass, true);\n\n    // There's only one, but we'll do it as a join so it's updated nicely:\n    titleJoin.each(function() {\n        var orientation = orientText(trace, xa, ya, xy, dxy);\n\n        if(['start', 'both'].indexOf(axis.showticklabels) === -1) {\n            offset = 0;\n        }\n\n        // In addition to the size of the labels, add on some extra padding:\n        var titleSize = axis.title.font.size;\n        offset += titleSize + axis.title.offset;\n\n        var labelNorm = labelOrientation.angle + (labelOrientation.flip < 0 ? 180 : 0);\n        var angleDiff = (labelNorm - orientation.angle + 450) % 360;\n        var reverseTitle = angleDiff > 90 && angleDiff < 270;\n\n        var el = d3.select(this);\n\n        el.text(axis.title.text)\n            .call(svgTextUtils.convertToTspans, gd);\n\n        if(reverseTitle) {\n            offset = (-svgTextUtils.lineCount(el) + midShift) * lineSpacing * titleSize - offset;\n        }\n\n        el.attr('transform',\n                'translate(' + orientation.p[0] + ',' + orientation.p[1] + ') ' +\n                'rotate(' + orientation.angle + ') ' +\n                'translate(0,' + offset + ')'\n            )\n            .classed('user-select-none', true)\n            .attr('text-anchor', 'middle')\n            .call(Drawing.font, axis.title.font);\n    });\n\n    titleJoin.exit().remove();\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,YAAY;;AAEZ,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACtB,IAAIC,OAAO,GAAGD,OAAO,CAAC,0BAA0B,CAAC;AACjD,IAAIE,UAAU,GAAGF,OAAO,CAAC,gBAAgB,CAAC;AAC1C,IAAIG,QAAQ,GAAGH,OAAO,CAAC,YAAY,CAAC;AACpC,IAAII,UAAU,GAAGJ,OAAO,CAAC,eAAe,CAAC;AACzC,IAAIK,YAAY,GAAGL,OAAO,CAAC,0BAA0B,CAAC;AACtD,IAAIM,GAAG,GAAGN,OAAO,CAAC,WAAW,CAAC;AAC9B,IAAIO,kBAAkB,GAAGP,OAAO,CAAC,2BAA2B,CAAC;AAE7DQ,MAAM,CAACC,OAAO,GAAG,SAASC,IAAI,CAACC,EAAE,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,WAAW,EAAE;EAChE,IAAIC,EAAE,GAAGH,QAAQ,CAACI,KAAK;EACvB,IAAIC,EAAE,GAAGL,QAAQ,CAACM,KAAK;EACvB,IAAIC,UAAU,GAAGR,EAAE,CAACS,WAAW;EAC/B,IAAIC,SAAS,GAAGF,UAAU,CAACG,MAAM;EAEjChB,GAAG,CAACiB,eAAe,CAACT,WAAW,EAAED,QAAQ,EAAE,OAAO,CAAC,CAACW,IAAI,CAAC,UAASC,EAAE,EAAE;IAClE,IAAIC,SAAS,GAAG3B,EAAE,CAAC4B,MAAM,CAAC,IAAI,CAAC;IAC/B,IAAIC,GAAG,GAAGH,EAAE,CAAC,CAAC,CAAC;IACf,IAAII,KAAK,GAAGD,GAAG,CAACC,KAAK;IACrB,IAAIC,GAAG,GAAGD,KAAK,CAACE,KAAK;IACrB,IAAIC,GAAG,GAAGH,KAAK,CAACI,KAAK;IAErB,IAAIC,UAAU,GAAG5B,GAAG,CAAC6B,YAAY,CAACT,SAAS,EAAE,GAAG,EAAE,YAAY,CAAC;IAC/D,IAAIU,UAAU,GAAG9B,GAAG,CAAC6B,YAAY,CAACT,SAAS,EAAE,GAAG,EAAE,YAAY,CAAC;IAC/D,IAAIW,aAAa,GAAG/B,GAAG,CAAC6B,YAAY,CAACT,SAAS,EAAE,GAAG,EAAE,eAAe,CAAC;IACrE,IAAIY,UAAU,GAAGhC,GAAG,CAAC6B,YAAY,CAACT,SAAS,EAAE,GAAG,EAAE,YAAY,CAAC;IAE/DA,SAAS,CAACa,KAAK,CAAC,SAAS,EAAEV,KAAK,CAACW,OAAO,CAAC;IAEzCC,aAAa,CAAC1B,EAAE,EAAEE,EAAE,EAAEmB,UAAU,EAAEN,GAAG,EAAE,GAAG,EAAEA,GAAG,CAACY,UAAU,EAAE,IAAI,CAAC;IACjED,aAAa,CAAC1B,EAAE,EAAEE,EAAE,EAAEmB,UAAU,EAAEJ,GAAG,EAAE,GAAG,EAAEA,GAAG,CAACU,UAAU,EAAE,IAAI,CAAC;IACjED,aAAa,CAAC1B,EAAE,EAAEE,EAAE,EAAEiB,UAAU,EAAEJ,GAAG,EAAE,GAAG,EAAEA,GAAG,CAACa,eAAe,EAAE,IAAI,CAAC;IACtEF,aAAa,CAAC1B,EAAE,EAAEE,EAAE,EAAEiB,UAAU,EAAEF,GAAG,EAAE,GAAG,EAAEA,GAAG,CAACW,eAAe,EAAE,IAAI,CAAC;;IAEtE;IACA;IACAF,aAAa,CAAC1B,EAAE,EAAEE,EAAE,EAAEoB,aAAa,EAAEP,GAAG,EAAE,YAAY,EAAEA,GAAG,CAACc,cAAc,CAAC;IAC3EH,aAAa,CAAC1B,EAAE,EAAEE,EAAE,EAAEoB,aAAa,EAAEL,GAAG,EAAE,YAAY,EAAEA,GAAG,CAACY,cAAc,CAAC;IAE3E,IAAIC,iBAAiB,GAAGC,cAAc,CAACnC,EAAE,EAAEI,EAAE,EAAEE,EAAE,EAAEY,KAAK,EAAED,GAAG,EAAEU,UAAU,EAAER,GAAG,CAACiB,OAAO,EAAE,SAAS,CAAC;IAClG,IAAIC,iBAAiB,GAAGF,cAAc,CAACnC,EAAE,EAAEI,EAAE,EAAEE,EAAE,EAAEY,KAAK,EAAED,GAAG,EAAEU,UAAU,EAAEN,GAAG,CAACe,OAAO,EAAE,SAAS,CAAC;IAElGE,cAAc,CAACtC,EAAE,EAAE2B,UAAU,EAAET,KAAK,EAAED,GAAG,EAAEb,EAAE,EAAEE,EAAE,EAAE4B,iBAAiB,EAAEG,iBAAiB,CAAC;IAExFE,YAAY,CAACrB,KAAK,EAAED,GAAG,EAAEP,SAAS,EAAEN,EAAE,EAAEE,EAAE,CAAC;EAC/C,CAAC,CAAC;AACN,CAAC;AAED,SAASiC,YAAY,CAACrB,KAAK,EAAEsB,CAAC,EAAEC,KAAK,EAAEpC,KAAK,EAAEE,KAAK,EAAE;EACjD,IAAImC,GAAG,EAAEC,EAAE,EAAEC,EAAE,EAAEC,CAAC;EAElB,IAAIC,IAAI,GAAGL,KAAK,CAACzB,MAAM,CAAC,GAAG,GAAGE,KAAK,CAAC6B,WAAW,CAAC;EAEhD,IAAG,CAACD,IAAI,CAACE,IAAI,EAAE,EAAE;IACbF,IAAI,GAAGL,KAAK,CAACQ,MAAM,CAAC,UAAU,CAAC,CAC1BC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC;EACpC;EAEA,IAAIC,IAAI,GAAGxD,GAAG,CAAC6B,YAAY,CAACsB,IAAI,EAAE,MAAM,EAAE,gBAAgB,CAAC;EAC3D,IAAIM,QAAQ,GAAGZ,CAAC,CAACa,YAAY;EAC7B,IAAIC,IAAI,GAAG,EAAE;EAEb,KAAIT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGO,QAAQ,CAACG,MAAM,EAAEV,CAAC,EAAE,EAAE;IACjCH,GAAG,GAAGU,QAAQ,CAACP,CAAC,CAAC;IACjBF,EAAE,GAAGpD,UAAU,CAAC,EAAE,EAAEmD,GAAG,CAACc,CAAC,EAAEnD,KAAK,CAACoD,GAAG,CAAC;IACrCb,EAAE,GAAGrD,UAAU,CAAC,EAAE,EAAEmD,GAAG,CAACgB,CAAC,EAAEnD,KAAK,CAACkD,GAAG,CAAC;IACrCH,IAAI,CAACK,IAAI,CAACnE,QAAQ,CAACmD,EAAE,EAAEC,EAAE,EAAEF,GAAG,CAACkB,OAAO,CAAC,CAAC;EAC5C;;EAEA;EACA;EACA;EACA,IAAIC,YAAY,GAAG,GAAG,GAAGP,IAAI,CAACQ,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG;EAC7ChB,IAAI,CAACiB,IAAI,CAAC,IAAI,EAAE7C,KAAK,CAAC6B,WAAW,CAAC;EAClCI,IAAI,CAACY,IAAI,CAAC,GAAG,EAAEF,YAAY,CAAC;AAChC;AAEA,SAAS/B,aAAa,CAACzB,KAAK,EAAEE,KAAK,EAAEkC,KAAK,EAAEuB,IAAI,EAAEC,UAAU,EAAEC,SAAS,EAAE;EACrE,IAAIC,SAAS,GAAG,QAAQ,GAAGF,UAAU,GAAG,QAAQ;EAChD,IAAIG,QAAQ,GAAG3B,KAAK,CAAC4B,SAAS,CAAC,GAAG,GAAGF,SAAS,CAAC,CAACG,IAAI,CAACJ,SAAS,CAAC;EAE/DE,QAAQ,CAACG,KAAK,EAAE,CAACtB,MAAM,CAAC,MAAM,CAAC,CAC1BC,OAAO,CAACiB,SAAS,EAAE,IAAI,CAAC,CACxBvC,KAAK,CAAC,eAAe,EAAE,oBAAoB,CAAC;EAEjDwC,QAAQ,CAACvD,IAAI,CAAC,UAAS2D,CAAC,EAAE;IACtB,IAAIC,QAAQ,GAAGD,CAAC;IAChB,IAAIhB,CAAC,GAAGiB,QAAQ,CAACjB,CAAC;IAClB,IAAIE,CAAC,GAAGe,QAAQ,CAACf,CAAC;IAElB,IAAIf,EAAE,GAAGpD,UAAU,CAAC,EAAE,EAAEiE,CAAC,EAAEnD,KAAK,CAACoD,GAAG,CAAC;IACrC,IAAIb,EAAE,GAAGrD,UAAU,CAAC,EAAE,EAAEmE,CAAC,EAAEnD,KAAK,CAACkD,GAAG,CAAC;IAErC,IAAIN,IAAI,GAAG,GAAG,GAAG3D,QAAQ,CAACmD,EAAE,EAAEC,EAAE,EAAE6B,QAAQ,CAACC,SAAS,CAAC;IAErD,IAAIC,EAAE,GAAGvF,EAAE,CAAC4B,MAAM,CAAC,IAAI,CAAC;IAExB2D,EAAE,CAACZ,IAAI,CAAC,GAAG,EAAEZ,IAAI,CAAC,CACbvB,KAAK,CAAC,cAAc,EAAE6C,QAAQ,CAACG,KAAK,CAAC,CACrChD,KAAK,CAAC,QAAQ,EAAE6C,QAAQ,CAACI,KAAK,CAAC,CAC/BjD,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC;EAC9B,CAAC,CAAC;EAEFwC,QAAQ,CAACU,IAAI,EAAE,CAACC,MAAM,EAAE;AAC5B;AAEA,SAAS5C,cAAc,CAACnC,EAAE,EAAEK,KAAK,EAAEE,KAAK,EAAEW,KAAK,EAAEsB,CAAC,EAAEC,KAAK,EAAEuC,MAAM,EAAEC,UAAU,EAAE;EAC3E,IAAIC,SAAS,GAAGzC,KAAK,CAAC4B,SAAS,CAAC,OAAO,GAAGY,UAAU,CAAC,CAACX,IAAI,CAACU,MAAM,CAAC;EAElEE,SAAS,CAACX,KAAK,EAAE,CAACtB,MAAM,CAAC,MAAM,CAAC,CAC3BC,OAAO,CAAC+B,UAAU,EAAE,IAAI,CAAC;EAE9B,IAAIE,SAAS,GAAG,CAAC;EACjB,IAAIC,gBAAgB,GAAG,CAAC,CAAC;EAEzBF,SAAS,CAACrE,IAAI,CAAC,UAASwE,KAAK,EAAExC,CAAC,EAAE;IAC9B;IACA;IACA,IAAIyC,WAAW;IACf,IAAGD,KAAK,CAACrB,IAAI,CAACuB,SAAS,KAAK,MAAM,EAAE;MAChCD,WAAW,GAAG7F,UAAU,CAACyB,KAAK,EAAEb,KAAK,EAAEE,KAAK,EAAE8E,KAAK,CAACG,EAAE,EAAEH,KAAK,CAACI,GAAG,CAAC;IACtE,CAAC,MAAM;MACH,IAAIC,KAAK,GAAG,CAACL,KAAK,CAACrB,IAAI,CAACuB,SAAS,GAAG,KAAK,IAAII,IAAI,CAACC,EAAE,GAAG,KAAK;MAC5DN,WAAW,GAAG7F,UAAU,CAACyB,KAAK,EAAEb,KAAK,EAAEE,KAAK,EAAE8E,KAAK,CAACG,EAAE,EAAE,CAACG,IAAI,CAACE,GAAG,CAACH,KAAK,CAAC,EAAEC,IAAI,CAACG,GAAG,CAACJ,KAAK,CAAC,CAAC,CAAC;IAC/F;IAEA,IAAG,CAAC7C,CAAC,EAAE;MACH;MACAuC,gBAAgB,GAAG;QAACM,KAAK,EAAEJ,WAAW,CAACI,KAAK;QAAEK,IAAI,EAAET,WAAW,CAACS;MAAI,CAAC;IACzE;IACA,IAAIC,SAAS,GAAG,CAACX,KAAK,CAACY,SAAS,GAAG,CAAC,CAAC,GAAG,CAAC,IAAIX,WAAW,CAACS,IAAI;IAE7D,IAAIG,OAAO,GAAG9G,EAAE,CAAC4B,MAAM,CAAC,IAAI,CAAC,CACxB+C,IAAI,CAAC;MACF,aAAa,EAAEiC,SAAS,GAAG,CAAC,GAAG,OAAO,GAAG,KAAK;MAC9C,YAAY,EAAE;IAClB,CAAC,CAAC,CACDG,IAAI,CAAC7G,OAAO,CAAC8G,IAAI,EAAEf,KAAK,CAACe,IAAI,CAAC,CAC9BC,IAAI,CAAChB,KAAK,CAACgB,IAAI,CAAC,CAChBF,IAAI,CAACzG,YAAY,CAAC4G,eAAe,EAAEtG,EAAE,CAAC;IAE3C,IAAIuG,IAAI,GAAGjH,OAAO,CAACkH,IAAI,CAAC,IAAI,CAAC;IAE7BN,OAAO,CAACnC,IAAI,CAAC,WAAW;IAChB;IACA,YAAY,GAAGuB,WAAW,CAACmB,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGnB,WAAW,CAACmB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;IAC/D;IACA,SAAS,GAAGnB,WAAW,CAACI,KAAK,GAAG,GAAG;IACnC;IACA,YAAY,GAAGL,KAAK,CAACrB,IAAI,CAAC0C,YAAY,GAAGV,SAAS,GAAG,GAAG,GAAGO,IAAI,CAACI,MAAM,GAAG,GAAG,GAAG,GAAG,CACrF;IAELxB,SAAS,GAAGQ,IAAI,CAACiB,GAAG,CAACzB,SAAS,EAAEoB,IAAI,CAAC3B,KAAK,GAAGS,KAAK,CAACrB,IAAI,CAAC0C,YAAY,CAAC;EACzE,CAAC,CAAC;EAEFxB,SAAS,CAACJ,IAAI,EAAE,CAACC,MAAM,EAAE;EAEzBK,gBAAgB,CAACD,SAAS,GAAGA,SAAS;EACtC,OAAOC,gBAAgB;AAC3B;AAEA,SAAS9C,cAAc,CAACtC,EAAE,EAAEyC,KAAK,EAAEvB,KAAK,EAAEsB,CAAC,EAAEpC,EAAE,EAAEE,EAAE,EAAE4B,iBAAiB,EAAEG,iBAAiB,EAAE;EACvF,IAAIwE,CAAC,EAAEC,CAAC,EAAEtB,EAAE,EAAEC,GAAG;EAEjBoB,CAAC,GAAG,GAAG,IAAI3F,KAAK,CAAC2F,CAAC,CAAC,CAAC,CAAC,GAAG3F,KAAK,CAAC2F,CAAC,CAAC3F,KAAK,CAAC2F,CAAC,CAACtD,MAAM,GAAG,CAAC,CAAC,CAAC;EACpDuD,CAAC,GAAG5F,KAAK,CAAC4F,CAAC,CAAC,CAAC,CAAC;EACdtB,EAAE,GAAGtE,KAAK,CAAC6F,KAAK,CAACF,CAAC,EAAEC,CAAC,EAAE,IAAI,CAAC;EAC5BrB,GAAG,GAAGvE,KAAK,CAAC8F,WAAW,CAACH,CAAC,EAAEC,CAAC,CAAC;EAC7B,IAAG5E,iBAAiB,CAACwD,KAAK,KAAKuB,SAAS,EAAE;IACtCtH,GAAG,CAACuH,UAAU,CAAChF,iBAAiB,EAAEzC,UAAU,CAACyB,KAAK,EAAEd,EAAE,EAAEE,EAAE,EAAEkF,EAAE,EAAEtE,KAAK,CAACiG,WAAW,CAACN,CAAC,EAAEC,CAAC,CAAC,CAAC,CAAC;EAC7F;EACAM,aAAa,CAACpH,EAAE,EAAEyC,KAAK,EAAEvB,KAAK,EAAEsB,CAAC,EAAEgD,EAAE,EAAEC,GAAG,EAAEvE,KAAK,CAACE,KAAK,EAAEhB,EAAE,EAAEE,EAAE,EAAE4B,iBAAiB,EAAE,SAAS,CAAC;EAE9F2E,CAAC,GAAG3F,KAAK,CAAC2F,CAAC,CAAC,CAAC,CAAC;EACdC,CAAC,GAAG,GAAG,IAAI5F,KAAK,CAAC4F,CAAC,CAAC,CAAC,CAAC,GAAG5F,KAAK,CAAC4F,CAAC,CAAC5F,KAAK,CAAC4F,CAAC,CAACvD,MAAM,GAAG,CAAC,CAAC,CAAC;EACpDiC,EAAE,GAAGtE,KAAK,CAAC6F,KAAK,CAACF,CAAC,EAAEC,CAAC,EAAE,IAAI,CAAC;EAC5BrB,GAAG,GAAGvE,KAAK,CAACiG,WAAW,CAACN,CAAC,EAAEC,CAAC,CAAC;EAC7B,IAAGzE,iBAAiB,CAACqD,KAAK,KAAKuB,SAAS,EAAE;IACtCtH,GAAG,CAACuH,UAAU,CAAC7E,iBAAiB,EAAE5C,UAAU,CAACyB,KAAK,EAAEd,EAAE,EAAEE,EAAE,EAAEkF,EAAE,EAAEtE,KAAK,CAAC8F,WAAW,CAACH,CAAC,EAAEC,CAAC,CAAC,CAAC,CAAC;EAC7F;EACAM,aAAa,CAACpH,EAAE,EAAEyC,KAAK,EAAEvB,KAAK,EAAEsB,CAAC,EAAEgD,EAAE,EAAEC,GAAG,EAAEvE,KAAK,CAACI,KAAK,EAAElB,EAAE,EAAEE,EAAE,EAAE+B,iBAAiB,EAAE,SAAS,CAAC;AAClG;AAEA,IAAIgF,WAAW,GAAGzH,kBAAkB,CAAC0H,YAAY;AACjD,IAAIC,QAAQ,GAAI,CAAC,CAAC,GAAG3H,kBAAkB,CAAC4H,SAAS,IAAIH,WAAW,GAAI,CAAC;AAErE,SAASD,aAAa,CAACpH,EAAE,EAAEyC,KAAK,EAAEvB,KAAK,EAAEsB,CAAC,EAAEgD,EAAE,EAAEC,GAAG,EAAEzB,IAAI,EAAE5D,EAAE,EAAEE,EAAE,EAAE8E,gBAAgB,EAAEH,UAAU,EAAE;EAC7F,IAAIX,IAAI,GAAG,EAAE;EACb,IAAGN,IAAI,CAACyD,KAAK,CAACpB,IAAI,EAAE/B,IAAI,CAACX,IAAI,CAACK,IAAI,CAACyD,KAAK,CAACpB,IAAI,CAAC;EAC9C,IAAIqB,SAAS,GAAGjF,KAAK,CAAC4B,SAAS,CAAC,OAAO,GAAGY,UAAU,CAAC,CAACX,IAAI,CAACA,IAAI,CAAC;EAChE,IAAIqD,MAAM,GAAGvC,gBAAgB,CAACD,SAAS;EAEvCuC,SAAS,CAACnD,KAAK,EAAE,CAACtB,MAAM,CAAC,MAAM,CAAC,CAC3BC,OAAO,CAAC+B,UAAU,EAAE,IAAI,CAAC;;EAE9B;EACAyC,SAAS,CAAC7G,IAAI,CAAC,YAAW;IACtB,IAAIyE,WAAW,GAAG7F,UAAU,CAACyB,KAAK,EAAEd,EAAE,EAAEE,EAAE,EAAEkF,EAAE,EAAEC,GAAG,CAAC;IAEpD,IAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAACmC,OAAO,CAAC5D,IAAI,CAAC6D,cAAc,CAAC,KAAK,CAAC,CAAC,EAAE;MACtDF,MAAM,GAAG,CAAC;IACd;;IAEA;IACA,IAAIG,SAAS,GAAG9D,IAAI,CAACyD,KAAK,CAACrB,IAAI,CAACpD,IAAI;IACpC2E,MAAM,IAAIG,SAAS,GAAG9D,IAAI,CAACyD,KAAK,CAACE,MAAM;IAEvC,IAAII,SAAS,GAAG3C,gBAAgB,CAACM,KAAK,IAAIN,gBAAgB,CAACW,IAAI,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;IAC9E,IAAIiC,SAAS,GAAG,CAACD,SAAS,GAAGzC,WAAW,CAACI,KAAK,GAAG,GAAG,IAAI,GAAG;IAC3D,IAAIuC,YAAY,GAAGD,SAAS,GAAG,EAAE,IAAIA,SAAS,GAAG,GAAG;IAEpD,IAAIrD,EAAE,GAAGvF,EAAE,CAAC4B,MAAM,CAAC,IAAI,CAAC;IAExB2D,EAAE,CAAC0B,IAAI,CAACrC,IAAI,CAACyD,KAAK,CAACpB,IAAI,CAAC,CACnBF,IAAI,CAACzG,YAAY,CAAC4G,eAAe,EAAEtG,EAAE,CAAC;IAE3C,IAAGiI,YAAY,EAAE;MACbN,MAAM,GAAG,CAAC,CAACjI,YAAY,CAACwI,SAAS,CAACvD,EAAE,CAAC,GAAG4C,QAAQ,IAAIF,WAAW,GAAGS,SAAS,GAAGH,MAAM;IACxF;IAEAhD,EAAE,CAACZ,IAAI,CAAC,WAAW,EACX,YAAY,GAAGuB,WAAW,CAACmB,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGnB,WAAW,CAACmB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAC/D,SAAS,GAAGnB,WAAW,CAACI,KAAK,GAAG,IAAI,GACpC,cAAc,GAAGiC,MAAM,GAAG,GAAG,CAChC,CACAzE,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,CACjCa,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAC7BoC,IAAI,CAAC7G,OAAO,CAAC8G,IAAI,EAAEpC,IAAI,CAACyD,KAAK,CAACrB,IAAI,CAAC;EAC5C,CAAC,CAAC;EAEFsB,SAAS,CAAC5C,IAAI,EAAE,CAACC,MAAM,EAAE;AAC7B"},"metadata":{},"sourceType":"script","externalDependencies":[]}