{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar tinycolor = require('tinycolor2');\nvar rgba = require('color-normalize');\nvar Colorscale = require('../components/colorscale');\nvar colorDflt = require('../components/color/attributes').defaultLine;\nvar isArrayOrTypedArray = require('./array').isArrayOrTypedArray;\nvar colorDfltRgba = rgba(colorDflt);\nvar opacityDflt = 1;\nfunction calculateColor(colorIn, opacityIn) {\n  var colorOut = colorIn;\n  colorOut[3] *= opacityIn;\n  return colorOut;\n}\nfunction validateColor(colorIn) {\n  if (isNumeric(colorIn)) return colorDfltRgba;\n  var colorOut = rgba(colorIn);\n  return colorOut.length ? colorOut : colorDfltRgba;\n}\nfunction validateOpacity(opacityIn) {\n  return isNumeric(opacityIn) ? opacityIn : opacityDflt;\n}\nfunction formatColor(containerIn, opacityIn, len) {\n  var colorIn = containerIn.color;\n  var isArrayColorIn = isArrayOrTypedArray(colorIn);\n  var isArrayOpacityIn = isArrayOrTypedArray(opacityIn);\n  var colorOut = [];\n  var sclFunc, getColor, getOpacity, colori, opacityi;\n  if (containerIn.colorscale !== undefined) {\n    sclFunc = Colorscale.makeColorScaleFunc(Colorscale.extractScale(containerIn, {\n      cLetter: 'c'\n    }));\n  } else {\n    sclFunc = validateColor;\n  }\n  if (isArrayColorIn) {\n    getColor = function getColor(c, i) {\n      // FIXME: there is double work, considering that sclFunc does the opposite\n      return c[i] === undefined ? colorDfltRgba : rgba(sclFunc(c[i]));\n    };\n  } else getColor = validateColor;\n  if (isArrayOpacityIn) {\n    getOpacity = function getOpacity(o, i) {\n      return o[i] === undefined ? opacityDflt : validateOpacity(o[i]);\n    };\n  } else getOpacity = validateOpacity;\n  if (isArrayColorIn || isArrayOpacityIn) {\n    for (var i = 0; i < len; i++) {\n      colori = getColor(colorIn, i);\n      opacityi = getOpacity(opacityIn, i);\n      colorOut[i] = calculateColor(colori, opacityi);\n    }\n  } else colorOut = calculateColor(rgba(colorIn), opacityIn);\n  return colorOut;\n}\nfunction parseColorScale(cont, alpha) {\n  if (alpha === undefined) alpha = 1;\n  var colorscale = cont.reversescale ? Colorscale.flipScale(cont.colorscale) : cont.colorscale;\n  return colorscale.map(function (elem) {\n    var index = elem[0];\n    var color = tinycolor(elem[1]);\n    var rgb = color.toRgb();\n    return {\n      index: index,\n      rgb: [rgb.r, rgb.g, rgb.b, alpha]\n    };\n  });\n}\nmodule.exports = {\n  formatColor: formatColor,\n  parseColorScale: parseColorScale\n};","map":{"version":3,"names":["isNumeric","require","tinycolor","rgba","Colorscale","colorDflt","defaultLine","isArrayOrTypedArray","colorDfltRgba","opacityDflt","calculateColor","colorIn","opacityIn","colorOut","validateColor","length","validateOpacity","formatColor","containerIn","len","color","isArrayColorIn","isArrayOpacityIn","sclFunc","getColor","getOpacity","colori","opacityi","colorscale","undefined","makeColorScaleFunc","extractScale","cLetter","c","i","o","parseColorScale","cont","alpha","reversescale","flipScale","map","elem","index","rgb","toRgb","r","g","b","module","exports"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/plotly.js/src/lib/gl_format_color.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n\n'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar tinycolor = require('tinycolor2');\nvar rgba = require('color-normalize');\n\nvar Colorscale = require('../components/colorscale');\nvar colorDflt = require('../components/color/attributes').defaultLine;\nvar isArrayOrTypedArray = require('./array').isArrayOrTypedArray;\n\nvar colorDfltRgba = rgba(colorDflt);\nvar opacityDflt = 1;\n\nfunction calculateColor(colorIn, opacityIn) {\n    var colorOut = colorIn;\n    colorOut[3] *= opacityIn;\n    return colorOut;\n}\n\nfunction validateColor(colorIn) {\n    if(isNumeric(colorIn)) return colorDfltRgba;\n\n    var colorOut = rgba(colorIn);\n\n    return colorOut.length ? colorOut : colorDfltRgba;\n}\n\nfunction validateOpacity(opacityIn) {\n    return isNumeric(opacityIn) ? opacityIn : opacityDflt;\n}\n\nfunction formatColor(containerIn, opacityIn, len) {\n    var colorIn = containerIn.color;\n    var isArrayColorIn = isArrayOrTypedArray(colorIn);\n    var isArrayOpacityIn = isArrayOrTypedArray(opacityIn);\n    var colorOut = [];\n\n    var sclFunc, getColor, getOpacity, colori, opacityi;\n\n    if(containerIn.colorscale !== undefined) {\n        sclFunc = Colorscale.makeColorScaleFunc(\n            Colorscale.extractScale(containerIn, {cLetter: 'c'})\n        );\n    }\n    else {\n        sclFunc = validateColor;\n    }\n\n    if(isArrayColorIn) {\n        getColor = function(c, i) {\n            // FIXME: there is double work, considering that sclFunc does the opposite\n            return c[i] === undefined ? colorDfltRgba : rgba(sclFunc(c[i]));\n        };\n    }\n    else getColor = validateColor;\n\n    if(isArrayOpacityIn) {\n        getOpacity = function(o, i) {\n            return o[i] === undefined ? opacityDflt : validateOpacity(o[i]);\n        };\n    }\n    else getOpacity = validateOpacity;\n\n    if(isArrayColorIn || isArrayOpacityIn) {\n        for(var i = 0; i < len; i++) {\n            colori = getColor(colorIn, i);\n            opacityi = getOpacity(opacityIn, i);\n            colorOut[i] = calculateColor(colori, opacityi);\n        }\n    }\n    else colorOut = calculateColor(rgba(colorIn), opacityIn);\n\n    return colorOut;\n}\n\nfunction parseColorScale(cont, alpha) {\n    if(alpha === undefined) alpha = 1;\n\n    var colorscale = cont.reversescale ?\n        Colorscale.flipScale(cont.colorscale) :\n        cont.colorscale;\n\n    return colorscale.map(function(elem) {\n        var index = elem[0];\n        var color = tinycolor(elem[1]);\n        var rgb = color.toRgb();\n        return {\n            index: index,\n            rgb: [rgb.r, rgb.g, rgb.b, alpha]\n        };\n    });\n}\n\nmodule.exports = {\n    formatColor: formatColor,\n    parseColorScale: parseColorScale\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}