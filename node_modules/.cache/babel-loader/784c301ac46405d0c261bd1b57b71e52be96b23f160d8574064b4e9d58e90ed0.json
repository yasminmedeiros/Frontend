{"ast":null,"code":"\"use strict\";\n\nmodule.exports = permutationSign;\nvar BRUTE_FORCE_CUTOFF = 32;\nvar pool = require(\"typedarray-pool\");\nfunction permutationSign(p) {\n  var n = p.length;\n  if (n < BRUTE_FORCE_CUTOFF) {\n    //Use quadratic algorithm for small n\n    var sgn = 1;\n    for (var i = 0; i < n; ++i) {\n      for (var j = 0; j < i; ++j) {\n        if (p[i] < p[j]) {\n          sgn = -sgn;\n        } else if (p[i] === p[j]) {\n          return 0;\n        }\n      }\n    }\n    return sgn;\n  } else {\n    //Otherwise use linear time algorithm\n    var visited = pool.mallocUint8(n);\n    for (var i = 0; i < n; ++i) {\n      visited[i] = 0;\n    }\n    var sgn = 1;\n    for (var i = 0; i < n; ++i) {\n      if (!visited[i]) {\n        var count = 1;\n        visited[i] = 1;\n        for (var j = p[i]; j !== i; j = p[j]) {\n          if (visited[j]) {\n            pool.freeUint8(visited);\n            return 0;\n          }\n          count += 1;\n          visited[j] = 1;\n        }\n        if (!(count & 1)) {\n          sgn = -sgn;\n        }\n      }\n    }\n    pool.freeUint8(visited);\n    return sgn;\n  }\n}","map":{"version":3,"names":["module","exports","permutationSign","BRUTE_FORCE_CUTOFF","pool","require","p","n","length","sgn","i","j","visited","mallocUint8","count","freeUint8"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/permutation-parity/permutation-sign.js"],"sourcesContent":["\"use strict\"\n\nmodule.exports = permutationSign\n\nvar BRUTE_FORCE_CUTOFF = 32\n\nvar pool = require(\"typedarray-pool\")\n\nfunction permutationSign(p) {\n  var n = p.length\n  if(n < BRUTE_FORCE_CUTOFF) {\n    //Use quadratic algorithm for small n\n    var sgn = 1\n    for(var i=0; i<n; ++i) {\n      for(var j=0; j<i; ++j) {\n        if(p[i] < p[j]) {\n          sgn = -sgn\n        } else if(p[i] === p[j]) {\n          return 0\n        }\n      }\n    }\n    return sgn\n  } else {\n    //Otherwise use linear time algorithm\n    var visited = pool.mallocUint8(n)\n    for(var i=0; i<n; ++i) {\n      visited[i] = 0\n    }\n    var sgn = 1\n    for(var i=0; i<n; ++i) {\n      if(!visited[i]) {\n        var count = 1\n        visited[i] = 1\n        for(var j=p[i]; j!==i; j=p[j]) {\n          if(visited[j]) {\n            pool.freeUint8(visited)\n            return 0\n          }\n          count += 1\n          visited[j] = 1\n        }\n        if(!(count & 1)) {\n          sgn = -sgn\n        }\n      }\n    }\n    pool.freeUint8(visited)\n    return sgn\n  }\n}"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,OAAO,GAAGC,eAAe;AAEhC,IAAIC,kBAAkB,GAAG,EAAE;AAE3B,IAAIC,IAAI,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAErC,SAASH,eAAe,CAACI,CAAC,EAAE;EAC1B,IAAIC,CAAC,GAAGD,CAAC,CAACE,MAAM;EAChB,IAAGD,CAAC,GAAGJ,kBAAkB,EAAE;IACzB;IACA,IAAIM,GAAG,GAAG,CAAC;IACX,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACH,CAAC,EAAE,EAAEG,CAAC,EAAE;MACrB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACD,CAAC,EAAE,EAAEC,CAAC,EAAE;QACrB,IAAGL,CAAC,CAACI,CAAC,CAAC,GAAGJ,CAAC,CAACK,CAAC,CAAC,EAAE;UACdF,GAAG,GAAG,CAACA,GAAG;QACZ,CAAC,MAAM,IAAGH,CAAC,CAACI,CAAC,CAAC,KAAKJ,CAAC,CAACK,CAAC,CAAC,EAAE;UACvB,OAAO,CAAC;QACV;MACF;IACF;IACA,OAAOF,GAAG;EACZ,CAAC,MAAM;IACL;IACA,IAAIG,OAAO,GAAGR,IAAI,CAACS,WAAW,CAACN,CAAC,CAAC;IACjC,KAAI,IAAIG,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACH,CAAC,EAAE,EAAEG,CAAC,EAAE;MACrBE,OAAO,CAACF,CAAC,CAAC,GAAG,CAAC;IAChB;IACA,IAAID,GAAG,GAAG,CAAC;IACX,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACH,CAAC,EAAE,EAAEG,CAAC,EAAE;MACrB,IAAG,CAACE,OAAO,CAACF,CAAC,CAAC,EAAE;QACd,IAAII,KAAK,GAAG,CAAC;QACbF,OAAO,CAACF,CAAC,CAAC,GAAG,CAAC;QACd,KAAI,IAAIC,CAAC,GAACL,CAAC,CAACI,CAAC,CAAC,EAAEC,CAAC,KAAGD,CAAC,EAAEC,CAAC,GAACL,CAAC,CAACK,CAAC,CAAC,EAAE;UAC7B,IAAGC,OAAO,CAACD,CAAC,CAAC,EAAE;YACbP,IAAI,CAACW,SAAS,CAACH,OAAO,CAAC;YACvB,OAAO,CAAC;UACV;UACAE,KAAK,IAAI,CAAC;UACVF,OAAO,CAACD,CAAC,CAAC,GAAG,CAAC;QAChB;QACA,IAAG,EAAEG,KAAK,GAAG,CAAC,CAAC,EAAE;UACfL,GAAG,GAAG,CAACA,GAAG;QACZ;MACF;IACF;IACAL,IAAI,CAACW,SAAS,CAACH,OAAO,CAAC;IACvB,OAAOH,GAAG;EACZ;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}