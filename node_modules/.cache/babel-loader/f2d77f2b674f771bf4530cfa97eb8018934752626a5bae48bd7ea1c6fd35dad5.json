{"ast":null,"code":"/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar colorscaleDefaults = require('../../components/colorscale/defaults');\nvar attributes = require('./attributes');\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  var i, j;\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  var x = coerce('x');\n  var y = coerce('y');\n  var z = coerce('z');\n  if (!z || !z.length || (x ? x.length < 1 : false) || (y ? y.length < 1 : false)) {\n    traceOut.visible = false;\n    return;\n  }\n  traceOut._xlength = Array.isArray(x) && Lib.isArrayOrTypedArray(x[0]) ? z.length : z[0].length;\n  traceOut._ylength = z.length;\n  traceOut._objectOffset = [0, 0, 0];\n  var handleCalendarDefaults = Registry.getComponentMethod('calendars', 'handleTraceDefaults');\n  handleCalendarDefaults(traceIn, traceOut, ['x', 'y', 'z'], layout);\n  coerce('text');\n\n  // Coerce remaining properties\n  ['lighting.ambient', 'lighting.diffuse', 'lighting.specular', 'lighting.roughness', 'lighting.fresnel', 'lightposition.x', 'lightposition.y', 'lightposition.z', 'hidesurface', 'opacity'].forEach(function (x) {\n    coerce(x);\n  });\n  var surfaceColor = coerce('surfacecolor');\n  var dims = ['x', 'y', 'z'];\n  for (i = 0; i < 3; ++i) {\n    var contourDim = 'contours.' + dims[i];\n    var show = coerce(contourDim + '.show');\n    var highlight = coerce(contourDim + '.highlight');\n    if (show || highlight) {\n      for (j = 0; j < 3; ++j) {\n        coerce(contourDim + '.project.' + dims[j]);\n      }\n    }\n    if (show) {\n      coerce(contourDim + '.color');\n      coerce(contourDim + '.width');\n      coerce(contourDim + '.usecolormap');\n    }\n    if (highlight) {\n      coerce(contourDim + '.highlightcolor');\n      coerce(contourDim + '.highlightwidth');\n    }\n  }\n\n  // backward compatibility block\n  if (!surfaceColor) {\n    mapLegacy(traceIn, 'zmin', 'cmin');\n    mapLegacy(traceIn, 'zmax', 'cmax');\n    mapLegacy(traceIn, 'zauto', 'cauto');\n  }\n\n  // TODO if contours.?.usecolormap are false and hidesurface is true\n  // the colorbar shouldn't be shown by default\n\n  colorscaleDefaults(traceIn, traceOut, layout, coerce, {\n    prefix: '',\n    cLetter: 'c'\n  });\n\n  // disable 1D transforms - currently surface does NOT support column data like heatmap does\n  // you can use mesh3d for this use case, but not surface\n  traceOut._length = null;\n};\nfunction mapLegacy(traceIn, oldAttr, newAttr) {\n  if (oldAttr in traceIn && !(newAttr in traceIn)) {\n    traceIn[newAttr] = traceIn[oldAttr];\n  }\n}","map":{"version":3,"names":["Registry","require","Lib","colorscaleDefaults","attributes","module","exports","supplyDefaults","traceIn","traceOut","defaultColor","layout","i","j","coerce","attr","dflt","x","y","z","length","visible","_xlength","Array","isArray","isArrayOrTypedArray","_ylength","_objectOffset","handleCalendarDefaults","getComponentMethod","forEach","surfaceColor","dims","contourDim","show","highlight","mapLegacy","prefix","cLetter","_length","oldAttr","newAttr"],"sources":["/home/yasmin/Área de Trabalho/Frontend/node_modules/plotly.js/src/traces/surface/defaults.js"],"sourcesContent":["/**\n* Copyright 2012-2019, Plotly, Inc.\n* All rights reserved.\n*\n* This source code is licensed under the MIT license found in the\n* LICENSE file in the root directory of this source tree.\n*/\n\n'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\n\nvar colorscaleDefaults = require('../../components/colorscale/defaults');\nvar attributes = require('./attributes');\n\nmodule.exports = function supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    var i, j;\n\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var x = coerce('x');\n    var y = coerce('y');\n\n    var z = coerce('z');\n    if(!z || !z.length ||\n       (x ? (x.length < 1) : false) ||\n       (y ? (y.length < 1) : false)\n    ) {\n        traceOut.visible = false;\n        return;\n    }\n\n    traceOut._xlength = (Array.isArray(x) && Lib.isArrayOrTypedArray(x[0])) ? z.length : z[0].length;\n    traceOut._ylength = z.length;\n\n    traceOut._objectOffset = [0, 0, 0];\n\n    var handleCalendarDefaults = Registry.getComponentMethod('calendars', 'handleTraceDefaults');\n    handleCalendarDefaults(traceIn, traceOut, ['x', 'y', 'z'], layout);\n\n    coerce('text');\n\n    // Coerce remaining properties\n    [\n        'lighting.ambient',\n        'lighting.diffuse',\n        'lighting.specular',\n        'lighting.roughness',\n        'lighting.fresnel',\n        'lightposition.x',\n        'lightposition.y',\n        'lightposition.z',\n        'hidesurface',\n        'opacity'\n    ].forEach(function(x) { coerce(x); });\n\n    var surfaceColor = coerce('surfacecolor');\n\n    var dims = ['x', 'y', 'z'];\n    for(i = 0; i < 3; ++i) {\n\n        var contourDim = 'contours.' + dims[i];\n        var show = coerce(contourDim + '.show');\n        var highlight = coerce(contourDim + '.highlight');\n\n        if(show || highlight) {\n            for(j = 0; j < 3; ++j) {\n                coerce(contourDim + '.project.' + dims[j]);\n            }\n        }\n\n        if(show) {\n            coerce(contourDim + '.color');\n            coerce(contourDim + '.width');\n            coerce(contourDim + '.usecolormap');\n        }\n\n        if(highlight) {\n            coerce(contourDim + '.highlightcolor');\n            coerce(contourDim + '.highlightwidth');\n        }\n    }\n\n    // backward compatibility block\n    if(!surfaceColor) {\n        mapLegacy(traceIn, 'zmin', 'cmin');\n        mapLegacy(traceIn, 'zmax', 'cmax');\n        mapLegacy(traceIn, 'zauto', 'cauto');\n    }\n\n    // TODO if contours.?.usecolormap are false and hidesurface is true\n    // the colorbar shouldn't be shown by default\n\n    colorscaleDefaults(\n        traceIn, traceOut, layout, coerce, {prefix: '', cLetter: 'c'}\n    );\n\n    // disable 1D transforms - currently surface does NOT support column data like heatmap does\n    // you can use mesh3d for this use case, but not surface\n    traceOut._length = null;\n};\n\nfunction mapLegacy(traceIn, oldAttr, newAttr) {\n    if(oldAttr in traceIn && !(newAttr in traceIn)) {\n        traceIn[newAttr] = traceIn[oldAttr];\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}